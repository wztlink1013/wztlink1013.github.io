!function o(r,i,c){function a(t,e){if(!i[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=i[t]={exports:{}},r[t][0].call(n.exports,function(e){return a(r[t][1][e]||e)},n,n.exports,o,r,i,c)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)a(c[e]);return a}({1:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==r(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function t(){var n=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.scrollTop=0,this.setDoms(),window.addEventListener("resize",function(){return n.updateLayout()});var e=window.localStorage.getItem("lyrics:layout");e?this.updateLayout({type:e}):this.updateLayout(),this.arrowLeft.addEventListener("click",function(){var e=n.ctLeft.style.display,t=n.ctRight.style.display;"none"===e?n.updateLayout({type:"none"===t?"LC":"LCR"}):n.updateLayout({type:"none"===t?"C":"CR"})}),this.arrowRight.addEventListener("click",function(){var e=n.ctLeft.style.display;"none"===n.ctRight.style.display?n.updateLayout({type:"none"===e?"CR":"LCR"}):n.updateLayout({type:"none"===e?"C":"LC"})}),this.btnAppSider.addEventListener("click",function(){c(n.appSideGlass,{display:"block"}),c(n.appSideContent,{display:"block"}),n.scrollTop=document.documentElement.scrollTop||window.scrollY||0,c(n.container,{position:"fixed",top:"-".concat(n.scrollTop,"px")})}),this.appSideGlass.addEventListener("click",function(){c(n.appSideGlass,{display:"none"}),c(n.appSideContent,{display:"none"}),c(n.container,{position:"",top:""}),window.scrollTo(0,n.scrollTop)}),this.btnAppRight.addEventListener("click",function(){console.warn("[lyrics layout] some todo...")})}var e,n,o;return e=t,(n=[{key:"setDoms",value:function(){this.container=document.querySelector(".lyrics-container"),this.header=document.querySelector(".lyrics-header"),this.ctLeft=document.querySelector(".ct_left"),this.ctCenter=document.querySelector(".ct_center"),this.ctRight=document.querySelector(".ct_right"),this.headerPc=document.querySelector(".header_pc"),this.arrowLeft=document.querySelector("#arrow_left"),this.arrowRight=document.querySelector("#arrow_right"),this.headerApp=document.querySelector(".header_app"),this.btnAppSider=document.querySelector("#btn_app_sider"),this.btnAppRight=document.querySelector("#btn_app_right"),this.appSideGlass=document.querySelector("#app_side_glass"),this.appSideContent=document.querySelector("#app_side_content")}},{key:"updateLayout",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.forceUpdateDom,e=e.type,t=(t&&this.setDoms(),document.documentElement.clientWidth);e?t<560?e="small":t<780&&(e="center"):e=t<560?"small":t<780?"center":"largest",console.log("[layout layout] update divice layout: type -> ".concat(e,".")),this.layoutSetting(e)}},{key:"layoutSetting",value:function(e){["small","center","largest"].includes(e)?("small"===e&&(c(this.headerPc,{display:"none"}),c(this.headerApp,{display:"block"}),c(this.container,{width:"98%"}),c(this.ctLeft,{display:"none"}),c(this.ctCenter,{width:"100%"}),c(this.ctRight,{display:"none"})),"center"===e&&(c(this.headerPc,{display:"none"}),c(this.headerApp,{display:"block"}),c(this.container,{width:"96%"}),c(this.ctLeft,{display:"none"}),c(this.ctCenter,{width:"100%"}),c(this.ctRight,{display:"none"})),"largest"===e&&(c(this.headerPc,{display:"block"}),c(this.headerApp,{display:"none"}),c(this.container,{width:"95%"}),c(this.ctLeft,{width:"20%",display:"block"}),c(this.ctCenter,{width:"60%"}),c(this.ctRight,{width:"20%",display:"block"}))):["LCR","LC","C","CR"].includes(e)&&(window.localStorage.setItem("lyrics:layout",e),"LCR"===e&&(c(this.container,{width:"95%"}),c(this.ctLeft,{width:"20%",display:"block"}),c(this.ctCenter,{width:"60%"}),c(this.ctRight,{width:"20%",display:"block"})),"LC"===e&&(c(this.container,{width:"80%"}),c(this.ctLeft,{width:"25%",display:"block"}),c(this.ctCenter,{width:"75%"}),c(this.ctRight,{display:"none"})),"C"===e&&(c(this.container,{width:"75%"}),c(this.ctLeft,{display:"none"}),c(this.ctCenter,{width:"100%"}),c(this.ctRight,{display:"none"})),"CR"===e)&&(c(this.container,{width:"80%"}),c(this.ctLeft,{display:"none"}),c(this.ctCenter,{width:"75%"}),c(this.ctRight,{width:"25%",display:"block"})),this.header.setAttribute("data-layout",e)}}])&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();var c=function(e,t){for(var n in t)e.style[n]=t[n]}},{}],2:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==r(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,o;return t=e,(n=[{key:"init",value:function(){setTimeout(function(){for(var e=document.querySelectorAll(".artcle_list_item_img"),t=0;t<e.length;t++){var n=e[t].firstElementChild.width+5,o=e[t].firstElementChild.height+7;e[t].style.maxWidth=n+"px",e[t].style.maxHeight=o+"px"}},1e3)}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},{}],3:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==r(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,o;return t=e,(n=[{key:"init",value:function(){c(),a()}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();var c=function(){document.querySelectorAll(".category-list-item").forEach(function(e){var t,n,o=e.querySelector("a").nextElementSibling;o.innerHTML=" ["+o.innerHTML+"]",e.querySelector(".category-list-child")?(e.querySelector("ul").style.display="none",(t=document.createElement("span")).style.display="inline",t.style.cursor="pointer",t.innerHTML='<i class="fa fa-plus-square-o" aria-hidden="true"></i> ',e.insertBefore(t,e.querySelector("a")),(n=document.createElement("span")).style.display="none",n.style.cursor="pointer",n.innerHTML='<i class="fa fa-minus-square-o" aria-hidden="true"></i> ',e.insertBefore(n,e.querySelector("a")),t.addEventListener("click",function(){t.style.display="none",n.style.display="inline",e.querySelector("ul").style.display="block"}),n.addEventListener("click",function(){n.style.display="none",t.style.display="inline",e.querySelector("ul").style.display="none"})):((o=document.createElement("span")).style.display="inline",o.style.paddingLeft="15px",o.innerHTML="",e.insertBefore(o,e.querySelector("a")))})},a=function(){if("/archives/"===location.pathname)for(var e=location.search.substr(1).split("=")[1],t=document.querySelectorAll(".archive_article_list"),n=0;n<t.length;n++)for(var o=0;o<t[n].children.length;o++){var r=t[n].children[o].getAttribute("data-index");(r="dsal"===r?"blog":r)!==e&&(t[n].children[o].style.display="none")}}},{}],4:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==r(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.serverUrl="https://twikoo.wztlink1013.com/",globalThis.twikoo&&(console.log("[lyrics comment] twikoo version: ".concat(twikoo.version)),this.update())}var t,n,o;return t=e,(n=[{key:"update",value:function(){this.updateInit(),this.updateCount(),this.updateNewly()}},{key:"updateInit",value:function(){var e=document.querySelector("#comments"),t=document.querySelector("#go_comments");e?(t&&(t.style.display="block"),twikoo.init({envId:this.serverUrl,el:"#tcomment",onCommentLoaded:function(){console.log("[lyrics comment] twikoo: all comments loaded.")}}).then(function(){console.log("[lyrics comment] twikoo: mount finished.")})):t&&(t.style.display="none")}},{key:"updateCount",value:function(){var t=document.querySelector("#twikoo_comments");t&&twikoo.getCommentsCount({envId:this.serverUrl,urls:[location.pathname],includeReply:!1}).then(function(e){t.innerText=e[0].count}).catch(function(e){console.error(e)})}},{key:"updateNewly",value:function(){var u=document.querySelector(".hot_articles_item");u&&twikoo.getRecentComments({envId:this.serverUrl,pageSize:8,includeReply:!1}).then(function(e){var t=document.querySelector(".new_comments_loding");t&&t.parentElement&&t.parentElement.removeChild(t),u.innerHTML="";for(var n=0;n<8;n++){var o,r,i,c,a,l,s=e[n];s&&s.comment&&(o=s.comment,r=s.nick,i=s.url,c=s.avatar,a=s.relativeTime,s=s.id,(l=document.createElement("li")).innerHTML='\n              <div class="item_up">\n                <img src="'.concat(c,'" class="avatar">\n                <div class="nick_name">\n                  <span class="nick">').concat(r,'</span>\n                  <span class="time">').concat(a,'</span>\n                </div>\n              </div>\n              <div class="item_down">\n                <a href="').concat(i,"#").concat(s,'">').concat(o,"</a>\n              </div>\n              "),u.append(l))}}).catch(function(e){console.error(e)})}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},{}],5:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==r(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.goTopBtn=null,document.getElementById("go_top")&&(this.goTopBtn=document.getElementById("go_top"))}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.goTopBtn&&(c(this.goTopBtn),a(this.goTopBtn))}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();var c=function(e){window.onscroll=function(){e.style.display=0===o().top?"none":"block"}},a=function(e){var i=null;e.onclick=function(){cancelAnimationFrame(i);var n=+new Date,o=document.body.scrollTop||document.documentElement.scrollTop,r=o;i=requestAnimationFrame(function e(){var t=500-Math.max(0,n-+new Date+500);document.documentElement.scrollTop=document.body.scrollTop=t*-r/500+o,i=requestAnimationFrame(e),500==t&&cancelAnimationFrame(i)})}},o=function(){return{top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}}},{}],6:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==r(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,o;return t=e,(n=[{key:"init",value:function(){c()}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();var c=function(){var l=document.querySelector("#local-search-input");l&&(l.onclick=function(){l.disabled=!0,t(),this.onclick=null},l.onkeydown=function(){if(13==event.keyCode)return!1});function e(e,t,n){var r="<div id='local-search-close'>清空搜索</div>",i=document.getElementById(t),c=document.getElementById(n),a=new XMLHttpRequest;a.open("GET",e,!0),a.send(),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){i.disabled=!1,i.focus();for(var e=a.responseXML.documentElement.getElementsByTagName("entry"),t=[],n=e.length-1;0<=n;n--){var o=e[n];t.push({title:o.getElementsByTagName("title")[0].innerHTML,content:o.getElementsByTagName("content")[0].innerHTML,url:o.getElementsByTagName("url")[0].innerHTML})}i.addEventListener("input",function(){var e,u='<ul class="archive">',d=this.value.trim().toLowerCase().split(/[\s\-]+/);c.innerHTML="",this.value.trim().length<=0||(t.forEach(function(e){var n,o,r=!0,t=(e.title&&""!==e.title.trim()||(e.title="Untitled"),e.title.trim()),i=t.toLowerCase(),c=e.content.trim().replace(/<[^>]+>/g,""),a=c.toLowerCase(),e=e.url,l=-1,s=-1;""!==a?d.forEach(function(e,t){n=i.indexOf(e),l=a.indexOf(e),n<0&&l<0?r=!1:(l<0&&(l=0),0==t&&(s=l))}):r=!1,r&&(u+="<li><a target='_blank' href="+e+" ><span class='archive-title' >"+t+"</span>",0<=s&&(e=s+30,(e=0==(t=(t=s-10)<0?0:t)?40:e)>c.length&&(e=c.length),o=c.substr(t,200),d.forEach(function(e){var t=new RegExp(e,"gi");o=o.replace(t,'<em class="search-keyword">'+e+"</em>")}),u+='<p class="search-result">'+o+"...</p>"),u+="</a></li>")}),-1===(u+="</ul>").indexOf("<li>")?c.innerHTML=r+"<div class='local-search-empty'>没有找到你所要搜索的内容……</div>":c.innerHTML=r+u,e=c,document.querySelector("#local-search-close").onclick=function(){l.value="",e.innerHTML="",l.placeholder="请输入关键词",l.focus()})})}}}var t=function(){e("/search.xml","local-search-input","local-search-result")},n=document.querySelector("#search_btn");document.querySelector("#search_btn_pc")&&document.querySelector("#search_btn_pc").addEventListener("click",function(){"block"===document.querySelector(".search_box").style.display?document.querySelector(".search_box").style.display="none":document.querySelector(".search_box").style.display="block"}),n.addEventListener("click",function(){"block"===document.querySelector(".search_box").style.display?document.querySelector(".search_box").style.display="none":document.querySelector(".search_box").style.display="block"}),document.querySelector(".search_close").addEventListener("click",function(){"block"===document.querySelector(".search_box").style.display?document.querySelector(".search_box").style.display="none":document.querySelector(".search_box").style.display="block"})}},{}],7:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==r(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,o;return t=e,(n=[{key:"init",value:function(){c()}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();var c=function(){function s(e,t){if("string"==typeof t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;if(n)for(;e;){if(n.bind(e)(t))return e;e=e.parentElement}}else for(;e;){if(e==t)return e;e=e.parentElement}return!1}window.needShareButton=function(e,t){var n,a=this;for(n in a.elem=e||"need-share-button",a.getTitle=function(){var e;if(document.querySelector){if(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))return e.getAttribute("content");if(e=document.querySelector("title"))return e.innerText}return document.title},a.getImage=function(){var e;return document.querySelector&&(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):""},a.getDescription=function(){var e;return document.querySelector?(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):"":(e=document.getElementsByTagName("meta").namedItem("description"))?e.getAttribute("content"):""},a.share={weibo:function(e){e=l(e),e="http://v.t.sina.com.cn/share/share.php?title="+encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url)+"&pic="+encodeURIComponent(e.image);a.popup(e)},wechat:function(e){var t=l(e),t="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data="+encodeURIComponent(t.url),n=e.querySelector(".need-share-button_dropdown"),o=n.getElementsByClassName("need-share-wechat-code-image")[0],r=n.getElementsByClassName("need-share-loader")[0];o?o.remove():r?r.remove():((r=document.createElement("div")).className="need-share-loader",r.innerText="loading...",r.title="loading qrcode...",(o=document.createElement("img")).src=t,o.alt="Create qrcode failed!",o.setAttribute("class","need-share-wechat-code-image"),o.onload=o.onerror=function(){r.isConnected&&(r.remove(),n.appendChild(o))},n.appendChild(r))},douban:function(e){e=l(e),e="https://www.douban.com/share/service?name="+encodeURIComponent(e.title)+"&href="+encodeURIComponent(e.url)+"&image="+encodeURIComponent(e.image);a.popup(e)},qqzone:function(e){e=l(e),e="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url)+"&pics="+encodeURIComponent(e.image)+"&desc="+encodeURIComponent(e.description);a.popup(e)},renren:function(e){e=l(e),e="http://widget.renren.com/dialog/share?title="+encodeURIComponent(e.title)+"&resourceUrl="+encodeURIComponent(e.url)+"&pic="+encodeURIComponent(e.image)+"&description="+encodeURIComponent(e.description);a.popup(e)},mailto:function(e){e=l(e),e="mailto:?subject="+encodeURIComponent(e.title)+"&body=Thought you might enjoy reading this: "+encodeURIComponent(e.url)+" - "+encodeURIComponent(e.description);window.location.href=e},twitter:function(e){var e=l(e),t=e.protocol+"twitter.com/intent/tweet?text=";t+=encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url),a.popup(t)},pinterest:function(e){var e=l(e),t=e.protocol+"pinterest.com/pin/create/bookmarklet/?is_video=false",t=(t=(t+="&media="+encodeURIComponent(e.image))+("&url="+encodeURIComponent(e.url)))+("&description="+encodeURIComponent(e.title));a.popup(t)},facebook:function(e){var e=l(e),t=e.protocol+"www.facebook.com/share.php?",t=(t+="u="+encodeURIComponent(e.url))+("&title="+encodeURIComponent(e.title));a.popup(t)},googleplus:function(e){var e=l(e),t=e.protocol+"plus.google.com/share?";t+="url="+encodeURIComponent(e.url),a.popup(t)},reddit:function(e){var e=l(e),t=e.protocol+"www.reddit.com/submit?",t=(t+="url="+encodeURIComponent(e.url))+("&title="+encodeURIComponent(e.title));a.popup(t)},delicious:function(e){var e=l(e),t=e.protocol+"del.icio.us/post?",t=(t=(t+="url="+encodeURIComponent(e.url))+("&title="+encodeURIComponent(e.title)))+("&notes="+encodeURIComponent(e.description));a.popup(t)},stumbleupon:function(e){var e=l(e),t=e.protocol+"www.stumbleupon.com/submit?",t=(t+="url="+encodeURIComponent(e.url))+("&title="+encodeURIComponent(e.title));a.popup(t)},linkedin:function(e){var e=l(e),t=e.protocol+"www.linkedin.com/shareArticle?mini=true",t=(t=(t+="&url="+encodeURIComponent(e.url))+("&title="+encodeURIComponent(e.title)))+("&source="+encodeURIComponent(e.source));a.popup(t)},posterous:function(e){var e=l(e),t=e.protocol+"posterous.com/share?";t+="linkto="+encodeURIComponent(e.url),a.popup(t)},tumblr:function(e){var e=l(e),t=e.protocol+"www.tumblr.com/share?v=3",t=(t+="&u="+encodeURIComponent(e.url))+("&t="+encodeURIComponent(e.title));a.popup(t)},evernote:function(e){var e=l(e),t=e.protocol+"www.evernote.com/clip.action?",t=(t+="url="+encodeURIComponent(e.url))+("&title="+encodeURIComponent(e.title));a.popup(t)},friendfeed:function(e){var e=l(e),t=e.protocol+"www.friendfeed.com/share?",t=(t+="url="+encodeURIComponent(e.url))+("&title="+encodeURIComponent(e.title));a.popup(t)},vkontakte:function(e){var e=l(e),t=e.protocol+"vkontakte.ru/share.php?",t=(t=(t=(t+="url="+encodeURIComponent(e.url))+("&title="+encodeURIComponent(e.title)))+("&description="+encodeURIComponent(e.description)))+("&image="+encodeURIComponent(e.image));a.popup(t+="&noparse=true")},odnoklassniki:function(e){var e=l(e),t=e.protocol+"www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1",t=(t+="&st.comments="+encodeURIComponent(e.description))+("&st._surl="+encodeURIComponent(e.url));a.popup(t)}},a.popup=function(e){var t,n=window.innerWidth||document.documentElement.clientWidth||screen.width,o=window.innerHeight||document.documentElement.clientHeight||screen.height,o=(n=n<600&&o<500?(t=screen.width/2-300,screen.height/2-250):(t=n/2-300+(null!=window.screenLeft?window.screenLeft:screen.left),o/2-250+(null!=window.screenTop?window.screenTop:screen.top)),window.open(e,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600, height=500, top="+n+", left="+t));window.focus&&o.focus()},a.options={iconStyle:"default",boxForm:"horizontal",position:"bottomCenter",protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",networks:"Twitter,Facebook,Reddit,Linkedin,Tumblr,Pinterest,Weibo,Wechat,Douban,QQZone,Mailto",icons:["fa fa-twitter","fa fa-facebook","fa fa-reddit-alien","fa fa-linkedin","fa fa-tumblr","fa fa-pinterest","fa fa-weibo","fa fa-weixin","9","fa fa-qq","fa fa-envelope-o"]},t)a.options[n]=t[n];function l(e){var t,n,o,r,i={};for(t in a.options)i[t]=a.options[t];for(n in i.url=a.options.url||window.location.href,i.title=a.options.title||a.getTitle(),i.image=a.options.image||a.getImage(),i.description=a.options.description||a.getDescription(),e.dataset)n.match(/share/)&&(o=n.replace(/share/,"")).length&&(o=o.charAt(0).toLowerCase()+o.slice(1),r=e.dataset[n],"networks"===o?r=r.toLowerCase().split(","):"url"===o&&r&&"/"===r[0]&&(r=location.origin+r),i[o]=r);return i}function o(t){var e=document.createElement("span");if(e.className="need-share-button_dropdown",!t.querySelector(".need-share-button_dropdown")){var n=l(t),o=("box"==n.iconStyle&&"horizontal"==n.boxForm?e.className+=" need-share-button_dropdown-box-horizontal":"box"==n.iconStyle&&"vertical"==n.boxForm&&(e.className+=" need-share-button_dropdown-box-vertical"),setTimeout(function(){switch(n.position){case"topLeft":e.className+=" need-share-button_dropdown-top-left";break;case"topRight":e.className+=" need-share-button_dropdown-top-right";break;case"topCenter":e.className+=" need-share-button_dropdown-top-center",e.style.marginLeft=-e.offsetWidth/2+"px";break;case"middleLeft":e.className+=" need-share-button_dropdown-middle-left",e.style.marginTop=-e.offsetHeight/2+"px";break;case"middleRight":e.className+=" need-share-button_dropdown-middle-right",e.style.marginTop=-e.offsetHeight/2+"px";break;case"bottomLeft":e.className+=" need-share-button_dropdown-bottom-left";break;case"bottomRight":e.className+=" need-share-button_dropdown-bottom-right";break;default:e.className+=" need-share-button_dropdown-bottom-center",e.style.marginLeft=-e.offsetWidth/2+"px"}},1),"default"==n.iconStyle?"need-share-button_link need-share-button_":"need-share-button_link-"+n.iconStyle+" need-share-button_link need-share-button_"),r=0;for(c in n.networks){var i=document.createElement("span"),c=n.networks[c];i.className=o+c,console.log(n.icons.length),i.className+=" "+n.icons[r],i.dataset.network=c,i.title=c,e.appendChild(i),r++}e.addEventListener("click",function(e){if(s(e.target,".need-share-button_link"))return e.preventDefault(),e.stopPropagation(),a.share[e.target.dataset.network](t),!1}),t.appendChild(e)}}a.options.networks=a.options.networks.toLowerCase().split(",");e="string"==typeof e?document.querySelector(e):e;e&&e.classList.contains("need-share-panel")?o(e):document.addEventListener("click",function(e){var t,n=document.querySelector(".need-share-button-opened");s(e.target,".need-share-button-opened")||(n?(n.classList.remove("need-share-button-opened"),n.querySelector(".need-share-wechat-code-image")&&n.querySelector(".need-share-wechat-code-image").remove()):(t=s(e.target,a.elem))&&!t.classList.contains("need-share-button-opened")&&(o(t),setTimeout(function(){t.classList.add("need-share-button-opened")},1)))})},new needShareButton(".need-share-button")}},{}],8:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==r(e)?e:String(e)}(o.key),o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.tocContainer=document.querySelector(".toc_container"),this.tocBtn=document.querySelector("#toc_btn")}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this;this.tocBtn.addEventListener("click",function(){"none"!==e.tocContainer.style.display&&"block"===e.tocContainer.style.display?e.tocContainer.style.display="none":e.tocContainer.style.display="block"})}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},{}],9:[function(e,t,n){"use strict";var r=o(e("./_common/Layout.js")),i=o(e("./_part/Toc.js")),c=o(e("./_part/Comment.js")),a=o(e("./_part/GoTop.js")),l=o(e("./_part/Search.js")),s=o(e("./_part/Share.js")),u=o(e("./_part/Category.js")),d=o(e("./_part/ArticleListImg"));function o(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==p(e)?e:String(e)}(o.key),o)}}var f=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");console.log("[lyrics] mian: ",this),this.goTop=new a.default,this.toc=new i.default,this.search=new l.default,this.comment=new c.default,this.share=new s.default,this.categories=new u.default,this.layout=new r.default,this.articleListImg=new d.default,this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.goTop.init(),this.toc.init(),this.search.init(),this.share.init(),this.categories.init(),this.articleListImg.init(),this.initTyped(),this.initPjax(),this.initLeaves(),this.initYuqueImageBed(),this.initHljs(!0)}},{key:"initTyped",value:function(){globalThis.Typed&&document.querySelector(".blogger-descript")&&new Typed(".blogger-descript",{strings:["什么都不舍弃，什么也改变不了。"],startDelay:0,typeSpeed:200,backSpeed:100,loop:!0,loopCount:1,showCursor:!0,shuffle:!1})}},{key:"initPjax",value:function(){var e=this;globalThis.Pjax&&(new Pjax({selectors:[".ct_center","#lyrics-info"],elements:[".btn_link .btn_link_a",".prev-next-page .prev-page a",".prev-next-page .next-page a",".article_list .artcle_list_item .item-title",".article_list .artcle_list_item .artcle_list_item_img",".article_list .artcle_list_item .item-read-more",".prev_next .prev_next_right a",".prev_next .prev_next_left a"].join(", "),history:!0,pushState:!0,scrollRestoration:!0,cacheBust:!1}),document.addEventListener("pjax:complete",function(){e.layout.updateLayout({forceUpdateDom:!0,type:window.localStorage.getItem("lyrics:layout")}),e.initHljs(),e.comment.update(),e.setBaidutongji(!0)}))}},{key:"initLeaves",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,t=document.querySelector("#leaves");if(t)for(var n=0;n<e;n++)t.appendChild(document.createElement("i"))}},{key:"initYuqueImageBed",value:function(){var e=this,t=document.getElementById("lyrics");t&&Promise.all(Array.from(t.querySelectorAll("img")||[]).filter(function(e){return/^(https:\/\/cdn.nlark.com\/yuque)/.test(e.src||"")}).map(function(o){return new Promise(function(e,t){o.setAttribute("referrerpolicy","no-referrer");var n=new Image;n.src=o.src,n.onload=function(){e(o)}})})).then(function(){console.log("[lyrics yuque] set meta referrer success."),e.setBaidutongji()}).catch(function(){console.warn("[lyrics yuque] set meta referrer error.")})}},{key:"initHljs",value:function(e){globalThis.hljs&&(e&&console.info("[lyrics highlight] version: ".concat(hljs.versionString)),e=this.getCurrentDOMInfo().dInfo)&&"post"===e&&hljs.highlightAll()}},{key:"getCurrentDOMInfo",value:function(){var e=document.getElementById("lyrics-info");return{dInfo:e&&e.dataset.type?e.dataset.type:""}}},{key:"setBaidutongji",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t="https://hm.baidu.com/hm.js?bc6ef915ac17bd07ab8e4012329e8fa1",n=document.querySelector('meta[name="referrer"]'),e=(n&&n.setAttribute("content","strict-origin-when-cross-origin"),e&&(n=Array.from(document.querySelectorAll('head script[src="'.concat(t,'"]'))||[]))&&n.length&&n.forEach(function(e){return e.remove()}),document.createElement("script")),n=(e.src=t,document.getElementsByTagName("script")[0]);n.parentNode.insertBefore(e,n)}}])&&m(t.prototype,n),o&&m(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();$(function(){new f})},{"./_common/Layout.js":1,"./_part/ArticleListImg":2,"./_part/Category.js":3,"./_part/Comment.js":4,"./_part/GoTop.js":5,"./_part/Search.js":6,"./_part/Share.js":7,"./_part/Toc.js":8}]},{},[9]);