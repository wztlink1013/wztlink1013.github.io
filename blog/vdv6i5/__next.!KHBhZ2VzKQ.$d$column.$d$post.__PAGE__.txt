1:"$Sreact.fragment"
2:I[99897,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"MotionPreset"]
3:I[22016,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],""]
4:I[85437,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"Image"]
5:I[48347,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"default"]
6:I[72436,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"Separator"]
e:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7340adf74ff47ec0.js"],"OutletBoundary"]
f:"$Sreact.suspense"
0:{"buildId":"hLfS34bpTuYWmElZMPic-","rsc":["$","$1","c",{"children":[["$","section",null,{"className":"relative","children":["$","$L2",null,{"fade":true,"blur":true,"transition":{"duration":0.5},"delay":0.1,"className":"relative overflow-hidden border-y xl:flex","children":[["$","div",null,{"className":"m-6 w-full flex-1 bg-[radial-gradient(circle_at_center,color-mix(in_oklab,var(--primary)_15%,transparent)_2px,transparent_2px)] bg-size-[18px_18px] max-xl:hidden"}],["$","div",null,{"className":"mx-auto w-full max-w-6xl flex-none space-y-8 px-4 py-8 min-[1158px]:border-x sm:px-6 sm:py-12 lg:px-8","children":[["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"transition":{"duration":0.4},"children":["$","$L3",null,{"href":"/blog","className":"text-muted-foreground hover:text-foreground inline-flex items-center gap-2 text-sm transition-colors","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left h-4 w-4","aria-hidden":"true","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}],"返回","技术博客"]}]}],["$","article",null,{"className":"mx-auto max-w-4xl","children":[["$","header",null,{"className":"mb-8 space-y-6","children":[["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"up","offset":50},"delay":0.2,"transition":{"duration":0.6},"children":["$","div",null,{"className":"relative aspect-video overflow-hidden rounded-xl","children":["$","$L4",null,{"src":"https://cdn.nlark.com/yuque/0/2022/png/1484158/1665821781199-5e03f0f2-b6c3-405e-a5e9-6071e66be32d.png","alt":"Vue系统学习（一）特性和选项式API","fill":true,"className":"object-cover","unoptimized":true}]}]}],["$","$L2",null,{"delay":0.3,"transition":{"duration":0.5},"children":["$","h1",null,{"className":"text-2xl font-bold tracking-tight sm:text-3xl md:text-4xl","children":["$","$L5",null,{"text":"Vue系统学习（一）特性和选项式API","delay":30,"animateBy":"words","direction":"bottom"}]}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"delay":0.4,"transition":{"duration":0.5},"children":["$","p",null,{"className":"text-muted-foreground text-lg","children":"官方文档：Vue.js一、Virtual DOM, Render, diff利用JavaScript脚本操作DOM的行为是性能损耗的大头，故产生虚拟DOM的概念。初始化在内存中得到相应的虚拟DOM树，然后将该结果一次性作用于真实DOM，逻辑层的变动导致部分视图层的改变这渲染逻辑也是经过虚拟DO..."}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"delay":0.5,"transition":{"duration":0.5},"children":["$","div",null,{"className":"text-muted-foreground flex flex-wrap items-center gap-4 text-sm","children":[["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-calendar h-4 w-4","aria-hidden":"true","children":[["$","path","1cmpym",{"d":"M8 2v4"}],["$","path","4m81vk",{"d":"M16 2v4"}],["$","rect","1hopcy",{"width":"18","height":"18","x":"3","y":"4","rx":"2"}],["$","path","8toen8",{"d":"M3 10h18"}],"$undefined"]}],["$","span",null,{"children":"2022年10月15日"}]]}],["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-clock h-4 w-4","aria-hidden":"true","children":[["$","path","mmk7yg",{"d":"M12 6v6l4 2"}],["$","circle","1mglay",{"cx":"12","cy":"12","r":"10"}],"$undefined"]}],["$","span",null,{"children":"2.1千字"}]]}],["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-eye h-4 w-4","aria-hidden":"true","children":[["$","path","1nclc0",{"d":"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["$","circle","1v7zrd",{"cx":"12","cy":"12","r":"3"}],"$undefined"]}],["$","span",null,{"children":[16," 阅读"]}]]}],false,false]}]}],false]}],["$","$L2",null,{"delay":0.6,"fade":true,"blur":true,"transition":{"duration":0.6},"className":"-mx-4 sm:-mx-6 lg:-mx-8","children":["$","$L6",null,{}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"up","offset":50},"delay":0.7,"transition":{"duration":0.6},"children":"$L7"}],"$L8","$L9"]}]]}],"$La"]}]}],["$Lb"],"$Lc"]}],"loading":null,"isPartial":false}
d:T6379,<!doctype html><div class="lake-content" typography="classic"><div data-type="info" class="ne-alert"><p id="u213a317a" class="ne-p"><span class="ne-text">官方文档：</span><a href="https://cn.vuejs.org/" data-href="https://cn.vuejs.org/" class="ne-link"><span class="ne-text">Vue.js</span></a></p></div><h3 id="zqqnT"><span class="ne-text">一、Virtual DOM, Render, diff</span></h3><ul class="ne-ul"><li id="ufd5344e6" data-lake-index-type="0"><span class="ne-text">利用JavaScript脚本操作DOM的行为是性能损耗的大头，故产生虚拟DOM的概念。初始化在内存中得到相应的虚拟DOM树，然后将该结果一次性作用于真实DOM，逻辑层的变动导致部分视图层的改变这渲染逻辑也是经过虚拟DOM加上diff得到一次性结果然后作用于真实DOM</span></li><li id="u7438f098" data-lake-index-type="0"><span class="ne-text">结构渲染方面，vue文件中的template利用vue的render函数以及AST语法树解析来生成虚拟DOM树对象</span></li><li id="uf4947f42" data-lake-index-type="0"><span class="ne-text">当视图发生更新，需要比对更新前以及更新后的虚拟DOM差异，这里面的比对的逻辑叫做diff算法，最终diff出来的结果一次性只更新需要更新的真实DOM节点</span></li></ul><h3 id="cFw8R"><span class="ne-text"> 二、globalProperties</span></h3><ul class="ne-ul"><li id="u0b9a12c4" data-lake-index-type="0"><span class="ne-text">响应式变量是利用ES6的Proxy（Vue3）来实现的</span></li><li id="u900e3eb9" data-lake-index-type="0"><span class="ne-text">计算属性和侦听器</span></li></ul><ul class="ne-list-wrap"><ul ne-level="1" class="ne-ul"><li id="u0434c8d3" data-lake-index-type="0"><span class="ne-text">计算属性和方法之间，计算方法具备缓存能力，而方法不具备</span></li><li id="u436278c9" data-lake-index-type="0"><span class="ne-text">默认计算属性是只读的，不过可以对具体计算属性写成get set的形式组织</span></li><li id="u040a81d0" data-lake-index-type="0"><span class="ne-text">计算属性适合：多个值影响一个值的应用</span></li><li id="u3525bad4" data-lake-index-type="0"><span class="ne-text">侦听器适合：一个值影响多个值的应用</span></li><li id="u00bd3e9a" data-lake-index-type="0"><span class="ne-text">侦听器支持异步，计算属性不支持</span></li></ul></ul><ul class="ne-ul"><li id="u56bdf983" data-lake-index-type="0"><span class="ne-text">属性：</span><code class="ne-code"><span class="ne-text">name</span></code><span class="ne-text">, </span><code class="ne-code"><span class="ne-text">props</span></code><span class="ne-text">, </span><code class="ne-code"><span class="ne-text">emits</span></code><span class="ne-text">, </span><code class="ne-code"><span class="ne-text">components</span></code><span class="ne-text">, </span><code class="ne-code"><span class="ne-text">directives</span></code><span class="ne-text">, </span><code class="ne-code"><span class="ne-text">computed</span></code><span class="ne-text">, </span><code class="ne-code"><span class="ne-text">methods</span></code><span class="ne-text">, </span><code class="ne-code"><span class="ne-text">watch</span></code></li><li id="uc2995368" data-lake-index-type="0"><span class="ne-text">方法：</span><code class="ne-code"><span class="ne-text">data</span></code><span class="ne-text">, </span><code class="ne-code"><span class="ne-text">mounted</span></code><span class="ne-text">, </span></li></ul><pre data-language="html" id="i52cS" class="ne-codeblock language-html"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;title&gt;learn vue&lt;/title&gt;
    &lt;script src=&quot;./vue.global.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
      &lt;div&gt;parent count: {{count}}&lt;/div&gt;
      &lt;my-head
        :title=&quot;headerTitle&quot;
        @custom-event=&quot;handleCustomEvent&quot;
        v-model=&quot;count&quot;
        &gt;&lt;/my-head&gt;
    &lt;/div&gt;
    &lt;script&gt;
      let app = Vue.createApp({
        data() {
          return {
            headerTitle: &quot;header-title&quot;,
            count: &quot;1&quot;,
          };
        },
        methods: {
          handleCustomEvent(data) {
            console.log(data);
          },
        },
      });
      // local component
      const HeaderLocalComponent = {
        template: `header-local-component`,
      };
      // global component
      app.component(&quot;my-head&quot;, {
        props: {
          title: {
            type: String,
          },
          modelValue: {
            type: String,
          },
        }, // or props: [&quot;title&quot;]
        emits: [&quot;custom-event&quot;, &quot;update:modelValue&quot;],
        template: `
          &lt;header&gt;
            &lt;h1&gt;{{headTitle}}&lt;/h1&gt;
            &lt;p&gt;message: {{message}}&lt;/p&gt;
            &lt;p&gt;reverse message: {{reverseMessage}}&lt;/p&gt;
            &lt;header-local-component&gt;&lt;/header-local-component&gt;
            &lt;input type=&quot;text&quot; :value=&quot;modelValue&quot; @input=&quot;handleInput&quot; /&gt;
          &lt;/header&gt;
        `,
        components: {
          HeaderLocalComponent,
        },
        data() {
          return {
            message: &quot;hello world&quot;,
            headTitle: this.title, // props data -&gt; responsive...
          };
        },
        mounted() {
          setTimeout(() =&gt; {
            this.message = &quot;hello world2&quot;;
            this.headTitle = &quot;head change self title...&quot;;
            this.$emit(&quot;custom-event&quot;, {
              info: &quot;child to parent.&quot;,
            });
          }, 2000);
        },
        computed: {
          // reverseMessage() {
          //   return this.message.split(&quot; &quot;).reverse().join(&quot; &quot;);
          // },
          reverseMessage: {
            get() {
              return this.message.split(&quot; &quot;).reverse().join(&quot; &quot;);
            },
            set(value) {
              this.message = value;
            },
          },
        },
        methods: {
          handleInput(e) {
            this.$emit(&quot;update:modelValue&quot;, e.target.value);
          },
        },
        watch: {
          modelValue(newValue, oldValue) {
            console.log(&quot;modelValue change...&quot;, oldValue, newValue);
          },
        },
      });
      const vm = app.mount(&quot;#app&quot;);
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><h4 id="uwtM3"><span class="ne-text">custom globalProperties</span></h4><p id="ubc154fd1" class="ne-p"><span class="ne-text">自定义全局属性</span></p><pre data-language="javascript" id="NIZty" class="ne-codeblock language-javascript"><code>app.config.globalProperties.$something = something</code></pre><p id="u398b5bec" class="ne-p"><span class="ne-text">使用</span></p><pre data-language="javascript" id="ymOqk" class="ne-codeblock language-javascript"><code>this.$something</code></pre><h4 id="MRrGb"><span class="ne-text">$attrs</span></h4><ol class="ne-ol"><li id="u58721946" data-lake-index-type="0"><span class="ne-text">组件默认传递属性，如果子组件没有接收，那么会作为默认属性添加到dom身上</span></li><li id="u83ef31fc" data-lake-index-type="0"><span class="ne-text">如果要去除上述的默认传递效果，可以添加inheritAttrs参数</span></li></ol><pre data-language="javascript" id="Qf1Xl" class="ne-codeblock language-javascript"><code>app.component(&quot;my-head&quot;, {
  data() {
    return {
      message: &quot;hello world&quot;,
    };
  },
  inheritAttrs: false
  ···
});</code></pre><ol start="3" class="ne-ol"><li id="ua9768288" data-lake-index-type="0"><span class="ne-text">如果添加了inheritAttrs参数，但又需要对指定dom添加自定义属性</span></li></ol><pre data-language="html" id="wdJkF" class="ne-codeblock language-html"><code>&lt;h1 v-bind:info=&quot;$attrs.info&quot;&gt;&lt;/h1&gt;</code></pre><ol start="4" class="ne-ol"><li id="ub2d29799" data-lake-index-type="0"><span class="ne-text">this.$attrs也可以进行通信</span></li></ol><h4 id="TiE4b"><span class="ne-text">$refs</span></h4><ol class="ne-ol"><li id="u4817ecbb" data-lake-index-type="0"><span class="ne-text">ref属性作用在元素上，this.$refs.xxx获取的是原生DOM</span></li><li id="u8f48b247" data-lake-index-type="0"><span class="ne-text">ref属性作用在组件上，this.$refs.xxx获取的是组件实例对象，可以调用其方法或是响应式变量</span></li></ol><pre data-language="javascript" id="nWNgp" class="ne-codeblock language-javascript"><code>console.log('作用在DOM上的ref: ', this.$refs.domRef)
console.log('作用在组件上的ref: ', this.$refs.homeHomeChild1Ref)</code></pre><p id="uec5e4ac3" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2024/png/1484158/1709885295752-48ce6469-8234-4e95-81dc-4c29187d228e.png" width="432.8888888888889" id="u13e4a1da" class="ne-image"></p><ol start="3" class="ne-ol"><li id="ua573eba6" data-lake-index-type="0"><span class="ne-text">可以间接进行组件间的通信</span></li></ol><h4 id="cEAJx"><span class="ne-text">$nextTick</span></h4><ol class="ne-ol"><li id="u3f784d7c" data-lake-index-type="0"><span class="ne-text">在DOM渲染之后的执行时机，同updated生命周期</span></li></ol><pre data-language="javascript" id="bkbco" class="ne-codeblock language-javascript"><code>mounted() {
  console.log('全局变量$globalVar: ', this.$globalVar)
  this.$nextTick(() =&gt; {
    console.log('作用在DOM上的ref: ', this.$refs.domRef)
    console.log('作用在组件上的ref: ', this.$refs.homeHomeChild1Ref)
  })
}</code></pre><ol start="2" class="ne-ol"><li id="u456b5f83" data-lake-index-type="0"><span class="ne-text">有两种写法，一种是hook风格，另一种是Promise链式调用风格</span></li></ol><h4 id="LsFsG"><span class="ne-text">$event</span></h4><p id="u5fd6f969" class="ne-p"><span class="ne-text">原生DOM事件传参（内部封装）</span></p><ol class="ne-ol"><li id="u8c3c05ca" data-lake-index-type="0"><span class="ne-text">不传参数：只传递函数名，methods中的函数形参可传默认e</span></li><li id="u65581d40" data-lake-index-type="0"><span class="ne-text">fun($event, param)</span></li></ol><pre data-language="html" id="jG7I7" class="ne-codeblock language-html"><code>&lt;button @click=&quot;clickButton1&quot;&gt;不传参数&lt;/button&gt;
&lt;button @click=&quot;clickButton2('data')&quot;&gt;传1个参数&lt;/button&gt;
&lt;button @click=&quot;clickButton3($event, 'data')&quot;&gt;传2个参数&lt;/button&gt;</code></pre><h3 id="gQe5u"><span class="ne-text">三、逻辑复用</span></h3><h4 id="kn0aj"><span class="ne-text">组件（components）</span></h4><pre data-language="vue" id="RWMKb" class="ne-codeblock language-vue"><code>&lt;template&gt;
  &lt;div class=&quot;box&quot;&gt;HomeChild1组件&lt;/div&gt;
  &lt;HomeChild1 :msg=&quot;var4&quot; @customEvent=&quot;customEvent&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
  import HomeChild1 from '../components/HomeChild1.vue'

  export default {
    name: 'HomeView',
    components: {
      HomeChild1
    },
    data() {
      return {
        var4: 'HomeView组件传递给HomeChild1组件的值',
      }
    },
    methods: {
      customEvent(data) {
        console.log('customEvent', data)
      }
    }
  }
&lt;/script&gt;</code></pre><ol class="ne-ol"><li id="u6be14864" data-lake-index-type="0"><span class="ne-text">组件的注册以及使用</span></li><li id="u51f6cf62" data-lake-index-type="0"><span class="ne-text">根组件以及普通组件：根组件template比html结构中的子内容优先级更高（覆盖渲染）</span></li><li id="u732696e0" data-lake-index-type="0"><span class="ne-text">全局组件以及局部组件的选项式写法</span></li></ol><h4 id="JYOrd"><span class="ne-text">自定义指令（v-）</span></h4><p id="uf5282b09" class="ne-p"><span class="ne-text">自定义指令也是逻辑复用的常见形式之一，比如对节点赋予拖拽功能，基本语法如下：</span></p><pre data-language="vue" id="hMUd6" class="ne-codeblock language-vue"><code>&lt;template&gt;
  &lt;div class=&quot;box&quot;&gt;自定义指令&lt;/div&gt;
  &lt;input v-focus /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'HomeView',
  directives: {
    focus: {
      mounted: (el) =&gt; el.focus()
    }
  }
}
&lt;/script&gt;</code></pre><h4 id="kPmIm"><span class="ne-text">插件</span></h4><p id="u13dfe673" class="ne-p"><span class="ne-text">定义</span></p><pre data-language="javascript" id="iwagk" class="ne-codeblock language-javascript"><code>app.use(
  {
    install: (app, options) =&gt; {
      app.config.globalProperties.$translate = (key) =&gt; {
        return key.split('.').reduce((o, i) =&gt; {
          if (o) return o[i]
        }, options)
      }
    }
  },
  {
    greetings: {
      hello: 'Hello, world!'
    }
  }
)</code></pre><p id="uae6b3939" class="ne-p"><span class="ne-text">使用</span></p><pre data-language="vue" id="Zq48f" class="ne-codeblock language-vue"><code>&lt;template&gt;
  {{ $translate('greetings.hello') }}
&lt;/template&gt;</code></pre><h4 id="rZrHG"><span class="ne-text">⛔</span><span class="ne-text">mixins</span></h4><ul class="ne-ul"><li id="ucc09c277" data-lake-index-type="0"><span class="ne-text">一种复用逻辑的抽离的方式，</span><strong><span class="ne-text">但是更为推荐组合式的hook来复用代码逻辑</span></strong><span class="ne-text">，vue的最新文档甚至去除了mixins相关介绍</span></li><li id="u241f2720" data-lake-index-type="0"><span class="ne-text">使用：</span><code class="ne-code"><span class="ne-text">minins: [module]</span></code></li><li id="ue5a96a32" data-lake-index-type="0"><span class="ne-text">缺点</span></li></ul><ul class="ne-list-wrap"><ul ne-level="1" class="ne-ul"><li id="ue2eb83ad" data-lake-index-type="0"><span class="ne-text">无法差异化</span></li><li id="ua3a9b78a" data-lake-index-type="0"><span class="ne-text">可存在同名函数（代码风格）</span></li></ul></ul><h3 id="kfsuq"><span class="ne-text">四、生命周期</span></h3><p id="uf12bf80a" class="ne-p" style="text-align: center"><span class="ne-text" style="color: #DF2A3F">初始化实例时触发</span></p><p id="u1deba3f6" class="ne-p" style="text-align: center"><img src="https://cdn.nlark.com/yuque/0/2024/png/1484158/1710082826517-cb17afd6-a17e-4707-8655-3a6d652c88bf.png" width="632.4999748667091" id="u68831842" class="ne-image"></p><div data-type="info" class="ne-alert"><ol class="ne-ol"><li id="u8832ae06" data-lake-index-type="0"><span class="ne-text">beforeCreate：在实例初始化之后，数据观测和事件配置之前被调用</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="ue05e8c4f" data-lake-index-type="0"><span class="ne-text">响应式数据没有，dom未渲染</span></li></ol></ol><ol start="2" class="ne-ol"><li id="u7f6830af" data-lake-index-type="0"><span class="ne-text">created：在实例创建完成后被立即调用</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="u0e07f7dc" data-lake-index-type="0"><span class="ne-text">响应式数据有了，dom未渲染</span></li><li id="u1f5037dc" data-lake-index-type="0"><span class="ne-text">一般在这里异步请求初始化数据</span></li></ol></ol><ol start="3" class="ne-ol"><li id="u363a87ca" data-lake-index-type="0"><span class="ne-text">beforeMount：在挂载开始之前被调用</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="u8a067a53" data-lake-index-type="0"><strong><span class="ne-text">响应式数据有了，dom未渲染</span></strong></li></ol></ol><ol start="4" class="ne-ol"><li id="u8c6e7b07" data-lake-index-type="0"><span class="ne-text">mounted：el被新创建的vm.$el替换，并挂载到实例上去之后调用该钩子</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="uf3e38c0f" data-lake-index-type="0"><strong><span class="ne-text">响应式数据有了，dom已渲染</span></strong></li></ol></ol></div><ol class="ne-ol"><li id="u0def781a" data-lake-index-type="0"><span class="ne-text">activated（</span><strong><span class="ne-text" style="color: #DF2A3F">KeepAlive相关</span></strong><span class="ne-text">）</span></li><li id="u8e3115bf" data-lake-index-type="0"><span class="ne-text">deactivated（</span><strong><span class="ne-text" style="color: #DF2A3F">KeepAlive相关</span></strong><span class="ne-text">）</span></li></ol><p id="u3f7db976" class="ne-p" style="text-align: center"><span class="ne-text" style="color: #DF2A3F">更新数据时触发</span></p><p id="ue8777588" class="ne-p" style="text-align: center"><img src="https://cdn.nlark.com/yuque/0/2024/png/1484158/1710082853014-5cdc1923-4c0f-40c5-9205-9fc8fc677b09.png" width="591.6666431559466" id="ud106915e" class="ne-image"></p><div data-type="color2" class="ne-alert"><ol class="ne-ol"><li id="ub431174c" data-lake-index-type="0"><span class="ne-text">beforeUpdate：数据更新时调用，发生在虚拟DOM打补丁之前</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="u2a02905d" data-lake-index-type="0"><span class="ne-text">响应式数据变了，但是dom还没有更新</span></li></ol></ol><ol start="2" class="ne-ol"><li id="ud4c52258" data-lake-index-type="0"><span class="ne-text">updated：由于数据更改导致的虚拟DOM重新渲染和打补丁，在这之后会调用该钩子</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="u42a956cc" data-lake-index-type="0"><span class="ne-text">响应式数据变了，dom也更新了</span></li></ol></ol></div><p id="u8beae034" class="ne-p" style="text-align: center"><span class="ne-text" style="color: #DF2A3F">卸载实例时触发</span></p><p id="u6dd42d20" class="ne-p" style="text-align: center"><img src="https://cdn.nlark.com/yuque/0/2024/png/1484158/1710082889165-517e3fcf-ad8b-4e74-a040-98b8953bcdca.png" width="565.8333108491377" id="u6ea81cc7" class="ne-image"></p><div data-type="danger" class="ne-alert"><ol class="ne-ol"><li id="u5cb6441c" data-lake-index-type="0"><span class="ne-text">beforeDestroy：实例销毁之前调用</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="ub43a905e" data-lake-index-type="0"><span class="ne-text">响应式数据还有，dom也有</span></li></ol></ol><ol start="2" class="ne-ol"><li id="ue81310ec" data-lake-index-type="0"><span class="ne-text">destroyed：实例销毁后调用</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="u3b003791" data-lake-index-type="0"><span class="ne-text">响应式数据还有，dom没了</span></li></ol></ol></div><ol class="ne-ol"><li id="u680f5266" data-lake-index-type="0"><span class="ne-text">errorCaptured</span></li><li id="u39e3f3c1" data-lake-index-type="0"><span class="ne-text">renderTracked（</span><strong><span class="ne-text" style="color: #DF2A3F">开发模式才有，且SSR没有</span></strong><span class="ne-text">）</span></li><li id="u7b524366" data-lake-index-type="0"><span class="ne-text">renderTriggered（</span><strong><span class="ne-text" style="color: #DF2A3F">开发模式才有，且SSR没有</span></strong><span class="ne-text">）</span></li><li id="u01ab787c" data-lake-index-type="0"><span class="ne-text">serverPrefetch（</span><strong><span class="ne-text" style="color: #DF2A3F">SSR才有</span></strong><span class="ne-text">）</span></li></ol><h3 id="a8JrO"><span class="ne-text">五、内置组件</span></h3><h4 id="L2xNx"><span class="ne-text">component</span></h4><ul class="ne-ul"><li id="u9a1a39ef" data-lake-index-type="0"><span class="ne-text">配合:is实现动态切换组件的行为</span></li></ul><pre data-language="vue" id="uAqm4" class="ne-codeblock language-vue"><code>&lt;template&gt;
  &lt;div class=&quot;box1&quot;&gt;内置组件&lt;/div&gt;
  &lt;button @click=&quot;temp = 'TemplateChild1'&quot;&gt;TemplateChild1&lt;/button&gt;
  &lt;button @click=&quot;temp = 'TemplateChild2'&quot;&gt;TemplateChild2&lt;/button&gt;
  &lt;component :is=&quot;temp&quot; /&gt;
&lt;/template&gt;

&lt;script&gt;
import TemplateChild1 from '../components/TemplateChild1.vue'
import TemplateChild2 from '../components/TemplateChild2.vue'
export default {
  name: 'TemplateView',
  data() {
    return {
      temp: 'TemplateChild1'
    }
  },
  components: {
    TemplateChild1,
    TemplateChild2
  }
}
&lt;/script&gt;</code></pre><p id="u9167bd16" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2024/png/1484158/1709889942376-50e4dbb3-5a0d-49b4-8533-9f593f791439.png" width="361.77777777777777" id="u4c7af003" class="ne-image"></p><h4 id="OwIes"><span class="ne-text">KeepAlive</span></h4><p id="u7a953107" class="ne-p"><span class="ne-text">在上述组件切换过程中，被切换组件的状态会被清除，也就是输入框会输入框输入的数据会被清空，如果需要保留状态，外面需要套一层keep-alive组件</span></p><pre data-language="html" id="n5Pyf" class="ne-codeblock language-html"><code>&lt;KeepAlive&gt;
  &lt;component :is=&quot;temp&quot; /&gt;
&lt;/KeepAlive&gt;</code></pre><h4 id="UDlHn"><span class="ne-text">defineAsyncComponent</span></h4><p id="u192dd280" class="ne-p"><span class="ne-text">动态组件中（component），会一次性加载所有组件，如果需要按需加载则使用defineAsyncComponent，</span></p><pre data-language="html" id="TOE79" class="ne-codeblock language-html"><code>&lt;template&gt;
  ···
&lt;/template&gt;

&lt;script&gt;
import { defineAsyncComponent } from 'vue'
export default {
  name: 'TemplateView',
  data() {
    return {
      temp: 'TemplateChild1'
    }
  },
  components: {
    TemplateChild1: defineAsyncComponent(() =&gt; import('../components/TemplateChild1.vue')),
    TemplateChild2: defineAsyncComponent(() =&gt; import('../components/TemplateChild2.vue'))
  }
}
&lt;/script&gt;</code></pre><h4 id="iiTXi"><span class="ne-text">Suspense</span></h4><p id="u31462af5" class="ne-p"><span class="ne-text">内置边界加载中组件</span></p><pre data-language="html" id="fdQbJ" class="ne-codeblock language-html"><code>&lt;template&gt;
  &lt;div class=&quot;box1&quot;&gt;内置组件&lt;/div&gt;
  &lt;button @click=&quot;temp = 'TemplateChild1'&quot;&gt;TemplateChild1&lt;/button&gt;
  &lt;button @click=&quot;temp = 'TemplateChild2'&quot;&gt;TemplateChild2&lt;/button&gt;
  &lt;KeepAlive&gt;
    &lt;Suspense&gt;
      &lt;component :is=&quot;temp&quot; /&gt;
      &lt;template #fallback&gt;
        &lt;div&gt;loading...&lt;/div&gt;
      &lt;/template&gt;
    &lt;/Suspense&gt;
  &lt;/KeepAlive&gt;
&lt;/template&gt;</code></pre><h4 id="xUOWb"><span class="ne-text">Teleport</span></h4><p id="ue812f1e7" class="ne-p"><span class="ne-text">“传送门”逻辑，相当于指定要渲染的DOM至指定文档树位置，有益于DOM结构合理</span></p><div class="ne-quote"><p id="u0b0a54b4" class="ne-p"><span class="ne-text">如果DOM结构不合理，会造成一些样式上不必要的写法</span></p></div><pre data-language="html" id="lgby4" class="ne-codeblock language-html"><code>&lt;Teleport to=&quot;body&quot;&gt;&lt;div&gt;Teleport组件&lt;/div&gt;&lt;/Teleport&gt;</code></pre><p id="uad070913" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2024/png/1484158/1709891703132-6ca57ed3-42fd-40e4-9ae2-77ecd0af4790.png" width="393.77777777777777" id="uab57debd" class="ne-image"></p><div data-type="info" class="ne-alert"><p id="uc53a3abd" class="ne-p"><span class="ne-text">如果不使用vue内置组件teleport，传送门的同类型实现逻辑则是利用原生DOM api以及Vue的createApp结合实现</span></p></div><pre data-language="html" id="YL3g3" class="ne-codeblock language-html"><code>&lt;script&gt;
  import { createApp } from 'vue'
  import { Component } from 'xxxx'
  const target = document.createElement('div')
  document.body.append(target)
  createApp(Component).mount(target)
&lt;/script&gt;</code></pre><h4 id="XHrjA"><span class="ne-text">Transition</span></h4><p id="u5de637a3" class="ne-p"><span class="ne-text">vue内置动画组件</span></p><pre data-language="html" id="radNV" class="ne-codeblock language-html"><code>&lt;transition name=&quot;slide&quot; mode=&quot;out-in&quot;&gt;
  &lt;keep-alive&gt;
    &lt;component :is=&quot;compo&quot;&gt;&lt;/component&gt;
  &lt;/keep-alive&gt;
&lt;/transition&gt;</code></pre><pre data-language="css" id="swWV0" class="ne-codeblock language-css"><code>.fade-enter-from {
  opacity: 0;
}
.fade-enter-to {
  opacity: 1;
}
.fade-enter-active {
  transition: 1s;
}
.fade-leave-from {
  opacity: 1;
}
.fade-leave-to {
  opacity: 0;
}
.fade-enter-active {
  transition: 1s;
}
.slide-enter-from {
  opacity: 0;
  transform: translateX(20px);
}
.slide-enter-to {
  opacity: 1;
  transform: translateX(0);
}
.slide-leave-from {
  opacity: 1;
  transform: translateX(0);
}
.slide-leave-to {
  opacity: 0;
  transform: translateX(20px);
}
.slide-leave-active {
  transition: 1s;
}</code></pre></div>7:["$","div",null,{"className":"prose prose-neutral dark:prose-invert mt-8 max-w-none","dangerouslySetInnerHTML":{"__html":"$d"}}]
8:["$","$L2",null,{"delay":0.8,"fade":true,"blur":true,"transition":{"duration":0.6},"className":"-mx-4 mt-12 sm:-mx-6 lg:-mx-8","children":["$","$L6",null,{}]}]
9:["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"up","offset":30},"delay":0.9,"transition":{"duration":0.5},"children":["$","nav",null,{"className":"mt-8 grid gap-4 md:grid-cols-2","children":[["$","$L3",null,{"href":"/blog/fhxatr6exkaavb4k","className":"hover:bg-muted group flex flex-col rounded-lg border p-4 transition-colors","children":[["$","span",null,{"className":"text-muted-foreground mb-2 text-sm","children":"上一篇"}],["$","span",null,{"className":"group-hover:text-primary line-clamp-2 font-medium transition-colors","children":"CommonJS模块转ESM模块方法"}]]}],["$","$L3",null,{"href":"/blog/urrudl","className":"hover:bg-muted group flex flex-col rounded-lg border p-4 text-right transition-colors md:text-right","children":[["$","span",null,{"className":"text-muted-foreground mb-2 text-sm","children":"下一篇"}],["$","span",null,{"className":"group-hover:text-primary line-clamp-2 font-medium transition-colors","children":"Axios实现重连机制"}]]}]]}]}]
a:["$","div",null,{"className":"m-6 w-full flex-1 bg-[radial-gradient(circle_at_center,color-mix(in_oklab,var(--primary)_15%,transparent)_2px,transparent_2px)] bg-size-[18px_18px] max-xl:hidden"}]
b:["$","script","script-0",{"src":"/_next/static/chunks/11dff99839ab5ba0.js","async":true}]
c:["$","$Le",null,{"children":["$","$f",null,{"name":"Next.MetadataOutlet","children":"$@10"}]}]
10:null
