

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Pandas库使用——分组聚合 | 尼采般地抒情</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="HandheldFriendly" content="True" />
    <meta name="author" content="尼采般地抒情">
    <meta name="email" content="wztlink1013@163.com">
    <meta name="description" content="一、分组GroupBy 对象· groupedby 函数中的参数：as_index的作用：控制聚合输出是否以组标签为索引值，默认为True，就是分层次的索引，若为False多加一列默认索引索引，相当于非其他数据排序好了。但是这两组标签索引值不同有什么作用呢？=== 作用就是，根据的一列是否为索引列。">
    <meta name="keywords" content="技术,生活,博客,随笔,个人网站,感悟,思考,读书">
    <!-- https://ogp.me/ -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Pandas库使用——分组聚合 | 尼采般地抒情">
    <meta property="og:url" content="https://www.wztlink1013.com/blog/oq4xcx/">
    <meta property="og:site_name" content="尼采般地抒情">
    <meta property="og:description" content="一、分组GroupBy 对象· groupedby 函数中的参数：as_index的作用：控制聚合输出是否以组标签为索引值，默认为True，就是分层次的索引，若为False多加一列默认索引索引，相当于非其他数据排序好了。但是这两组标签索引值不同有什么作用呢？=== 作用就是，根据的一列是否为索引列。">
    <meta name="generator" content="https://hexo.io" />
    <!-- 解决语雀图片不显示 -->
    <meta name="referrer" content="no-referrer" />
    <!-- 引入highlight样式 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wztlink1013/cdn-website@1.0.3/highlight/9.18.1/solarized-light.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/highlight.min.js"></script>
    <!-- 引入CSS样式 -->
    
<link rel="stylesheet" href="/public/css/style.css">

    
<link rel="stylesheet" href="/public/css/font-awesome.min.css">

    <!-- 引入jQuery快速开发 -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <!-- algolia for the search only version -->
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js"></script>
    <!-- algolia for the default version -->
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch.umd.js"></script>
    <!-- algolia 元信息 -->
    <meta property="algolia:search" data-application-id="S6IZ6GONGO" data-api-key="d28a34ff9a07bff7c9e54ceef1e1df3b" data-index-name="website">
     
</head>
<body>
    <div class="bg_color"></div>
<!-- PC端 -->
<header class="header">
    <a href="/">
        <i class="fa fa-home" aria-hidden="true"></i>
    </a>
    <div class="hd_left" id="arrow_left">
        <i class="fa fa-arrow-right" aria-hidden="true"></i>
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
    </div>
    <div class="hd_right" id="arrow_right">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
        <i class="fa fa-arrow-right" aria-hidden="true"></i>
    </div>
</header>
<!-- 移动端 -->
<header class="header_app">
    <a href="/">
        <i class="fa fa-home" aria-hidden="true"></i>
    </a>
    <div class="hd_left" id="btn_app_sider">
        <i class="fa fa-bars" aria-hidden="true"></i>
    </div>
    <div class="hd_right" id="btn_app_right">
        <i class="fa fa-picture-o" aria-hidden="true"></i>
    </div>
</header>
<!-- 移动端侧边栏 -->
<div class="app_side_glass" id="app_side_glass">
</div>
<div class="app_side_content" id="app_side_content">
    <h3>尼采般地抒情</h3>
    <div class="component clearfix board">
    <h3>公告栏</h3>
    <div class="board_content">
        <p>
            此网站主题为本人手写主题，主题还在开发中……<hr>
            <!-- 主题：hexo-theme-lyrics<hr> -->
            作者:尼采般地抒情<hr>
        </p>

    </div>
</div>

    <div class="component clearfix links">
    <h3>站内导航</h3>
    <ul>
        <li><a href="https://www.wztlink1013.com">尼采般地抒情</a></li>
    </ul>
</div>

    <div class="component clearfix web_info">
    <h3>站点信息</h3>
    <div>
        <span>文章数目：</span>248 <span>篇</span>
    </div>
    <div>
        <span>已运行时间：</span>
    </div>
    <span id="webinfo_runtime_count_1"></span>
    <img src="https://api.luvying.com/acgimg">
</div>






</div>


<div class="global_button">
    <div title="顶部" class="global_button_item" id="go_top" style="display: none;">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </div>
    <div title="搜索" class="global_button_item" id="search_btn">
        <i class="fa fa-search" aria-hidden="true"></i>
    </div>
    <div title="评论" class="global_button_item" id="go_comments" style="display: none;">
        <a href="#comments"><i class="fa fa-comments" aria-hidden="true"></i></a>
    </div>
    <div title="目录" class="global_button_item" id="toc_btn" >
        <i class="fa fa-list" aria-hidden="true"></i>
    </div>
    <div title="夜间" class="global_button_item">
        <i class="fa fa-adjust" aria-hidden="true"></i>
    </div>
    <div title="分享" class="global_button_item btn-default need-share-button-default need-share-button" data-share-position="topLeft">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
    </div>
</div>
<div class="toc_container">
    <div class="toc_title">
        <i class="fa fa-list" aria-hidden="true"></i>
        <span>目录</span>
    </div>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%88%86%E7%BB%84"><span class="toc-text">一、分组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GroupBy-%E5%AF%B9%E8%B1%A1"><span class="toc-text">GroupBy 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GroupBy-%E5%AF%B9%E8%B1%A1%E9%81%8D%E5%8E%86%E8%BF%AD%E4%BB%A3"><span class="toc-text">GroupBy 对象遍历迭代</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%88%86%E7%BB%84%E6%96%B9%E6%B3%95"><span class="toc-text">其他分组方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E8%81%9A%E5%90%88"><span class="toc-text">二、聚合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E7%9A%84%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-text">内置的聚合函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-text">自定义聚合函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%88%86%E7%BB%84%E8%BF%90%E7%AE%97"><span class="toc-text">三、分组运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%92%8C%E5%AF%B9%E9%BD%90"><span class="toc-text">分组和对齐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E8%AE%A1%E7%AE%97-VS-%E8%81%9A%E5%90%88%E8%BF%90%E7%AE%97"><span class="toc-text">统计计算 VS 聚合运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E7%BB%84%E8%BF%90%E7%AE%97"><span class="toc-text">数据分组运算</span></a></li></ol></li></ol>
</div>
<div class="search_box">
        <div class="search">
            <input type="text" autocomplete="off" name="search" placeholder="搜索一下吧~" id="local-search-input">
            <i class="fa fa-times search_close" aria-hidden="true"></i>
        </div>

    <div id="local-search-result">
        请输入搜索词以便展示搜索结果……
    </div>
</div>
<div class="clearfix container">
    <div class="ct_left">
        <div class="component clearfix blogger">
    <h3>尼采般地抒情</h3>
    <img class="blogger_left" src="https://cdn.jsdelivr.net/gh/wztlink1013/cdn-pictures@1.0.1/avatar/pic/MilkTea.png" alt="尼采般地抒情">
</div>

        <div class="component clearfix board">
    <h3>公告栏</h3>
    <div class="board_content">
        <p>
            此网站主题为本人手写主题，主题还在开发中……<hr>
            <!-- 主题：hexo-theme-lyrics<hr> -->
            作者:尼采般地抒情<hr>
        </p>

    </div>
</div>

        <div class="component clearfix links">
    <h3>站内导航</h3>
    <ul>
        <li><a href="https://www.wztlink1013.com">尼采般地抒情</a></li>
    </ul>
</div>

        <div class="component clearfix web_info">
    <h3>站点信息</h3>
    <div>
        <span>文章数目：</span>248 <span>篇</span>
    </div>
    <div>
        <span>已运行时间：</span>
    </div>
    <span id="webinfo_runtime_count_1"></span>
    <img src="https://api.luvying.com/acgimg">
</div>






    </div>
    <div class="ct_center">
        <div class="component article_meta">
    <div class="article_meta_title">
        <h1>Pandas库使用——分组聚合</h1>
    </div>
    <div class="article_meta_other">
        <span>作者: <a href="/">尼采般地抒情</a></span>
        <time>时间：2020-08-28 22:58:48</time>
        
        <span>分类：</span>
                <span>
                    <a href="/categories/DataAnalysis">
                        DataAnalysis
                    </a>
                </span>
                 
         
        <span>文章访问量：</span><span id="twikoo_visitors">loading</span>
        <span>文章评论数：</span><span id="twikoo_comments">loading</span>
    </div>
</div>
        <div class="component article">
    <h2 id="一、分组"><a href="#一、分组" class="headerlink" title="一、分组"></a>一、分组</h2><h3 id="GroupBy-对象"><a href="#GroupBy-对象" class="headerlink" title="GroupBy 对象"></a>GroupBy 对象</h3><blockquote>
<p>· groupedby 函数中的参数：</p>
</blockquote>
<pre><code>as_index的作用：控制聚合输出是否以组标签为索引值，默认为True，就是分层次的索引，若为False多加一列默认索引索引，相当于非其他数据排序好了。
但是这两组标签索引值不同有什么作用呢？=== 作用就是，根据的一列是否为索引列。
sort_values的作用：对选定的一列数值数据从上往下从小到大进行排序（如果传值没成功===设置本体覆盖，传值覆盖）
</code></pre>
<pre><code class="python">import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.pyplot
%matplotlib inline
</code></pre>
<pre><code class="python">dict_obj = &#123;&#39;key1&#39; : [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;,
                      &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;a&#39;],
            &#39;key2&#39; : [&#39;one&#39;, &#39;one&#39;, &#39;two&#39;, &#39;three&#39;,
                      &#39;two&#39;, &#39;two&#39;, &#39;one&#39;, &#39;three&#39;],
            &#39;data1&#39;: np.random.randn(8),
            &#39;data2&#39;: np.random.randn(8)&#125;
df_obj = pd.DataFrame(dict_obj)
print (df_obj)
</code></pre>
<pre><code>  key1   key2     data1     data2
0    a    one -0.147612 -0.348087
1    b    one -0.992986  0.902458
2    a    two  0.547541 -0.310040
3    b  three  0.458871 -1.895392
4    a    two  1.224041  0.220150
5    b    two -0.200124 -1.562237
6    a    one  1.539144 -0.758716
7    a  three  0.385845  0.074309
</code></pre>
<pre><code class="python">&#39;&#39;&#39;1. dataframe根据key2进行分组&#39;&#39;&#39;
print(df_obj.groupby(&#39;key2&#39;)[&#39;key1&#39;].count())

print (type(df_obj.groupby(&#39;key1&#39;)))
#没有可视化的输出
</code></pre>
<pre><code>key2
one      3
three    2
two      3
Name: key1, dtype: int64
&lt;class &#39;pandas.core.groupby.generic.DataFrameGroupBy&#39;&gt;
</code></pre>
<pre><code class="python">&#39;&#39;&#39;2. 指定列根据key1进行分组&#39;&#39;&#39;
print (type(df_obj[&#39;data1&#39;].groupby(df_obj[&#39;key1&#39;])))
</code></pre>
<pre><code>&lt;class &#39;pandas.core.groupby.generic.SeriesGroupBy&#39;&gt;
</code></pre>
<pre><code class="python"># 分组运算
grouped1 = df_obj.groupby(&#39;key1&#39;,as_index=False)
print (grouped1.mean())

grouped2 = df_obj[&#39;data1&#39;].groupby(df_obj[&#39;key1&#39;])#指定某一列的数据在该索引下进行分组并且加以聚合
print (grouped2.mean())
</code></pre>
<pre><code>  key1     data1     data2
0    a  0.709792 -0.224477
1    b -0.244746 -0.851723
key1
a    0.709792
b   -0.244746
Name: data1, dtype: float64
</code></pre>
<pre><code class="python">&#39;&#39;&#39;3. 按自定义key分组，列表&#39;&#39;&#39;
self_def_key = [1, 1, 2, 2, 2, 1, 1, 1]
df_obj.groupby(self_def_key).mean()
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>data1</th>
<th>data2</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>0.116853</td>
<td>-0.338455</td>
</tr>
<tr>
<td>2</td>
<td>0.743484</td>
<td>-0.661761</td>
</tr>
</tbody></table>
<pre><code class="python">df_obj
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>key1</th>
<th>key2</th>
<th>data1</th>
<th>data2</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>a</td>
<td>one</td>
<td>-0.147612</td>
<td>-0.348087</td>
</tr>
<tr>
<td>1</td>
<td>b</td>
<td>one</td>
<td>-0.992986</td>
<td>0.902458</td>
</tr>
<tr>
<td>2</td>
<td>a</td>
<td>two</td>
<td>0.547541</td>
<td>-0.310040</td>
</tr>
<tr>
<td>3</td>
<td>b</td>
<td>three</td>
<td>0.458871</td>
<td>-1.895392</td>
</tr>
<tr>
<td>4</td>
<td>a</td>
<td>two</td>
<td>1.224041</td>
<td>0.220150</td>
</tr>
<tr>
<td>5</td>
<td>b</td>
<td>two</td>
<td>-0.200124</td>
<td>-1.562237</td>
</tr>
<tr>
<td>6</td>
<td>a</td>
<td>one</td>
<td>1.539144</td>
<td>-0.758716</td>
</tr>
<tr>
<td>7</td>
<td>a</td>
<td>three</td>
<td>0.385845</td>
<td>0.074309</td>
</tr>
</tbody></table>
<pre><code class="python">&#39;&#39;&#39;4. 按多个列多层分组 = = = 通过列表&#39;&#39;&#39;
grouped2 = df_obj.groupby([&#39;key1&#39;, &#39;key2&#39;],as_index=False)
print (grouped2.mean())
print(&#39;--------比较asindex的差异-------&#39;)
grouped2 = df_obj.groupby([&#39;key1&#39;, &#39;key2&#39;],as_index=True)
print (grouped2.mean())
</code></pre>
<pre><code>  key1   key2     data1     data2
0    a    one  0.695766 -0.553401
1    a  three  0.385845  0.074309
2    a    two  0.885791 -0.044945
3    b    one -0.992986  0.902458
4    b  three  0.458871 -1.895392
5    b    two -0.200124 -1.562237
--------比较asindex的差异-------
               data1     data2
key1 key2
a    one    0.695766 -0.553401
     three  0.385845  0.074309
     two    0.885791 -0.044945
b    one   -0.992986  0.902458
     three  0.458871 -1.895392
     two   -0.200124 -1.562237
</code></pre>
<pre><code class="python"># 多层分组按key的顺序进行===和上面的asindex作用一样，把所选取的列数据当成索引，这才是区别之处
grouped3 = df_obj.groupby([&#39;key2&#39;, &#39;key1&#39;])
print (grouped3.mean())
print (&#39;=============================================&#39;)
&#39;&#39;&#39;PS：如果想按照列进行分组聚合运算 === unstack===也可以通过转置&#39;&#39;&#39;
print (grouped3.mean().unstack())
</code></pre>
<pre><code>               data1     data2
key2  key1
one   a     0.695766 -0.553401
      b    -0.992986  0.902458
three a     0.385845  0.074309
      b     0.458871 -1.895392
two   a     0.885791 -0.044945
      b    -0.200124 -1.562237
=============================================
          data1               data2
key1          a         b         a         b
key2
one    0.695766 -0.992986 -0.553401  0.902458
three  0.385845  0.458871  0.074309 -1.895392
two    0.885791 -0.200124 -0.044945 -1.562237
</code></pre>
<h3 id="GroupBy-对象遍历迭代"><a href="#GroupBy-对象遍历迭代" class="headerlink" title="GroupBy 对象遍历迭代"></a>GroupBy 对象遍历迭代</h3><pre><code class="python">grouped1
</code></pre>
<pre><code>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x000001AF5B5F9088&gt;
</code></pre>
<pre><code class="python"># 单层分组
print(grouped1.head(5))
print(&quot;------------------------------------分割线------------------------------------------&quot;)
for group_name, group_data in grouped1:
    print (group_name)
    print (group_data[&#39;data1&#39;])
</code></pre>
<pre><code>  key1   key2     data1     data2
0    a    one -0.147612 -0.348087
1    b    one -0.992986  0.902458
2    a    two  0.547541 -0.310040
3    b  three  0.458871 -1.895392
4    a    two  1.224041  0.220150
5    b    two -0.200124 -1.562237
6    a    one  1.539144 -0.758716
7    a  three  0.385845  0.074309
------------------------------------分割线------------------------------------------
a
0   -0.147612
2    0.547541
4    1.224041
6    1.539144
7    0.385845
Name: data1, dtype: float64
b
1   -0.992986
3    0.458871
5   -0.200124
Name: data1, dtype: float64
</code></pre>
<pre><code class="python"># 多层分组
for group_name, group_data in grouped2:
    print (group_name)
    print (group_data)
</code></pre>
<pre><code>(&#39;a&#39;, &#39;one&#39;)
  key1 key2     data1     data2
0    a  one -0.147612 -0.348087
6    a  one  1.539144 -0.758716
(&#39;a&#39;, &#39;three&#39;)
  key1   key2     data1     data2
7    a  three  0.385845  0.074309
(&#39;a&#39;, &#39;two&#39;)
  key1 key2     data1    data2
2    a  two  0.547541 -0.31004
4    a  two  1.224041  0.22015
(&#39;b&#39;, &#39;one&#39;)
  key1 key2     data1     data2
1    b  one -0.992986  0.902458
(&#39;b&#39;, &#39;three&#39;)
  key1   key2     data1     data2
3    b  three  0.458871 -1.895392
(&#39;b&#39;, &#39;two&#39;)
  key1 key2     data1     data2
5    b  two -0.200124 -1.562237
</code></pre>
<pre><code class="python"># GroupBy对象转换list
print(grouped1.mean())
list(grouped1)
</code></pre>
<pre><code>  key1     data1     data2
0    a  0.709792 -0.224477
1    b -0.244746 -0.851723





[(&#39;a&#39;,   key1   key2     data1     data2
  0    a    one -0.147612 -0.348087
  2    a    two  0.547541 -0.310040
  4    a    two  1.224041  0.220150
  6    a    one  1.539144 -0.758716
  7    a  three  0.385845  0.074309), (&#39;b&#39;,   key1   key2     data1     data2
  1    b    one -0.992986  0.902458
  3    b  three  0.458871 -1.895392
  5    b    two -0.200124 -1.562237)]
</code></pre>
<pre><code class="python"># GroupBy对象转换dict
dict(list(grouped1))
</code></pre>
<pre><code>&#123;&#39;a&#39;:   key1   key2     data1     data2
 0    a    one -0.147612 -0.348087
 2    a    two  0.547541 -0.310040
 4    a    two  1.224041  0.220150
 6    a    one  1.539144 -0.758716
 7    a  three  0.385845  0.074309, &#39;b&#39;:   key1   key2     data1     data2
 1    b    one -0.992986  0.902458
 3    b  three  0.458871 -1.895392
 5    b    two -0.200124 -1.562237&#125;
</code></pre>
<pre><code class="python"># 按列分组
print (df_obj.dtypes)

# 按数据类型分组
df_obj.groupby(df_obj.dtypes, axis=1).size()
df_obj.groupby(df_obj.dtypes, axis=1).sum()
</code></pre>
<pre><code>key1      object
key2      object
data1    float64
data2    float64
dtype: object
</code></pre>
<h3 id="其他分组方法"><a href="#其他分组方法" class="headerlink" title="其他分组方法"></a>其他分组方法</h3><ol>
<li>其实列表也是分组的一种方式<br>===用到列表时候，一般都是多层索引了</li>
</ol>
<pre><code class="python">df_obj2 = pd.DataFrame(np.random.randint(1, 10, (5,5)),
                       columns=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;],
                       index=[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;])
df_obj2.ix[1, 1:4] = np.NaN
df_obj2
</code></pre>
<pre><code>C:\Users\wztli\Anaconda3\lib\site-packages\ipykernel_launcher.py:4: FutureWarning:
.ix is deprecated. Please use
.loc for label based indexing or
.iloc for positional indexing

See the documentation here:
http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#ix-indexer-is-deprecated
  after removing the cwd from sys.path.
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>a</th>
<th>b</th>
<th>c</th>
<th>d</th>
<th>e</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>4</td>
<td>2.0</td>
<td>6.0</td>
<td>5.0</td>
<td>9</td>
</tr>
<tr>
<td>B</td>
<td>5</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>6</td>
</tr>
<tr>
<td>C</td>
<td>2</td>
<td>3.0</td>
<td>8.0</td>
<td>6.0</td>
<td>3</td>
</tr>
<tr>
<td>D</td>
<td>9</td>
<td>5.0</td>
<td>6.0</td>
<td>5.0</td>
<td>9</td>
</tr>
<tr>
<td>E</td>
<td>4</td>
<td>1.0</td>
<td>6.0</td>
<td>2.0</td>
<td>1</td>
</tr>
</tbody></table>
<ol>
<li>通过字典分组</li>
</ol>
<pre><code class="python"># 通过字典分组
mapping_dict = &#123;&#39;A&#39;:&#39;python&#39;, &#39;B&#39;:&#39;python&#39;, &#39;C&#39;:&#39;java&#39;, &#39;D&#39;:&#39;C&#39;, &#39;E&#39;:&#39;java&#39;&#125;
#df_obj2.groupby(mapping_dict, axis=1).size()
#df_obj2.groupby(mapping_dict, axis=1).count() # 非NaN的个数
print(df_obj2.groupby(mapping_dict, axis=0).sum())
</code></pre>
<pre><code>        a    b     c    d   e
C       9  5.0   6.0  5.0   9
java    6  4.0  14.0  8.0   4
python  9  2.0   6.0  5.0  15
</code></pre>
<ol start="2">
<li>通过函数分组</li>
</ol>
<pre><code class="python"># 通过函数分组
df_obj3 = pd.DataFrame(np.random.randint(1, 10, (5,5)),
                       columns=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;],
                       index=[&#39;AA&#39;, &#39;BBB&#39;, &#39;CC&#39;, &#39;D&#39;, &#39;EE&#39;])
#df_obj3

def group_key(idx):
    &quot;&quot;&quot;
        idx 为列索引或行索引
    &quot;&quot;&quot;
    #return idx
    return len(idx)

df_obj3.groupby(group_key).size()

# 以上自定义函数等价于
#df_obj3.groupby(len).size()
</code></pre>
<pre><code>1    1
2    3
3    1
dtype: int64
</code></pre>
<ol start="3">
<li>通过层级索引级别分组</li>
</ol>
<pre><code class="python"># 通过索引级别分组
columns = pd.MultiIndex.from_arrays([[&#39;Python&#39;, &#39;Java&#39;, &#39;Python&#39;, &#39;Java&#39;, &#39;Python&#39;],
                                     [&#39;A&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;B&#39;]], names=[&#39;language&#39;, &#39;index&#39;])
df_obj4 = pd.DataFrame(np.random.randint(1, 10, (5, 5)), columns=columns)
df_obj4
</code></pre>
<table>
<thead>
<tr>
<th>language</th>
<th>Python</th>
<th>Java</th>
<th>Python</th>
<th>Java</th>
<th>Python</th>
</tr>
</thead>
<tbody><tr>
<td>index</td>
<td>A</td>
<td>A</td>
<td>B</td>
<td>C</td>
<td>B</td>
</tr>
<tr>
<td>0</td>
<td>4</td>
<td>6</td>
<td>8</td>
<td>8</td>
<td>4</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
<td>3</td>
<td>5</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>6</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>9</td>
<td>3</td>
<td>1</td>
<td>9</td>
</tr>
<tr>
<td>4</td>
<td>4</td>
<td>1</td>
<td>5</td>
<td>6</td>
<td>6</td>
</tr>
</tbody></table>
<pre><code class="python"># 根据language进行分组
df_obj4.groupby(level=&#39;language&#39;, axis=1).sum()
df_obj4.groupby(level=&#39;index&#39;, axis=1).sum()
</code></pre>
<table>
<thead>
<tr>
<th>index</th>
<th>A</th>
<th>B</th>
<th>C</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>10</td>
<td>12</td>
<td>8</td>
</tr>
<tr>
<td>1</td>
<td>4</td>
<td>7</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
<td>7</td>
<td>5</td>
</tr>
<tr>
<td>3</td>
<td>11</td>
<td>12</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>5</td>
<td>11</td>
<td>6</td>
</tr>
</tbody></table>
<h2 id="二、聚合"><a href="#二、聚合" class="headerlink" title="二、聚合"></a>二、聚合</h2><pre><code class="python">dict_obj = &#123;&#39;key1&#39; : [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;,
                      &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;a&#39;],
            &#39;key2&#39; : [&#39;one&#39;, &#39;one&#39;, &#39;two&#39;, &#39;three&#39;,
                      &#39;two&#39;, &#39;two&#39;, &#39;one&#39;, &#39;three&#39;],
            &#39;data1&#39;: np.random.randint(1,10, 8),
            &#39;data2&#39;: np.random.randint(1,10, 8)&#125;
df_obj5 = pd.DataFrame(dict_obj)
print (df_obj5)
</code></pre>
<pre><code>  key1   key2  data1  data2
0    a    one      9      4
1    b    one      6      7
2    a    two      9      4
3    b  three      9      6
4    a    two      6      2
5    b    two      3      3
6    a    one      1      1
7    a  three      2      6
</code></pre>
<h3 id="内置的聚合函数"><a href="#内置的聚合函数" class="headerlink" title="内置的聚合函数"></a>内置的聚合函数</h3><pre><code class="python">df_obj5
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>key1</th>
<th>key2</th>
<th>data1</th>
<th>data2</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>a</td>
<td>one</td>
<td>9</td>
<td>4</td>
</tr>
<tr>
<td>1</td>
<td>b</td>
<td>one</td>
<td>6</td>
<td>7</td>
</tr>
<tr>
<td>2</td>
<td>a</td>
<td>two</td>
<td>9</td>
<td>4</td>
</tr>
<tr>
<td>3</td>
<td>b</td>
<td>three</td>
<td>9</td>
<td>6</td>
</tr>
<tr>
<td>4</td>
<td>a</td>
<td>two</td>
<td>6</td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td>b</td>
<td>two</td>
<td>3</td>
<td>3</td>
</tr>
<tr>
<td>6</td>
<td>a</td>
<td>one</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>7</td>
<td>a</td>
<td>three</td>
<td>2</td>
<td>6</td>
</tr>
</tbody></table>
<pre><code class="python"># 内置的聚合函数
#print (df_obj5.groupby(&#39;key1&#39;).sum())
#print (df_obj5.groupby(&#39;key1&#39;).max())
#print (df_obj5.groupby(&#39;key1&#39;).min())
print (df_obj5.groupby(&#39;key1&#39;).mean())
#print (df_obj5.groupby(&#39;key1&#39;).size())
#print (df_obj5.groupby(&#39;key1&#39;).count())
#print (df_obj5.groupby(&#39;key1&#39;).describe())
&#39;&#39;&#39;
count：分组中非NA的值
std：标准差
var：方差
median：非NA中的中位数
mean：非NA的平均值
25%||50%||75%是什么意思==不造？
&#39;&#39;&#39;
</code></pre>
<pre><code>      data1     data2
key1
a       5.4  3.400000
b       6.0  5.333333





&#39;\ncount：分组中非NA的值\nstd：标准差\nvar：方差\nmedian：非NA中的中位数\nmean：非NA的平均值\n25%||50%||75%是什么意思==不造？\n&#39;
</code></pre>
<h3 id="自定义聚合函数"><a href="#自定义聚合函数" class="headerlink" title="自定义聚合函数"></a>自定义聚合函数</h3><pre><code class="python"># 自定义聚合函数
def peak_range(df):
    &quot;&quot;&quot;
        返回数值范围
    &quot;&quot;&quot;
    #print type(df) #参数为索引所对应的记录
    return df.max() - df.min()

print (df_obj5.groupby(&#39;key1&#39;).agg(peak_range))
#print df_obj.groupby(&#39;key1&#39;).agg(lambda df : df.max() - df.min())
#默认列名就是函数名。
</code></pre>
<pre><code>      data1  data2
key1
a         8      5
b         6      4
</code></pre>
<ol start="3">
<li>同时应用多个聚合函数：agg</li>
</ol>
<pre><code class="python"># 同时应用多个聚合函数：agg
print (df_obj.groupby(&#39;key1&#39;).agg([&#39;mean&#39;, &#39;std&#39;, &#39;count&#39;]))
</code></pre>
<pre><code>         data1                     data2
          mean       std count      mean       std count
key1
a     0.709792  0.674293     5 -0.224477  0.385674     5
b    -0.244746  0.726957     3 -0.851723  1.528271     3
</code></pre>
<pre><code class="python">print (df_obj.groupby(&#39;key1&#39;).agg([&#39;mean&#39;, &#39;std&#39;, &#39;count&#39;, (&#39;range&#39;, peak_range)])) # 通过元组提供新的列名
</code></pre>
<pre><code>         data1                               data2
          mean       std count     range      mean       std count     range
key1
a     0.709792  0.674293     5  1.686756 -0.224477  0.385674     5  0.978865
b    -0.244746  0.726957     3  1.451857 -0.851723  1.528271     3  2.797850
</code></pre>
<pre><code class="python"># 每列作用不同的聚合函数
dict_mapping = &#123;&#39;data1&#39;:&#39;mean&#39;,
                &#39;data2&#39;:&#39;sum&#39;&#125;
print (df_obj.groupby(&#39;key1&#39;).agg(dict_mapping))
</code></pre>
<pre><code>         data1     data2
key1
a     0.709792 -1.122384
b    -0.244746 -2.555170
</code></pre>
<pre><code class="python">dict_mapping = &#123;&#39;data1&#39;:[&#39;mean&#39;,&#39;max&#39;],
                &#39;data2&#39;:&#39;sum&#39;&#125;
print (df_obj.groupby(&#39;key1&#39;).agg(dict_mapping))
</code></pre>
<pre><code>         data1               data2
          mean       max       sum
key1
a     0.709792  1.539144 -1.122384
b    -0.244746  0.458871 -2.555170
</code></pre>
<h2 id="三、分组运算"><a href="#三、分组运算" class="headerlink" title="三、分组运算"></a>三、分组运算</h2><pre><code class="python">import pandas as pd
import numpy as np
</code></pre>
<h3 id="分组和对齐"><a href="#分组和对齐" class="headerlink" title="分组和对齐"></a>分组和对齐</h3><pre><code class="python">s1 = pd.Series(range(10, 20), index = range(10))
s2 = pd.Series(range(20, 25), index = range(5))
print (&#39;s1: &#39; )
print (s1)
print(&#39;===========================&#39;)
print (&#39;s2: &#39;)
print (s2)
</code></pre>
<pre><code>s1:
0    10
1    11
2    12
3    13
4    14
5    15
6    16
7    17
8    18
9    19
dtype: int64
===========================
s2:
0    20
1    21
2    22
3    23
4    24
dtype: int64
</code></pre>
<pre><code class="python"># Series 对齐运算
s1 + s2
print(s1+s2)
</code></pre>
<pre><code>0    30.0
1    32.0
2    34.0
3    36.0
4    38.0
5     NaN
6     NaN
7     NaN
8     NaN
9     NaN
dtype: float64
</code></pre>
<pre><code class="python">df1 = pd.DataFrame(np.ones((2,2)), columns = [&#39;a&#39;, &#39;b&#39;])
df2 = pd.DataFrame(np.ones((3,3)), columns = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])

print (&#39;df1: &#39;)
print (df1)
print (&#39;=================&#39;)
print (&#39;df2: &#39;)
print (df2)
</code></pre>
<pre><code>df1:
     a    b
0  1.0  1.0
1  1.0  1.0
=================
df2:
     a    b    c
0  1.0  1.0  1.0
1  1.0  1.0  1.0
2  1.0  1.0  1.0
</code></pre>
<pre><code class="python"># DataFrame对齐操作
print(df1 + df2)
</code></pre>
<pre><code>     a    b   c
0  2.0  2.0 NaN
1  2.0  2.0 NaN
2  NaN  NaN NaN
</code></pre>
<p>① 常用运算函数</p>
<pre><code class="python">
# 填充未对齐的数据进行运算
print(s1.add(s2, fill_value = -1))
</code></pre>
<pre><code>0    30.0
1    32.0
2    34.0
3    36.0
4    38.0
5    14.0
6    15.0
7    16.0
8    17.0
9    18.0
dtype: float64
</code></pre>
<pre><code class="python">df1.sub(df2, fill_value = 2.)
#sub函数
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>a</th>
<th>b</th>
<th>c</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr>
<td>1</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr>
<td>2</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
</tbody></table>
<pre><code class="python"># 填充NaN
s3 = s1 + s2
print (s3)
</code></pre>
<pre><code>0    30.0
1    32.0
2    34.0
3    36.0
4    38.0
5     NaN
6     NaN
7     NaN
8     NaN
9     NaN
dtype: float64
</code></pre>
<pre><code class="python">s3_filled = s3.fillna(-1)
print (s3)
</code></pre>
<pre><code>0    30.0
1    32.0
2    34.0
3    36.0
4    38.0
5     NaN
6     NaN
7     NaN
8     NaN
9     NaN
dtype: float64
</code></pre>
<pre><code class="python">df3 = df1 + df2
print (df3)
</code></pre>
<pre><code>     a    b   c
0  2.0  2.0 NaN
1  2.0  2.0 NaN
2  NaN  NaN NaN
</code></pre>
<pre><code class="python">df3.fillna(100, inplace = True)
print (df3)
</code></pre>
<pre><code>       a      b      c
0    2.0    2.0  100.0
1    2.0    2.0  100.0
2  100.0  100.0  100.0
</code></pre>
<h3 id="统计计算-VS-聚合运算"><a href="#统计计算-VS-聚合运算" class="headerlink" title="统计计算 VS 聚合运算"></a>统计计算 VS 聚合运算</h3><pre><code class="python">df_obj1 = pd.DataFrame(np.random.randn(5,4), columns = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])
print(df_obj1)
</code></pre>
<pre><code>          a         b         c         d
0 -0.542708  0.201376  1.111431  1.784324
1  0.583422  0.231096 -2.801967  0.568497
2 -0.577329 -1.668581 -0.842126  1.803080
3 -0.128431 -1.769619  2.089983  0.209761
4  0.493981 -1.571405  0.690019 -0.215292
</code></pre>
<pre><code class="python">print(df_obj1.sum(axis=1))
print(&#39;=====================================&#39;)
print(df_obj1.max())
print(&#39;=====================================&#39;)
print(df_obj1.min(axis=1))
</code></pre>
<pre><code>0    2.554423
1   -1.418952
2   -1.284956
3    0.401694
4   -0.602698
dtype: float64
=====================================
a    0.583422
b    0.231096
c    2.089983
d    1.803080
dtype: float64
=====================================
0   -0.542708
1   -2.801967
2   -1.668581
3   -1.769619
4   -1.571405
dtype: float64
</code></pre>
<h3 id="数据分组运算"><a href="#数据分组运算" class="headerlink" title="数据分组运算"></a>数据分组运算</h3><pre><code class="python"># 分组运算后保持shape
dict_obj = &#123;&#39;key1&#39; : [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;,
                      &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;a&#39;],
            &#39;key2&#39; : [&#39;one&#39;, &#39;one&#39;, &#39;two&#39;, &#39;three&#39;,
                      &#39;two&#39;, &#39;two&#39;, &#39;one&#39;, &#39;three&#39;],
            &#39;data1&#39;: np.random.randint(1, 10, 8),
            &#39;data2&#39;: np.random.randint(1, 10, 8)&#125;
df_obj = pd.DataFrame(dict_obj)
df_obj
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>key1</th>
<th>key2</th>
<th>data1</th>
<th>data2</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>a</td>
<td>one</td>
<td>4</td>
<td>3</td>
</tr>
<tr>
<td>1</td>
<td>b</td>
<td>one</td>
<td>4</td>
<td>4</td>
</tr>
<tr>
<td>2</td>
<td>a</td>
<td>two</td>
<td>9</td>
<td>6</td>
</tr>
<tr>
<td>3</td>
<td>b</td>
<td>three</td>
<td>8</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>a</td>
<td>two</td>
<td>3</td>
<td>3</td>
</tr>
<tr>
<td>5</td>
<td>b</td>
<td>two</td>
<td>6</td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td>a</td>
<td>one</td>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>7</td>
<td>a</td>
<td>three</td>
<td>2</td>
<td>2</td>
</tr>
</tbody></table>
<pre><code class="python"># 按key1分组后，计算data1，data2的统计信息======并附加到原始表格中
k1_sum = df_obj.groupby(&#39;key1&#39;).sum().add_prefix(&#39;sum_&#39;)
print(k1_sum)
print(&#39;================================&#39;)
print(df_obj)
</code></pre>
<pre><code>      sum_data1  sum_data2
key1
a            22         15
b            18          8
================================
  key1   key2  data1  data2
0    a    one      4      3
1    b    one      4      4
2    a    two      9      6
3    b  three      8      2
4    a    two      3      3
5    b    two      6      2
6    a    one      4      1
7    a  three      2      2
</code></pre>
<ol>
<li>merge 方法</li>
</ol>
<pre><code class="python"># 方法1，使用merge
pd.merge(df_obj, k1_sum, left_on=&#39;key1&#39;, right_index=True)
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>key1</th>
<th>key2</th>
<th>data1</th>
<th>data2</th>
<th>sum_data1</th>
<th>sum_data2</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>a</td>
<td>one</td>
<td>4</td>
<td>3</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>2</td>
<td>a</td>
<td>two</td>
<td>9</td>
<td>6</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>4</td>
<td>a</td>
<td>two</td>
<td>3</td>
<td>3</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>6</td>
<td>a</td>
<td>one</td>
<td>4</td>
<td>1</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>7</td>
<td>a</td>
<td>three</td>
<td>2</td>
<td>2</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>1</td>
<td>b</td>
<td>one</td>
<td>4</td>
<td>4</td>
<td>18</td>
<td>8</td>
</tr>
<tr>
<td>3</td>
<td>b</td>
<td>three</td>
<td>8</td>
<td>2</td>
<td>18</td>
<td>8</td>
</tr>
<tr>
<td>5</td>
<td>b</td>
<td>two</td>
<td>6</td>
<td>2</td>
<td>18</td>
<td>8</td>
</tr>
</tbody></table>
<ol start="2">
<li>transform 方法</li>
</ol>
<pre><code class="python"># 方法2，使用transform
k1_sum_tf = df_obj.groupby(&#39;key1&#39;).transform(np.sum).add_prefix(&#39;sum_&#39;)
df_obj[k1_sum_tf.columns] = k1_sum_tf
df_obj
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>key1</th>
<th>key2</th>
<th>data1</th>
<th>data2</th>
<th>sum_key2</th>
<th>sum_data1</th>
<th>sum_data2</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>a</td>
<td>one</td>
<td>4</td>
<td>3</td>
<td>onetwotwoonethree</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>1</td>
<td>b</td>
<td>one</td>
<td>4</td>
<td>4</td>
<td>onethreetwo</td>
<td>18</td>
<td>8</td>
</tr>
<tr>
<td>2</td>
<td>a</td>
<td>two</td>
<td>9</td>
<td>6</td>
<td>onetwotwoonethree</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>3</td>
<td>b</td>
<td>three</td>
<td>8</td>
<td>2</td>
<td>onethreetwo</td>
<td>18</td>
<td>8</td>
</tr>
<tr>
<td>4</td>
<td>a</td>
<td>two</td>
<td>3</td>
<td>3</td>
<td>onetwotwoonethree</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>5</td>
<td>b</td>
<td>two</td>
<td>6</td>
<td>2</td>
<td>onethreetwo</td>
<td>18</td>
<td>8</td>
</tr>
<tr>
<td>6</td>
<td>a</td>
<td>one</td>
<td>4</td>
<td>1</td>
<td>onetwotwoonethree</td>
<td>22</td>
<td>15</td>
</tr>
<tr>
<td>7</td>
<td>a</td>
<td>three</td>
<td>2</td>
<td>2</td>
<td>onetwotwoonethree</td>
<td>22</td>
<td>15</td>
</tr>
</tbody></table>
<ol start="3">
<li>自定义函数</li>
</ol>
<pre><code class="python"># 自定义函数传入transform
def diff_mean(s):
    &quot;&quot;&quot;
        返回数据与均值的差值
    &quot;&quot;&quot;
    return s - s.mean()

df_obj.groupby(&#39;key1&#39;).transform(diff_mean)
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>data1</th>
<th>data2</th>
<th>sum_data1</th>
<th>sum_data2</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>-0.4</td>
<td>0.000000</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>-2.0</td>
<td>1.333333</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>4.6</td>
<td>3.000000</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>2.0</td>
<td>-0.666667</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>-1.4</td>
<td>0.000000</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>5</td>
<td>0.0</td>
<td>-0.666667</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>-0.4</td>
<td>-2.000000</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>-2.4</td>
<td>-1.000000</td>
<td>0</td>
<td>0</td>
</tr>
</tbody></table>
<pre><code class="python">dataset_path = &#39;./data/starcraft.csv&#39;
df_data = pd.read_csv(dataset_path, usecols=[&#39;LeagueIndex&#39;, &#39;Age&#39;, &#39;HoursPerWeek&#39;,
                                             &#39;TotalHours&#39;, &#39;APM&#39;])
</code></pre>
<ul>
<li>apply</li>
</ul>
<pre><code class="python">def top_n(df, n=3, column=&#39;APM&#39;):
    &quot;&quot;&quot;
        返回每个分组按 column 的 top n 数据
    &quot;&quot;&quot;
    return df.sort_values(by=column, ascending=False)[:n]

df_data.groupby(&#39;LeagueIndex&#39;).apply(top_n)
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>LeagueIndex</th>
<th>Age</th>
<th>HoursPerWeek</th>
<th>TotalHours</th>
<th>APM</th>
</tr>
</thead>
<tbody><tr>
<td>LeagueIndex</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>2214</td>
<td>1</td>
<td>20.0</td>
<td>12.0</td>
<td>730.0</td>
<td>172.9530</td>
</tr>
<tr>
<td></td>
<td>2246</td>
<td>1</td>
<td>27.0</td>
<td>8.0</td>
<td>250.0</td>
<td>141.6282</td>
</tr>
<tr>
<td></td>
<td>1753</td>
<td>1</td>
<td>20.0</td>
<td>28.0</td>
<td>100.0</td>
<td>139.6362</td>
</tr>
<tr>
<td>2</td>
<td>3062</td>
<td>2</td>
<td>20.0</td>
<td>6.0</td>
<td>100.0</td>
<td>179.6250</td>
</tr>
<tr>
<td></td>
<td>3229</td>
<td>2</td>
<td>16.0</td>
<td>24.0</td>
<td>110.0</td>
<td>156.7380</td>
</tr>
<tr>
<td></td>
<td>1520</td>
<td>2</td>
<td>29.0</td>
<td>6.0</td>
<td>250.0</td>
<td>151.6470</td>
</tr>
<tr>
<td>3</td>
<td>1557</td>
<td>3</td>
<td>22.0</td>
<td>6.0</td>
<td>200.0</td>
<td>226.6554</td>
</tr>
<tr>
<td></td>
<td>484</td>
<td>3</td>
<td>19.0</td>
<td>42.0</td>
<td>450.0</td>
<td>220.0692</td>
</tr>
<tr>
<td></td>
<td>2883</td>
<td>3</td>
<td>16.0</td>
<td>8.0</td>
<td>800.0</td>
<td>208.9500</td>
</tr>
<tr>
<td>4</td>
<td>2688</td>
<td>4</td>
<td>26.0</td>
<td>24.0</td>
<td>990.0</td>
<td>249.0210</td>
</tr>
<tr>
<td></td>
<td>1759</td>
<td>4</td>
<td>16.0</td>
<td>6.0</td>
<td>75.0</td>
<td>229.9122</td>
</tr>
<tr>
<td></td>
<td>2637</td>
<td>4</td>
<td>23.0</td>
<td>24.0</td>
<td>650.0</td>
<td>227.2272</td>
</tr>
<tr>
<td>5</td>
<td>3277</td>
<td>5</td>
<td>18.0</td>
<td>16.0</td>
<td>950.0</td>
<td>372.6426</td>
</tr>
<tr>
<td></td>
<td>93</td>
<td>5</td>
<td>17.0</td>
<td>36.0</td>
<td>720.0</td>
<td>335.4990</td>
</tr>
<tr>
<td></td>
<td>202</td>
<td>5</td>
<td>37.0</td>
<td>14.0</td>
<td>800.0</td>
<td>327.7218</td>
</tr>
<tr>
<td>6</td>
<td>734</td>
<td>6</td>
<td>16.0</td>
<td>28.0</td>
<td>730.0</td>
<td>389.8314</td>
</tr>
<tr>
<td></td>
<td>2746</td>
<td>6</td>
<td>16.0</td>
<td>28.0</td>
<td>4000.0</td>
<td>350.4114</td>
</tr>
<tr>
<td></td>
<td>1810</td>
<td>6</td>
<td>21.0</td>
<td>14.0</td>
<td>730.0</td>
<td>323.2506</td>
</tr>
<tr>
<td>7</td>
<td>3127</td>
<td>7</td>
<td>23.0</td>
<td>42.0</td>
<td>2000.0</td>
<td>298.7952</td>
</tr>
<tr>
<td></td>
<td>104</td>
<td>7</td>
<td>21.0</td>
<td>24.0</td>
<td>1000.0</td>
<td>286.4538</td>
</tr>
<tr>
<td></td>
<td>1654</td>
<td>7</td>
<td>18.0</td>
<td>98.0</td>
<td>700.0</td>
<td>236.0316</td>
</tr>
<tr>
<td>8</td>
<td>3393</td>
<td>8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>375.8664</td>
</tr>
<tr>
<td></td>
<td>3373</td>
<td>8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>364.8504</td>
</tr>
<tr>
<td></td>
<td>3372</td>
<td>8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>355.3518</td>
</tr>
</tbody></table>
<pre><code class="python"># apply函数接收的参数会传入自定义的函数中
df_data.groupby(&#39;LeagueIndex&#39;).apply(top_n, n=2, column=&#39;Age&#39;)
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>LeagueIndex</th>
<th>Age</th>
<th>HoursPerWeek</th>
<th>TotalHours</th>
<th>APM</th>
</tr>
</thead>
<tbody><tr>
<td>LeagueIndex</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>3146</td>
<td>1</td>
<td>40.0</td>
<td>12.0</td>
<td>150.0</td>
<td>38.5590</td>
</tr>
<tr>
<td></td>
<td>3040</td>
<td>1</td>
<td>39.0</td>
<td>10.0</td>
<td>500.0</td>
<td>29.8764</td>
</tr>
<tr>
<td>2</td>
<td>920</td>
<td>2</td>
<td>43.0</td>
<td>10.0</td>
<td>730.0</td>
<td>86.0586</td>
</tr>
<tr>
<td></td>
<td>2437</td>
<td>2</td>
<td>41.0</td>
<td>4.0</td>
<td>200.0</td>
<td>54.2166</td>
</tr>
<tr>
<td>3</td>
<td>1258</td>
<td>3</td>
<td>41.0</td>
<td>14.0</td>
<td>800.0</td>
<td>77.6472</td>
</tr>
<tr>
<td></td>
<td>2972</td>
<td>3</td>
<td>40.0</td>
<td>10.0</td>
<td>500.0</td>
<td>60.5970</td>
</tr>
<tr>
<td>4</td>
<td>1696</td>
<td>4</td>
<td>44.0</td>
<td>6.0</td>
<td>500.0</td>
<td>89.5266</td>
</tr>
<tr>
<td></td>
<td>1729</td>
<td>4</td>
<td>39.0</td>
<td>8.0</td>
<td>500.0</td>
<td>86.7246</td>
</tr>
<tr>
<td>5</td>
<td>202</td>
<td>5</td>
<td>37.0</td>
<td>14.0</td>
<td>800.0</td>
<td>327.7218</td>
</tr>
<tr>
<td></td>
<td>2745</td>
<td>5</td>
<td>37.0</td>
<td>18.0</td>
<td>1000.0</td>
<td>123.4098</td>
</tr>
<tr>
<td>6</td>
<td>3069</td>
<td>6</td>
<td>31.0</td>
<td>8.0</td>
<td>800.0</td>
<td>133.1790</td>
</tr>
<tr>
<td></td>
<td>2706</td>
<td>6</td>
<td>31.0</td>
<td>8.0</td>
<td>700.0</td>
<td>66.9918</td>
</tr>
<tr>
<td>7</td>
<td>2813</td>
<td>7</td>
<td>26.0</td>
<td>36.0</td>
<td>1300.0</td>
<td>188.5512</td>
</tr>
<tr>
<td></td>
<td>1992</td>
<td>7</td>
<td>26.0</td>
<td>24.0</td>
<td>1000.0</td>
<td>219.6690</td>
</tr>
<tr>
<td>8</td>
<td>3340</td>
<td>8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>189.7404</td>
</tr>
<tr>
<td></td>
<td>3341</td>
<td>8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>287.8128</td>
</tr>
</tbody></table>
<ul>
<li>禁止分组 group_keys=False</li>
</ul>
<pre><code class="python">df_data.groupby(&#39;LeagueIndex&#39;, group_keys=False).apply(top_n)
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>LeagueIndex</th>
<th>Age</th>
<th>HoursPerWeek</th>
<th>TotalHours</th>
<th>APM</th>
</tr>
</thead>
<tbody><tr>
<td>2214</td>
<td>1</td>
<td>20.0</td>
<td>12.0</td>
<td>730.0</td>
<td>172.9530</td>
</tr>
<tr>
<td>2246</td>
<td>1</td>
<td>27.0</td>
<td>8.0</td>
<td>250.0</td>
<td>141.6282</td>
</tr>
<tr>
<td>1753</td>
<td>1</td>
<td>20.0</td>
<td>28.0</td>
<td>100.0</td>
<td>139.6362</td>
</tr>
<tr>
<td>3062</td>
<td>2</td>
<td>20.0</td>
<td>6.0</td>
<td>100.0</td>
<td>179.6250</td>
</tr>
<tr>
<td>3229</td>
<td>2</td>
<td>16.0</td>
<td>24.0</td>
<td>110.0</td>
<td>156.7380</td>
</tr>
<tr>
<td>1520</td>
<td>2</td>
<td>29.0</td>
<td>6.0</td>
<td>250.0</td>
<td>151.6470</td>
</tr>
<tr>
<td>1557</td>
<td>3</td>
<td>22.0</td>
<td>6.0</td>
<td>200.0</td>
<td>226.6554</td>
</tr>
<tr>
<td>484</td>
<td>3</td>
<td>19.0</td>
<td>42.0</td>
<td>450.0</td>
<td>220.0692</td>
</tr>
<tr>
<td>2883</td>
<td>3</td>
<td>16.0</td>
<td>8.0</td>
<td>800.0</td>
<td>208.9500</td>
</tr>
<tr>
<td>2688</td>
<td>4</td>
<td>26.0</td>
<td>24.0</td>
<td>990.0</td>
<td>249.0210</td>
</tr>
<tr>
<td>1759</td>
<td>4</td>
<td>16.0</td>
<td>6.0</td>
<td>75.0</td>
<td>229.9122</td>
</tr>
<tr>
<td>2637</td>
<td>4</td>
<td>23.0</td>
<td>24.0</td>
<td>650.0</td>
<td>227.2272</td>
</tr>
<tr>
<td>3277</td>
<td>5</td>
<td>18.0</td>
<td>16.0</td>
<td>950.0</td>
<td>372.6426</td>
</tr>
<tr>
<td>93</td>
<td>5</td>
<td>17.0</td>
<td>36.0</td>
<td>720.0</td>
<td>335.4990</td>
</tr>
<tr>
<td>202</td>
<td>5</td>
<td>37.0</td>
<td>14.0</td>
<td>800.0</td>
<td>327.7218</td>
</tr>
<tr>
<td>734</td>
<td>6</td>
<td>16.0</td>
<td>28.0</td>
<td>730.0</td>
<td>389.8314</td>
</tr>
<tr>
<td>2746</td>
<td>6</td>
<td>16.0</td>
<td>28.0</td>
<td>4000.0</td>
<td>350.4114</td>
</tr>
<tr>
<td>1810</td>
<td>6</td>
<td>21.0</td>
<td>14.0</td>
<td>730.0</td>
<td>323.2506</td>
</tr>
<tr>
<td>3127</td>
<td>7</td>
<td>23.0</td>
<td>42.0</td>
<td>2000.0</td>
<td>298.7952</td>
</tr>
<tr>
<td>104</td>
<td>7</td>
<td>21.0</td>
<td>24.0</td>
<td>1000.0</td>
<td>286.4538</td>
</tr>
<tr>
<td>1654</td>
<td>7</td>
<td>18.0</td>
<td>98.0</td>
<td>700.0</td>
<td>236.0316</td>
</tr>
<tr>
<td>3393</td>
<td>8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>375.8664</td>
</tr>
<tr>
<td>3373</td>
<td>8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>364.8504</td>
</tr>
<tr>
<td>3372</td>
<td>8</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>355.3518</td>
</tr>
</tbody></table>

</div>

         

<div class="component article_more">
    <p>博客内容遵循：
        <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">署名-非商业性使用-禁止演绎 4.0 国际（CC BY-NC-ND 4.0）</a>
    </p>
    <p>本文永久链接：
        <a href="https://www.wztlink1013.com/blog/oq4xcx/">https://www.wztlink1013.com/blog/oq4xcx/</a>
    </p>
    <p class="article_more_btn">
        编辑：<a target="_blank" rel="noopener" href="https://www.yuque.com/nicaibandishuqing/blog/oq4xcx/edit"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
        部署：<a target="_blank" rel="noopener" href="https://github.com/wztlink1013/website/actions"><i class="fa fa-external-link" aria-hidden="true"></i></a>
        订阅：<a href="https://www.wztlink1013.com/feed.xml"><i class="fa fa-feed" aria-hidden="true"></i></a>
    </p>
</div>
        <div class="prev_next component">
    
          
            <span class="prev_next_left">
                <a href="/blog/nfqdqf/">
                    <i class="fa fa-arrow-left" aria-hidden="true"></i>
                    <b>Pandas库使用——各种索引</b>
                </a>
            </span>
          
          
            <span class="prev_next_right">
                <a href="/blog/mk2z96/">
                    <b>Numpy库使用</b>
                    <i class="fa fa-arrow-right" aria-hidden="true"></i>
                </a>
            </span>
          
    
</div>


        <div class="component clearfix comments" id="comments" style="display: block;">
  <div class="comments_title">
      <h2>评论区</h2>
      
      <!-- 转换评论按钮 -->
      <div class="switch_comments">
        <span>Twikoo</span>
        <span id="switch_btn">转换</span>
        <span>utterances</span>
      </div>
  </div>

  <div class="comments_content">
      <!-- utterances评论区 -->
      <div id="utterances_comment" style="display: none;"></div>
      <!-- twikoo评论区 -->
      <div id="twikoo_comment" style="display: block;">
        <div id="tcomment"></div>
        <script src="https://cdn.jsdelivr.net/npm/twikoo@1.3.0/dist/twikoo.all.min.js"></script>
        <script>
          twikoo.init({
          envId: 'website-wikoo-4g46k8do98867542',
          el: '#tcomment',
          // region: 'ap-guangzhou', // 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数
          // path: 'window.location.pathname', // 用于区分不同文章的自定义 js 路径，如果您的文章路径不是 location.pathname，需传此参数
          }).then(function () {
              console.log('Twikoo 初始化加载完成');
          });
        </script>
      </div>


  </div>
</div>


        
        
    </div>
    <div class="ct_right">
        

<div class="component clearfix categories">
    <h3>『技术』文章分类</h3><ul class="cate_forder">
    
            <li class="cate_cell">
            <a href="/categories/Algorithm">Algorithm</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95">分治算法</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/Problems">Problems</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/%E5%85%B6%E4%BB%96%E7%AE%97%E6%B3%95">其他算法</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0">算法综述</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/%E7%A9%B7%E4%B8%BE%E7%AE%97%E6%B3%95">穷举算法</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/%E6%9F%A5%E6%89%BE%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95">查找排序算法</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95">贪心算法</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95">动态规划算法</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/RSA%E7%AE%97%E6%B3%95">RSA算法</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Algorithm/%E9%80%92%E5%BD%92%E7%AE%97%E6%B3%95">递归算法</a>
                            </li>
                        
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/Bug">Bug</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/ComputerNetwork">ComputerNetwork</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/ComputerOperatingSystem">ComputerOperatingSystem</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/ComputerOrganization">ComputerOrganization</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/DataAnalysis">DataAnalysis</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/DataBase">DataBase</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/DataStructure">DataStructure</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
                            <li class="category-list-child">
                                <a href="/categories/DataStructure/Problems">Problems</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/DataStructure/%E7%BA%BF%E7%BB%93%E6%9E%84">线结构</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/DataStructure/%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86">其他知识</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/DataStructure/%E6%A0%91%E7%BB%93%E6%9E%84">树结构</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/DataStructure/%E5%9B%BE%E7%BB%93%E6%9E%84">图结构</a>
                            </li>
                        
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/Environment">Environment</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
                            <li class="category-list-child">
                                <a href="/categories/Environment/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8">工具使用</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Environment/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">环境配置</a>
                            </li>
                        
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/Hexo">Hexo</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/Language">Language</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
                            <li class="category-list-child">
                                <a href="/categories/Language/CSS">CSS</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Language/JAVA">JAVA</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Language/Python">Python</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Language/English">English</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Language/CPlusPlus">CPlusPlus</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Language/HTML">HTML</a>
                            </li>
                        
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/MachingLearning">MachingLearning</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/PostProduction">PostProduction</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/SoftwareEngineering">SoftwareEngineering</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/VersionControlSystem">VersionControlSystem</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/Web">Web</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
                            <li class="category-list-child">
                                <a href="/categories/Web/jQuery">jQuery</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Web/DOM">DOM</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Web/node">node</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Web/BOM">BOM</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Web/JavaScript%E7%89%B9%E6%95%88">JavaScript特效</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Web/ECMAScript">ECMAScript</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Web/Vue">Vue</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Web/%E7%BD%91%E7%AB%99%E7%9B%B8%E5%85%B3">网站相关</a>
                            </li>
                        
                            <li class="category-list-child">
                                <a href="/categories/Web/Web%E5%85%B6%E4%BB%96">Web其他</a>
                            </li>
                        
            </ul>
            </li>
        
</ul>
</div>

        <!-- partial('_widget/hot_articles') -->
        <div class="component clearfix new_comments">
    <h3 class="title">最新评论</h3>
    <div class="new_comments_loding">
        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
        <span class="sr-only">Loading...</span>
    </div>
    <ul class="hot_articles_item"></ul>
</div>

<!-- 最新布局的文章列表布局 -->
<!-- '<div class="item_up">
        <img src="' + new_comments_avatar + '" class="avatar">
        <div class="nick_name">
            <span class="nick">' + new_comments_nick + '</span>
            <span class="time">' + new_comments_time + '</span>
        </div>
    </div>
    <div class="item_down">
        <a href="' + new_comments_url + new_comments_id + '">' + new_comments_content + '</a>
    </div>'
 -->

    </div>

</div>
<footer class="footer">
    <div class="content">
    <div><a href="/">赣ICP备20002826号-1</a></div>
    <div><a href="/">尼采般地抒情</a></div>
    <div><a href="/">联系方式</a></div>
</div>
</footer>

</body>
    
        
<script src="/public/js/main.js"></script>

     
</html>