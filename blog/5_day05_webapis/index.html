

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>BOM各种长宽的总结 | 尼采般地抒情</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="HandheldFriendly" content="True" />
    <meta name="author" content="尼采般地抒情">
    <meta name="email" content="wztlink1013@163.com">
    <meta name="description" content="其他关于长宽window.innerWidth 和 innerHeight表示文档显示区域的宽高，不包括工具栏和地址栏等区域；window.pageYOffset 和 pageXOffsetie9 往后才支持的“被卷去”的长度鼠标事件对象 event元素偏移量 offsetoffset 概述offs">
    <meta name="keywords" content="技术,生活,博客,随笔,个人网站,感悟,思考,读书">
    <meta property="og:type" content="article">
    <meta property="og:title" content="BOM各种长宽的总结 | 尼采般地抒情">
    <meta property="og:url" content="https://www.wztlink1013.com/blog/5_day05_webapis/">
    <meta property="og:site_name" content="尼采般地抒情">
    <meta property="og:description" content="其他关于长宽window.innerWidth 和 innerHeight表示文档显示区域的宽高，不包括工具栏和地址栏等区域；window.pageYOffset 和 pageXOffsetie9 往后才支持的“被卷去”的长度鼠标事件对象 event元素偏移量 offsetoffset 概述offs">
    <meta name="generator" content="https://hexo.io" />
    <!-- 解决语雀图片不显示 -->
    <meta name="referrer" content="no-referrer" />
    <!-- 引入highlight样式 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wztlink1013/cdn-website@1.0.3/highlight/9.18.1/solarized-light.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wztlink1013/cdn-website@1.0.9/highlight/10.7.1/highlight.min.js"></script>
    <!-- 引入主CSS样式 -->
    
<link rel="stylesheet" href="/public/css/style.css">

    <!-- font-awesome的css样式 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wztlink1013/cdn-website@1.0.8/font/css/font-awesome.min.css">
    <!-- 引入jQuery -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <!-- algolia for the search only version -->
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js"></script>
    <!-- algolia for the default version -->
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch.umd.js"></script>
    <!-- algolia 元信息 -->
    <meta property="algolia:search" data-application-id="S6IZ6GONGO" data-api-key="d28a34ff9a07bff7c9e54ceef1e1df3b" data-index-name="website">
</head>
<body>
    <div class="bg_color"></div>
<!-- PC端 -->
<header class="header">
    <a href="/">
        <i class="fa fa-home" aria-hidden="true"></i>
    </a>
    <div class="hd_left" id="arrow_left">
        <i class="fa fa-arrow-right" aria-hidden="true"></i>
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
    </div>
    <div class="hd_right" id="arrow_right">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
        <i class="fa fa-arrow-right" aria-hidden="true"></i>
    </div>
</header>
<!-- 移动端 -->
<header class="header_app">
    <a href="/">
        <i class="fa fa-home" aria-hidden="true"></i>
    </a>
    <div class="hd_left" id="btn_app_sider">
        <i class="fa fa-bars" aria-hidden="true"></i>
    </div>
    <div class="hd_right" id="btn_app_right">
        <i class="fa fa-picture-o" aria-hidden="true"></i>
    </div>
</header>
<!-- 移动端侧边栏 -->
<div class="app_side_glass" id="app_side_glass">
</div>
<div class="app_side_content" id="app_side_content">
    <h3>尼采般地抒情</h3>
    <div class="component clearfix board">
    <h3>公告栏</h3>
    <div class="board_content">
        <p>
            <b>此网站主题为本人手写主题，主题还在开发中……</b><hr>
            <!-- 主题：hexo-theme-lyrics<hr> -->
            <b>作者:尼采般地抒情</b><hr>
        </p>

    </div>
</div>

    <div class="component clearfix links">
    <h3>站内导航</h3>
    <ul>
        <li><a href="https://www.wztlink1013.com">尼采般地抒情</a></li>
    </ul>
</div>

    <div class="component clearfix web_info">
    <h3>站点信息</h3>
    <div>
        <span>文章数目：</span>246 <span>篇</span>
    </div>
    <div>
        <span>已运行时间：</span>
    </div>
    <span id="webinfo_runtime_count_1"></span>
    <img src="https://api.luvying.com/acgimg">
</div>






</div>


<div class="global_button">
    <div title="顶部" class="global_button_item" id="go_top" style="display: none;">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </div>
    <div title="搜索" class="global_button_item" id="search_btn">
        <i class="fa fa-search" aria-hidden="true"></i>
    </div>
    <div title="评论" class="global_button_item" id="go_comments" style="display: none;">
        <a href="#comments"><i class="fa fa-comments" aria-hidden="true"></i></a>
    </div>
    <div title="目录" class="global_button_item" id="toc_btn" >
        <i class="fa fa-list" aria-hidden="true"></i>
    </div>
    <div title="夜间" class="global_button_item">
        <i class="fa fa-adjust" aria-hidden="true"></i>
    </div>
    <div title="分享" class="global_button_item btn-default need-share-button-default need-share-button" data-share-position="topLeft">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
    </div>
</div>
<div class="toc_container">
    <div class="toc_title">
        <i class="fa fa-list" aria-hidden="true"></i>
        <span>目录</span>
    </div>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%85%B3%E4%BA%8E%E9%95%BF%E5%AE%BD"><span class="toc-text">其他关于长宽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#window-innerWidth-%E5%92%8C-innerHeight"><span class="toc-text">window.innerWidth 和 innerHeight</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#window-pageYOffset-%E5%92%8C-pageXOffset"><span class="toc-text">window.pageYOffset 和 pageXOffset</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1-event"><span class="toc-text">鼠标事件对象 event</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%81%8F%E7%A7%BB%E9%87%8F-offset"><span class="toc-text">元素偏移量 offset</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#offset-%E6%A6%82%E8%BF%B0"><span class="toc-text">offset 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#offset-%E4%B8%8E-style-%E5%8C%BA%E5%88%AB"><span class="toc-text">offset 与 style 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Demo%EF%BC%9A%E8%8E%B7%E5%8F%96%E9%BC%A0%E6%A0%87%E5%9C%A8%E7%9B%92%E5%AD%90%E5%86%85%E7%9A%84%E5%9D%90%E6%A0%87"><span class="toc-text">Demo：获取鼠标在盒子内的坐标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Demo%EF%BC%9A%E6%A8%A1%E6%80%81%E6%A1%86%E6%8B%96%E6%8B%BD"><span class="toc-text">Demo：模态框拖拽</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%86%E5%8C%BA-client-%E7%B3%BB%E5%88%97"><span class="toc-text">元素可视区 client 系列</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#client-%E6%A6%82%E8%BF%B0"><span class="toc-text">client 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%98%E5%AE%9D-flexible-js-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">淘宝 flexible.js 源码分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E6%BB%9A%E5%8A%A8-scroll-%E7%B3%BB%E5%88%97"><span class="toc-text">元素滚动 scroll 系列</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#scroll-%E6%A6%82%E8%BF%B0"><span class="toc-text">scroll 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E5%A4%B4%E9%83%A8"><span class="toc-text">页面被卷去的头部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E5%A4%B4%E9%83%A8%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text">页面被卷去的头部兼容性解决方案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%A4%A7%E7%B3%BB%E5%88%97%E6%80%BB%E7%BB%93"><span class="toc-text">三大系列总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-1"><span class="toc-text"></span></a></li></ol>
</div>
<div class="search_box">
        <div class="search">
            <input type="text" autocomplete="off" name="search" placeholder="搜索一下吧~" id="local-search-input">
            <i class="fa fa-times search_close" aria-hidden="true"></i>
        </div>

    <div id="local-search-result">
        请输入搜索词以便展示搜索结果……
    </div>
</div>
<div class="clearfix container">
    <div class="ct_left">
        <div class="component clearfix blogger">
    <h3>尼采般地抒情</h3>
    <img class="blogger_left" src="https://cdn.jsdelivr.net/gh/wztlink1013/cdn-pictures@1.0.1/avatar/pic/MilkTea.png" alt="尼采般地抒情">
</div>

        <div class="component clearfix board">
    <h3>公告栏</h3>
    <div class="board_content">
        <p>
            <b>此网站主题为本人手写主题，主题还在开发中……</b><hr>
            <!-- 主题：hexo-theme-lyrics<hr> -->
            <b>作者:尼采般地抒情</b><hr>
        </p>

    </div>
</div>

        <div class="component clearfix links">
    <h3>站内导航</h3>
    <ul>
        <li><a href="https://www.wztlink1013.com">尼采般地抒情</a></li>
    </ul>
</div>

        <div class="component clearfix web_info">
    <h3>站点信息</h3>
    <div>
        <span>文章数目：</span>246 <span>篇</span>
    </div>
    <div>
        <span>已运行时间：</span>
    </div>
    <span id="webinfo_runtime_count_1"></span>
    <img src="https://api.luvying.com/acgimg">
</div>






    </div>
    <div class="ct_center">
        <div class="component article_meta">
    <div class="article_meta_title">
        <h1>BOM各种长宽的总结</h1>
    </div>
    <div class="article_meta_other">
        <span class="meta_item">
            <!-- <i class="fa fa-user-circle" aria-hidden="true"></i> -->
            <img src="https://cdn.jsdelivr.net/gh/wztlink1013/cdn-pictures@1.0.1/avatar/pic/MilkTea.png" class="meta_img">
            <a href="/">尼采般地抒情</a>
        </span>
        <span class="meta_item">
            <i class="fa fa-clock-o" aria-hidden="true"></i>
            2021-02-05 01:46:05
        </span>
        
        
            <span class="meta_item">
                <i class="fa fa-folder-open-o" aria-hidden="true"></i>
                
                    <a href="/categories/JavaScript">
                        JavaScript
                    </a>
                    
            </span>
         

         

        <span class="meta_item">
            <i class="fa fa-eye" aria-hidden="true"></i>
            <span id="twikoo_visitors">loading</span>
            次访问
        </span>

        <span class="meta_item">
            <i class="fa fa-comments-o" aria-hidden="true"></i>
            <span id="twikoo_comments">loading</span>
        </span>
    </div>
</div>
        <div class="component article">
    <h2 id="其他关于长宽"><a href="#其他关于长宽" class="headerlink" title="其他关于长宽"></a><strong>其他关于长宽</strong></h2><h3 id="window-innerWidth-和-innerHeight"><a href="#window-innerWidth-和-innerHeight" class="headerlink" title="window.innerWidth 和 innerHeight"></a>window.innerWidth 和 innerHeight</h3><ul>
<li>表示文档显示区域的宽高，不包括工具栏和地址栏等区域；</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1617937380778-c1f24a67-c63e-49d1-9907-f7fe91880e9f.png#align=left&display=inline&height=238&margin=%5Bobject%20Object%5D&name=image.png&originHeight=476&originWidth=1236&size=64616&status=done&style=stroke&width=618" alt="image.png"></p>
<h3 id="window-pageYOffset-和-pageXOffset"><a href="#window-pageYOffset-和-pageXOffset" class="headerlink" title="window.pageYOffset 和 pageXOffset"></a>window.pageYOffset 和 pageXOffset</h3><p>ie9 往后才支持的“被卷去”的长度<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1617938014655-932453ea-63bc-4bc1-8388-63b41417892d.png#align=left&display=inline&height=210&margin=%5Bobject%20Object%5D&name=image.png&originHeight=420&originWidth=1234&size=62349&status=done&style=none&width=617" alt="image.png"></p>
<h3 id="鼠标事件对象-event"><a href="#鼠标事件对象-event" class="headerlink" title="鼠标事件对象 event"></a>鼠标事件对象 event</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1612518361978-034f2af6-14fa-4ddb-bd8b-2eabe289eb59.png#align=left&display=inline&height=308&margin=%5Bobject%20Object%5D&originHeight=308&originWidth=703&status=done&style=stroke&width=703"></p>
<h2 id="元素偏移量-offset"><a href="#元素偏移量-offset" class="headerlink" title="元素偏移量 offset"></a>元素偏移量 offset</h2><h3 id="offset-概述"><a href="#offset-概述" class="headerlink" title="offset 概述"></a>offset 概述</h3><blockquote>
<p>offset 翻译过来就是偏移量， 我们使用 offset 系列相关属性可以动态的得到该元素的位置（偏移）、大小等。</p>
</blockquote>
<ul>
<li><p>获得元素距离带有定位父元素的位置</p>
</li>
<li><p>获得元素自身的大小（宽度高度）</p>
</li>
<li><p>注意：返回的数值都不带单位</p>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616067042341-17b54a01-de40-4ad5-8a54-ad61317d27ae.png#align=left&display=inline&height=157&margin=%5Bobject%20Object%5D&name=image.png&originHeight=313&originWidth=1044&size=201699&status=done&style=stroke&width=522" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616068060630-5d0eeb72-5a55-48c4-8e60-1e0f2cd4afed.png#align=left&display=inline&height=440&margin=%5Bobject%20Object%5D&name=image.png&originHeight=880&originWidth=1920&size=2504958&status=done&style=stroke&width=960" alt="image.png"></p>
<h3 id="offset-与-style-区别"><a href="#offset-与-style-区别" class="headerlink" title="offset 与 style 区别"></a>offset 与 style 区别</h3><p>【1】offset</p>
<ul>
<li><p>offset 可以得到任意样式表中的样式值</p>
</li>
<li><p>offset 系列获得的数值是没有单位的</p>
</li>
<li><p><strong>offsetWidth 包含 padding+border+width</strong></p>
</li>
<li><p>offsetWidth 等属性是只读属性，只能获取不能赋值</p>
</li>
</ul>
<blockquote>
<p>所以，我们想要获取元素大小位置，用 offset 更合适</p>
</blockquote>
<p>【2】style</p>
<ul>
<li><p>style 只能得到<strong>行内样式表中的样式值</strong></p>
</li>
<li><p>style.width 获得的是带有单位的字符串</p>
</li>
<li><p>style.width 获得不包含 padding 和 border 的值</p>
</li>
<li><p>style.width 是可读写属性，可以获取也可以赋值</p>
</li>
</ul>
<blockquote>
<p>所以，我们想要给元素更改值，则需要用 style 改变<br><strong>因为平时我们都是给元素注册触摸事件，所以重点记住 targetTocuhes</strong></p>
</blockquote>
<h3 id="Demo：获取鼠标在盒子内的坐标"><a href="#Demo：获取鼠标在盒子内的坐标" class="headerlink" title="Demo：获取鼠标在盒子内的坐标"></a>Demo：获取鼠标在盒子内的坐标</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616069445575-c9a9b51d-665d-4f26-96bb-768a9415a230.png#align=left&display=inline&height=429&margin=%5Bobject%20Object%5D&name=image.png&originHeight=857&originWidth=1920&size=2461932&status=done&style=stroke&width=960" alt="image.png"></p>
<pre><code class="javascript">box.addEventListener(&quot;mousemove&quot;, function (e) &#123;
  if (e.pageX &gt; box_left + box.width) &#123;
    var ture_width = e.pageX - box_left + box_width;
  &#125; else &#123;
    var ture_width = e.pageX - box_left;
  &#125;
  if (e.pageY &gt; box_top + box_height) &#123;
    var ture_height = e.pageY - box_top + box_height;
  &#125; else &#123;
    var ture_height = e.pageY - box_top;
  &#125;
  this.innerHTML = &quot;x坐标是&quot; + ture_width + &quot; y坐标是&quot; + ture_height;
&#125;);
</code></pre>
<h3 id="Demo：模态框拖拽"><a href="#Demo：模态框拖拽" class="headerlink" title="Demo：模态框拖拽"></a>Demo：模态框拖拽</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616210051320-8b04d6a8-efc0-4a78-a985-80fdc0a0c238.png#align=left&display=inline&height=440&margin=%5Bobject%20Object%5D&name=image.png&originHeight=879&originWidth=1920&size=63982&status=done&style=stroke&width=960" alt="image.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
      * &#123;
        padding: 0px;
        margin: 0px;
      &#125;
      a &#123;
        text-decoration: none;
        color: #000000;
      &#125;
      .login-header &#123;
        width: 100%;
        text-align: center;
        height: 30px;
        line-height: 30px;
        font-size: 24px;
      &#125;
      .login-bg &#123;
        display: none;
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0px;
        left: 0px;
        background: rgba(0, 0, 0, 0.3);
      &#125;
      .login &#123;
        display: none;
        width: 512px;
        height: 280px;
        position: fixed;
        left: 50%;
        top: 50%;
        z-index: 9999;
        border: #ebebeb solid 1px;
        background-color: #ffffff;
        box-shadow: 0px 0px 20px #ddd;
        transform: translate(-50%, -50%);
      &#125;
      .login-title &#123;
        width: 100%;
        margin: 10px 0 0 0;
        text-align: center;
        line-height: 40px;
        height: 40px;
        font-size: 18px;
        position: relative;
        cursor: move;
      &#125;
      .login-title span &#123;
        position: absolute;
        width: 40px;
        height: 40px;
        font-size: 12px;
        background: #ffffff;
        border: #ebebeb solid 1px;
        right: -20px;
        top: -30px;
        border-radius: 50%;
      &#125;
      .login-input-content &#123;
        margin: 20px 0 0 0;
      &#125;
      .login-input &#123;
        overflow: hidden;
        margin: 0px 0px 20px 0px;
      &#125;
      .login-input label &#123;
        float: left;
        width: 90px;
        padding-right: 10px;
        text-align: right;
        line-height: 35px;
        height: 35px;
        font-size: 14px;
      &#125;
      .login-input input.list-input &#123;
        float: left;
        line-height: 35px;
        height: 35px;
        width: 350px;
        border: #ebebeb 1px solid;
        text-indent: 5px;
      &#125;
      .login-input input.button-login &#123;
        display: block;
        border: 1px #ebebeb solid;
        height: 35px;
        width: 50%;
        margin: 20px auto;
      &#125;
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class=&quot;login-header&quot;&gt;
      &lt;a id=&quot;link&quot; href=&quot;javascript:;&quot;&gt;点击，弹出登录框&lt;/a&gt;
    &lt;/div&gt;
    &lt;div id=&quot;loginBg&quot; class=&quot;login-bg&quot;&gt;&lt;/div&gt;
    &lt;div id=&quot;login&quot; class=&quot;login&quot;&gt;
      &lt;div class=&quot;login-title&quot;&gt;
        登录会员
        &lt;span
          &gt;&lt;a id=&quot;closeBtn&quot; href=&quot;javascript:; &quot; class=&quot;close-login&quot;
            &gt;关闭&lt;/a
          &gt;&lt;/span
        &gt;
      &lt;/div&gt;
      &lt;div class=&quot;login-input-content&quot;&gt;
        &lt;div class=&quot;login-input&quot;&gt;
          &lt;label&gt;用户名：&lt;/label&gt;
          &lt;input
            type=&quot;text&quot;
            placeholder=&quot;请输入用户名&quot;
            name=&quot;info[username]&quot;
            id=&quot;username&quot;
            class=&quot;list-input&quot;
          /&gt;
        &lt;/div&gt;
        &lt;div class=&quot;login-input&quot;&gt;
          &lt;label&gt;登录密码：&lt;/label&gt;
          &lt;input
            type=&quot;password&quot;
            placeholder=&quot;请输入登录密码&quot;
            name=&quot;info[password]&quot;
            id=&quot;password&quot;
            class=&quot;list-input&quot;
          /&gt;
        &lt;/div&gt;
        &lt;div class=&quot;login-input&quot;&gt;
          &lt;input type=&quot;button&quot; class=&quot;button-login&quot; value=&quot;登录会员&quot; /&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;script&gt;
      var link = document.getElementById(&quot;link&quot;);
      var loginBg = document.getElementById(&quot;loginBg&quot;);
      var login = document.getElementById(&quot;login&quot;);
      var closeBtn = document.getElementById(&quot;closeBtn&quot;);
      link.addEventListener(&quot;click&quot;, function () &#123;
        loginBg.style.display = &quot;block&quot;;
        login.style.display = &quot;block&quot;;
      &#125;);
      closeBtn.addEventListener(&quot;click&quot;, function () &#123;
        loginBg.style.display = &quot;none&quot;;
        login.style.display = &quot;none&quot;;
      &#125;);
      login.addEventListener(&quot;mousedown&quot;, function (e) &#123;
        var x = e.pageX - login.offsetLeft;
        var y = e.pageY - login.offsetTop;
        document.addEventListener(&quot;mousemove&quot;, move);

        function move(e) &#123;
          login.style.left = e.pageX - x + &quot;px&quot;;
          login.style.top = e.pageY - y + &quot;px&quot;;
        &#125;
        document.addEventListener(&quot;mouseup&quot;, function () &#123;
          document.removeEventListener(&quot;mousemove&quot;, move);
        &#125;);
      &#125;);
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="元素可视区-client-系列"><a href="#元素可视区-client-系列" class="headerlink" title="元素可视区 client 系列"></a>元素可视区 client 系列</h2><h3 id="client-概述"><a href="#client-概述" class="headerlink" title="client 概述"></a>client 概述</h3><p>client 翻译过来就是客户端，我们使用 client 系列的相关属性来获取元素可视区的相关信息。通过 client<br>系列的相关属性可以动态的得到该元素的边框大小、元素大小等。<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616070278053-25f4dbb3-2991-4ce4-b1ec-cb3a94f80c0c.png#align=left&display=inline&height=129&margin=%5Bobject%20Object%5D&name=image.png&originHeight=257&originWidth=1030&size=138269&status=done&style=stroke&width=515" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616070286487-4d2a07f6-46b7-4af4-be5c-134ac01d6b48.png#align=left&display=inline&height=150&margin=%5Bobject%20Object%5D&name=image.png&originHeight=299&originWidth=572&size=37702&status=done&style=stroke&width=286" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616070508648-c56b354b-77e7-4afb-9072-0385ac38782f.png#align=left&display=inline&height=441&margin=%5Bobject%20Object%5D&name=image.png&originHeight=881&originWidth=1920&size=1850210&status=done&style=stroke&width=960" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616070554658-21dea2fb-5942-4f60-9205-71bc2a022a79.png#align=left&display=inline&height=440&margin=%5Bobject%20Object%5D&name=image.png&originHeight=879&originWidth=1920&size=1704838&status=done&style=stroke&width=960" alt="image.png"></p>
<h3 id="淘宝-flexible-js-源码分析"><a href="#淘宝-flexible-js-源码分析" class="headerlink" title="淘宝 flexible.js 源码分析"></a>淘宝 flexible.js 源码分析</h3><ul>
<li>立即执行函数  (function(){})()  或者 (function(){}())</li>
<li>主要作用： 创建一个独立的作用域。 避免了命名冲突问题</li>
<li>下面三种情况都会刷新页面都会触发 load 事件。<ul>
<li>a 标签的超链接</li>
<li>F5 或者刷新按钮（强制刷新）</li>
<li>前进后退按钮<blockquote>
<p>但是 火狐中，有个特点，有个“往返缓存”，这个缓存中不仅保存着页面数据，还保存了 DOM 和 JavaScript 的状态；实际上是将整个页面都保存在了内存里。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>所以此时后退按钮不能刷新页面。</p>
<p>此时可以使用 pageshow 事件来触发。，这个事件在页面显示时触发，无论页面是否来自缓存。在重新加载页面中，pageshow 会在 load 事件触发后触发；根据事件对象中的 persisted 来判断是否是缓存中的页面触发的 pageshow 事件</p>
<p><code>注意这个事件给window添加。</code></p>
<pre><code class="javascript">(function flexible(window, document) &#123;
  // 获取的html 的根元素
  var docEl = document.documentElement;
  // dpr 物理像素比
  var dpr = window.devicePixelRatio || 1;

  // adjust body font size  设置我们body 的字体大小
  function setBodyFontSize() &#123;
    // 如果页面中有body 这个元素 就设置body的字体大小
    if (document.body) &#123;
      document.body.style.fontSize = 12 * dpr + &quot;px&quot;;
    &#125; else &#123;
      // 如果页面中没有body 这个元素，则等着 我们页面主要的DOM元素加载完毕再去设置body
      // 的字体大小
      document.addEventListener(&quot;DOMContentLoaded&quot;, setBodyFontSize);
    &#125;
  &#125;
  setBodyFontSize();

  // set 1rem = viewWidth / 10    设置我们html 元素的文字大小
  function setRemUnit() &#123;
    var rem = docEl.clientWidth / 10;
    docEl.style.fontSize = rem + &quot;px&quot;;
  &#125;

  setRemUnit();

  // reset rem unit on page resize  当我们页面尺寸大小发生变化的时候，要重新设置下rem 的大小
  window.addEventListener(&quot;resize&quot;, setRemUnit);
  // pageshow 是我们重新加载页面触发的事件
  window.addEventListener(&quot;pageshow&quot;, function (e) &#123;
    // e.persisted 返回的是true 就是说如果这个页面是从缓存取过来的页面，也需要从新计算一下rem 的大小
    if (e.persisted) &#123;
      setRemUnit();
    &#125;
  &#125;);

  // detect 0.5px supports  有些移动端的浏览器不支持0.5像素的写法
  if (dpr &gt;= 2) &#123;
    var fakeBody = document.createElement(&quot;body&quot;);
    var testElement = document.createElement(&quot;div&quot;);
    testElement.style.border = &quot;.5px solid transparent&quot;;
    fakeBody.appendChild(testElement);
    docEl.appendChild(fakeBody);
    if (testElement.offsetHeight === 1) &#123;
      docEl.classList.add(&quot;hairlines&quot;);
    &#125;
    docEl.removeChild(fakeBody);
  &#125;
&#125;)(window, document);
</code></pre>
<h2 id="元素滚动-scroll-系列"><a href="#元素滚动-scroll-系列" class="headerlink" title="元素滚动 scroll 系列"></a>元素滚动 scroll 系列</h2><h3 id="scroll-概述"><a href="#scroll-概述" class="headerlink" title="scroll 概述"></a>scroll 概述</h3><p>scroll 翻译过来就是滚动的，我们使用 scroll 系列的相关属性可以动态的得到该元素的大小、滚动距离等。<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616070606903-ad20b10d-b146-4d60-bcc8-b202127dbac2.png#align=left&display=inline&height=131&margin=%5Bobject%20Object%5D&name=image.png&originHeight=261&originWidth=1056&size=145855&status=done&style=stroke&width=528" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616070615035-e5456585-8b3a-4c5a-8e1d-e4affd0e7fd2.png#align=left&display=inline&height=223&margin=%5Bobject%20Object%5D&name=image.png&originHeight=445&originWidth=421&size=102675&status=done&style=stroke&width=210.5" alt="image.png"></p>
<h3 id="页面被卷去的头部"><a href="#页面被卷去的头部" class="headerlink" title="页面被卷去的头部"></a>页面被卷去的头部</h3><p>如果浏览器的高（或宽）度不足以显示整个页面时，会自动出现滚动条。当滚动条向下滚动时，页面上面被隐藏掉的高度，我们就称为页面被卷去的头部。滚动条在滚动时会触发 onscroll 事件。</p>
<h3 id="页面被卷去的头部兼容性解决方案"><a href="#页面被卷去的头部兼容性解决方案" class="headerlink" title="页面被卷去的头部兼容性解决方案"></a>页面被卷去的头部兼容性解决方案</h3><p>需要注意的是，页面被卷去的头部，有兼容性问题，因此被卷去的头部通常有如下几种写法：</p>
<ol>
<li>声明了 DTD，使用 document.documentElement.scrollTop</li>
<li>未声明 DTD，使用   document.body.scrollTop</li>
<li>新方法 window.pageYOffset 和 window.pageXOffset，IE9 开始支持</li>
<li>微信里面浏览也会有相关兼容性的问题，所以需要兼容行解决</li>
</ol>
<pre><code class="javascript">function getScroll() &#123;
    return &#123;
      left: window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft||0,
      top: window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0
    &#125;;
 &#125;
使用的时候  getScroll().left
</code></pre>
<h2 id="三大系列总结"><a href="#三大系列总结" class="headerlink" title="三大系列总结"></a>三大系列总结</h2><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1484158/1616070740695-1045516b-2b85-4697-874b-32fe2b1cbe5b.png#align=left&display=inline&height=113&margin=%5Bobject%20Object%5D&name=image.png&originHeight=226&originWidth=1105&size=140561&status=done&style=stroke&width=552.5" alt="image.png"><br>他们主要用法：</p>
<ol>
<li>offset 系列 经常用于获得元素位置     offsetLeft  offsetTop</li>
<li>client 经常用于获取元素大小   clientWidth clientHeight</li>
<li>scroll 经常用于获取滚动距离  scrollTop  scrollLeft</li>
<li>注意页面滚动的距离通过 window.pageXOffset   获得</li>
</ol>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2>
</div>

         

<div class="component article_more">
    <ul>
        <li><i class="fa fa-cc" aria-hidden="true"></i> 博客内容遵循：<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">署名-非商业性使用-禁止演绎 4.0 国际（CC BY-NC-ND 4.0）</a></li>
        <li><i class="fa fa-link" aria-hidden="true"></i> 本文永久链接：<a href="https://www.wztlink1013.com/blog/5_day05_webapis/">https://www.wztlink1013.com/blog/5_day05_webapis/</a></li>
        <li class="article_more_btn">
            <span class="meta_item">
                编辑：
                <a target="_blank" rel="noopener" href="https://www.yuque.com/nicaibandishuqing/blog/5_day05_webapis/edit"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
            </span>
            <span class="meta_item">
                部署：
                <a target="_blank" rel="noopener" href="https://github.com/wztlink1013/website/actions"><i class="fa fa-external-link" aria-hidden="true"></i></a>
            </span>
            <span class="meta_item">
                订阅：
                <a href="https://www.wztlink1013.com/feed.xml"><i class="fa fa-feed" aria-hidden="true"></i></a>
            </span>
        </li>
    </ul>
</div>
        <div class="prev_next component">
    
          
            <span class="prev_next_left">
                <a href="/blog/window_five_obj_webapis/">
                    <i class="fa fa-arrow-left" aria-hidden="true"></i>
                    <b>window五大对象</b>
                </a>
            </span>
          
          
            <span class="prev_next_right">
                <a href="/blog/2_day02_webapis/">
                    <b>DOM节点操作</b>
                    <i class="fa fa-arrow-right" aria-hidden="true"></i>
                </a>
            </span>
          
    
</div>


        <div class="component clearfix comments" id="comments" style="display: block;">
  <div class="comments_title">
      <h2>评论区</h2>
      <!-- 转换评论按钮 -->
      <div class="comment-switch not-select">
        <span class="first-comment">Beaudar</span>
        <span class="switch-btn move fix-cursor-pointer" id="switch_btn"></span>
        <span class="second-comment">Twikoo</span>
      </div>
  </div>

  <div class="comments_content">
      <!-- utterances评论区 -->
      <div id="utterances_comment" style="display: none;">
      </div>
      <!-- twikoo评论区 -->
      <div id="twikoo_comment" style="display: block;">
        <div id="tcomment"></div>
        <script src="https://cdn.jsdelivr.net/npm/twikoo@1.4.5/dist/twikoo.all.min.js"></script>
        <script>
          twikoo.init({
          envId: 'website-wikoo-4g46k8do98867542',
          el: '#tcomment',
          // region: 'ap-guangzhou', // 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数
          // path: 'window.location.pathname', // 用于区分不同文章的自定义 js 路径，如果您的文章路径不是 location.pathname，需传此参数
          }).then(function () {
              console.log('Twikoo 初始化加载完成');
          });
        </script>
      </div>
  </div>
</div>


        
        
    </div>
    <div class="ct_right">
        

<div class="component clearfix categories">
    <h3>『技术』文章分类</h3><ul class="cate_forder">
    
            <li class="cate_cell">
            <a href="/categories/Bug">Bug</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
            <li class="cate_cell">
            <a href="/categories/JavaScript">JavaScript</a>
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            <ul style="display: none">
            
            </ul>
            </li>
        
</ul>
</div>

        <!-- partial('_widget/hot_articles') -->
        <div class="component clearfix new_comments">
    <h3 class="title">最新评论</h3>
    <div class="new_comments_loding">
        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
        <span class="sr-only">Loading...</span>
    </div>
    <ul class="hot_articles_item"></ul>
</div>

<!-- 最新布局的文章列表布局 -->
<!-- '<div class="item_up">
        <img src="' + new_comments_avatar + '" class="avatar">
        <div class="nick_name">
            <span class="nick">' + new_comments_nick + '</span>
            <span class="time">' + new_comments_time + '</span>
        </div>
    </div>
    <div class="item_down">
        <a href="' + new_comments_url + new_comments_id + '">' + new_comments_content + '</a>
    </div>'
 -->

    </div>

</div>
<footer class="footer">
    <div class="content">
    <div><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">赣ICP备20002826号-1</a></div>
    <!-- <div><a href="/">尼采般地抒情</a></div> -->
    <div><a href="/about">联系方式</a></div>
</div>
</footer>


    
        <!-- 非首页 -->
        
<script src="/public/js/main.js"></script>

     
    <!-- 所有：CNZZ站长统计
    <script type="text/javascript">
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1278838985'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1278838985%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));
        document.getElementById("cnzz_stat_icon_1278838985").style.display = "none";
    </script> -->
</body>
</html>
