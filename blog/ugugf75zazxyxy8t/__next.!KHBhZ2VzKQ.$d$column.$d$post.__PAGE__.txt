1:"$Sreact.fragment"
2:I[99897,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/946bdd2e6c9b7c49.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/0973dd923ca2781d.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"MotionPreset"]
3:I[22016,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/946bdd2e6c9b7c49.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/0973dd923ca2781d.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],""]
4:I[48347,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/946bdd2e6c9b7c49.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/0973dd923ca2781d.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"default"]
5:I[72436,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/946bdd2e6c9b7c49.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/0973dd923ca2781d.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"Separator"]
c:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7340adf74ff47ec0.js"],"OutletBoundary"]
d:"$Sreact.suspense"
6:T27af,<!doctype html><div class="lake-content" typography="classic"><h2 id="OA1G5"><span class="ne-text">çˆ¶ä¼ å­ï¼ˆPropsï¼‰</span></h2><p id="u33a79e2b" class="ne-p"><span class="ne-text">åˆ©ç”¨propsä¼ å€¼</span></p><ol class="ne-ol"><li id="u1fc1373b" data-lake-index-type="0"><span class="ne-text" style="color: #DF2A3F">ç»„ä»¶é»˜è®¤å€¼</span><span class="ne-text">çš„å†™æ³•</span></li></ol><ol start="2" class="ne-ol"><li id="u65cf9e83" data-lake-index-type="0"><span class="ne-text">ç‚¹æ ‡è®°å†™æ³•å°±ç›¸å½“äºç»„ä»¶ä½œä¸ºä¸€ä¸ªå¯¹è±¡å€¼</span></li></ol><pre data-language="tsx" id="RnbAl" class="ne-codeblock language-tsx"><code>const Son = (props: any) =&gt; {
  console.log('parent to son: ', props);
  return &lt;div&gt;son&lt;/div&gt;;
};
// Son default props
Son.defaultProps = {
  msg: 'son-default-msg',
};

export default () =&gt; {
  const [parentMsg, setParentMsg] = useState('parent-msg');
  return (
    &lt;&gt;
      &lt;h1&gt;react-message&lt;/h1&gt;
      parent
      &lt;Son msg={parentMsg} /&gt;
    &lt;/&gt;
  );
};
</code></pre><h2 id="eMuW9"><span class="ne-text">å­ä¼ çˆ¶ï¼ˆå›è°ƒå‡½æ•°ï¼‰</span></h2><p id="u10d5d71a" class="ne-p"><span class="ne-text"> åœ¨çˆ¶ç»„ä»¶å®šä¹‰å“åº”å¼å˜é‡ï¼ŒåŒæ—¶ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°å‚æ•°ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å†åˆ©ç”¨è°ƒç”¨å›è°ƒå‡½æ•°ç»™ä¾¿çˆ¶ç»„ä»¶æ‰€å®šä¹‰çš„å“åº”å¼å˜é‡</span></p><pre data-language="tsx" id="h7K5O" class="ne-codeblock language-tsx"><code>const Son = (props: any) =&gt; {
  console.log('parent to son: ', props.msg);
  const sonToParentClick = () =&gt; {
    props.getSonValue('son-to-parent-msg');
  };
  return (
    &lt;div&gt;
      son&lt;button onClick={sonToParentClick}&gt;son-to-parent&lt;/button&gt;
    &lt;/div&gt;
  );
};
Son.defaultProps = {
  msg: 'son-default-msg',
};

export default () =&gt; {
  const [parentToSonMsg, setParentToSonMsg] = useState('parent-to-son-msg');
  const [getSonMsg, setGetSonMsg] = useState('');
  const getSonValue = (msg: string) =&gt; {
    console.log('son-to-parent-msg: ', msg);
    setGetSonMsg(msg);
  };
  return (
    &lt;&gt;
      &lt;h1&gt;react-message&lt;/h1&gt;
      parent
      &lt;Son msg={parentToSonMsg} getSonValue={getSonValue} /&gt;
    &lt;/&gt;
  );
};
</code></pre><h2 id="PQOPB"><span class="ne-text">å…„å¼Ÿç»„ä»¶ï¼ˆçˆ¶ç»„ä»¶ä¸­è½¬ï¼‰</span></h2><p id="u46a78252" class="ne-p"><span class="ne-text">é€šè¿‡çˆ¶ç»„ä»¶ä¸­è½¬</span></p><p id="u7fe0b15b" class="ne-p"><span class="ne-text">å…„å¼Ÿç»„ä»¶å…±äº«åŒä¸€ä¸ªçˆ¶ç»„ä»¶çš„çŠ¶æ€å’Œå›è°ƒå‡½æ•°ã€‚</span></p><p id="u675437dc" class="ne-p"><span class="ne-text">çˆ¶ç»„ä»¶ç®¡ç†çŠ¶æ€ï¼Œå¹¶é€šè¿‡ props å°†çŠ¶æ€å’Œå›è°ƒå‡½æ•°ä¼ é€’ç»™å…„å¼Ÿç»„ä»¶ã€‚</span></p><pre data-language="jsx" id="nX4LE" class="ne-codeblock language-jsx"><code>function Parent() {
  const [message, setMessage] = React.useState(&quot;&quot;);

  return (
    &lt;&gt;
      &lt;SiblingA onSendMessage={setMessage} /&gt;
      &lt;SiblingB message={message} /&gt;
    &lt;/&gt;
  );
}

function SiblingA({ onSendMessage }) {
  const handleClick = () =&gt; {
    onSendMessage(&quot;Hello from Sibling A!&quot;);
  };
  return &lt;button onClick={handleClick}&gt;Send Message&lt;/button&gt;;
}

function SiblingB({ message }) {
  return &lt;div&gt;Message: {message}&lt;/div&gt;;
}</code></pre><h2 id="up4yT"><span class="ne-text">è·¨ç»„ä»¶</span></h2><h3 id="J5tGD"><span class="ne-text">çˆ·ä¼ å­™</span></h3><p id="u936c42f5" class="ne-p"><span class="ne-text">åˆ©ç”¨å‰©ä½™å‚æ•°çˆ·ä¼ å­ï¼Œå­å†ä¼ å­™ï¼Œä¸è¿‡è¿™ç§æ–¹å¼ç¹çä¸”ä¸ä¾¿ç»´æŠ¤</span></p><h3 id="gDdvX"><span class="ne-text">é€ä¼ ï¼ˆContextï¼‰</span></h3><ul class="ne-ul"><li id="u5cb7e4d6" data-lake-index-type="0"><span class="ne-text">Context.Provider</span></li><li id="uf8a7d833" data-lake-index-type="0"><span class="ne-text">createContext</span></li><li id="u5491582c" data-lake-index-type="0"><span class="ne-text">useContext</span></li></ul><pre data-language="tsx" id="TB9eJ" class="ne-codeblock language-tsx"><code>import { createContext } from 'react';

const Context = createContext({});

const Son = (props: any) =&gt; {
  console.log('parent to son: ', props.msg);
  const sonToParentClick = () =&gt; {
    props.getSonValue('son-to-parent-msg');
  };
  return (
    &lt;&gt;
      &lt;div&gt;
        son&lt;button onClick={sonToParentClick}&gt;son-to-parent&lt;/button&gt;
      &lt;/div&gt;
      &lt;GradeSon /&gt;
    &lt;/&gt;
  );
};
Son.defaultProps = {
  msg: 'son-default-msg',
};

const GradeSon = () =&gt; {
  const getGrandFather = useContext(Context);
  console.log('get-grand-father: ', getGrandFather);
  return &lt;div&gt;GradeSon&lt;/div&gt;;
};

export default () =&gt; {
  const [parentToSonMsg, setParentToSonMsg] = useState('parent-to-son-msg');
  const [parentToGradeSonMsg, setParentToGradeSonMsg] = useState({ a: 11, b: 22 });
  const [getSonMsg, setGetSonMsg] = useState('');
  const getSonValue = (msg: string) =&gt; {
    console.log('son-to-parent-msg: ', msg);
    setGetSonMsg(msg);
  };
  return (
    &lt;Context.Provider value={parentToGradeSonMsg}&gt;
      &lt;h1&gt;react-message&lt;/h1&gt;
      parent
      &lt;Son msg={parentToSonMsg} getSonValue={getSonValue} /&gt;
    &lt;/Context.Provider&gt;
  );
};
</code></pre><h2 id="Iw951"><span class="ne-text">EventBus</span></h2><p id="u56c51230" class="ne-p"><span class="ne-text">äº‹ä»¶æ€»çº¿çš„æ–¹å¼ï¼Œå…¶å®è¿™å±äºå‰ç«¯é€šç”¨çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œåœ¨çº¿ç¼–è¾‘å™¨å¸¸ç”¨çš„ä¸€ç§ä»£ç è®¾è®¡æ¨¡å¼</span></p><ol class="ne-ol"><li id="ue47632f0" data-lake-index-type="0"><span class="ne-text">äº‹ä»¶å°è£…ï¼šåªå°è£…äº†onã€emitã€offäº‹ä»¶ï¼Œå®é™…ä¸Šå°è£…å½¢å¼ä¸ä¸€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‰æ–¹åº“ç­‰</span></li></ol><pre data-language="typescript" id="EFCqi" class="ne-codeblock language-typescript"><code>type StringKeyOf&lt;T&gt; = Extract&lt;keyof T, string&gt;;
type CallbackType&lt;
  T extends Record&lt;string, any&gt;,
  EventName extends StringKeyOf&lt;T&gt;,
&gt; = T[EventName] extends any[] ? T[EventName] : [T[EventName]];
type CallbackFunction&lt;T extends Record&lt;string, any&gt;, EventName extends StringKeyOf&lt;T&gt;&gt; = (
  ...props: CallbackType&lt;T, EventName&gt;
) =&gt; any;

export class EventEmitter&lt;T extends Record&lt;string, any&gt;&gt; {
  private callbacks: { [key: string]: Function[] } = {};

  public on&lt;EventName extends StringKeyOf&lt;T&gt;&gt;(
    event: EventName,
    fn: CallbackFunction&lt;T, EventName&gt;,
  ): this {
    if (!this.callbacks[event]) {
      this.callbacks[event] = [];
    }

    this.callbacks[event].push(fn);

    return this;
  }

  public emit&lt;EventName extends StringKeyOf&lt;T&gt;&gt;(
    event: EventName,
    ...args: CallbackType&lt;T, EventName&gt;
  ): this {
    const callbacks = this.callbacks[event];

    if (callbacks) {
      callbacks.forEach(callback =&gt; callback.apply(this, args));
    }

    return this;
  }

  public off&lt;EventName extends StringKeyOf&lt;T&gt;&gt;(
    event: EventName,
    fn?: CallbackFunction&lt;T, EventName&gt;,
  ): this {
    const callbacks = this.callbacks[event];

    if (callbacks) {
      if (fn) {
        this.callbacks[event] = callbacks.filter(callback =&gt; callback !== fn);
      } else {
        delete this.callbacks[event];
      }
    }

    return this;
  }

  protected removeAllListeners(): void {
    this.callbacks = {};
  }
}

const EventBus = new EventEmitter();
export default EventBus;</code></pre><ol start="2" class="ne-ol"><li id="uc993bf4f" data-lake-index-type="0"><span class="ne-text">ä½¿ç”¨</span></li></ol><ol class="ne-list-wrap"><ol ne-level="1" class="ne-ol"><li id="uaaccabd0" data-lake-index-type="0"><span class="ne-text">Daughterç»„ä»¶å®šä¹‰ï¼ŒSonç»„ä»¶è§¦å‘</span></li><li id="u16a192b3" data-lake-index-type="0"><span class="ne-text">æœ‰æ³¨å†Œå°±è¦æœ‰æ³¨é”€ï¼Œä¸ç„¶å†…å­˜ä¸­ä¼šå‡ºç°é‡å¤äº‹ä»¶é€»è¾‘å¤šæ¬¡æ‰§è¡Œçš„é—®é¢˜</span></li></ol></ol><pre data-language="tsx" id="S46ty" class="ne-codeblock language-tsx"><code>import { createContext } from 'react';
import EventBus from '@/utils/eventEmitter';

const Context = createContext({});

const Son = (props: any) =&gt; {
  console.log('parent to son: ', props.msg);
  const sonToParentClick = () =&gt; {
    props.getSonValue('son-to-parent-msg');
    EventBus.emit('daughterEvent', {
      msg: 'son-to-daughter-msg',
    });
  };
  return (
    &lt;&gt;
      &lt;div&gt;
        son&lt;button onClick={sonToParentClick}&gt;son-to-parent&lt;/button&gt;
      &lt;/div&gt;
      &lt;GradeSon /&gt;
    &lt;/&gt;
  );
};
Son.defaultProps = {
  msg: 'son-default-msg',
};

const Daughter = () =&gt; {
  useEffect(() =&gt; {
    function daughterEvent(data: any) {
      console.warn('daughter event: ', data);
    }
    EventBus.on('daughterEvent', daughterEvent);
    return () =&gt; {
      EventBus.off('daughterEvent', daughterEvent);
    };
  }, []);
  return &lt;div&gt;Daughter&lt;/div&gt;;
};

const GradeSon = () =&gt; {
  const getGrandFather = useContext(Context);
  console.log('get-grand-father: ', getGrandFather);
  return &lt;div&gt;GradeSon&lt;/div&gt;;
};

export default () =&gt; {
  const [parentToSonMsg, setParentToSonMsg] = useState('parent-to-son-msg');
  const [parentToGradeSonMsg, setParentToGradeSonMsg] = useState({ a: 11, b: 22 });
  const [getSonMsg, setGetSonMsg] = useState('');
  const getSonValue = (msg: string) =&gt; {
    console.log('son-to-parent-msg: ', msg);
    setGetSonMsg(msg);
  };
  return (
    &lt;&gt;
      &lt;Context.Provider value={parentToGradeSonMsg}&gt;
        &lt;h1&gt;react-message&lt;/h1&gt;
        parent
        &lt;Son msg={parentToSonMsg} getSonValue={getSonValue} /&gt;
      &lt;/Context.Provider&gt;
      &lt;Daughter /&gt;
    &lt;/&gt;
  );
};
</code></pre><h2 id="PgGRx"><span class="ne-text">çŠ¶æ€ç®¡ç†</span></h2><p id="u2c679f4e" class="ne-p"><span class="ne-text">çŠ¶æ€ç®¡ç†æ‰€å®šä¹‰çš„Moduleå˜åŒ–ï¼Œæ‰€ä½¿ç”¨åˆ°çš„ç»„ä»¶ä¹Ÿä¼šå“åº”å¼æ›´æ–°ï¼Œä¸åšè¯¦ç»†è®°å½•ã€‚</span></p><ul class="ne-ul"><li id="u9c1c27fd" data-lake-index-type="0"><span class="ne-text">Redux</span></li><li id="udb751abd" data-lake-index-type="0"><span class="ne-text">Zustand</span></li></ul></div>0:{"buildId":"2u9SFv74KBoU-OjNq8QW0","rsc":["$","$1","c",{"children":[["$","section",null,{"className":"relative","children":["$","$L2",null,{"fade":true,"blur":true,"transition":{"duration":0.5},"delay":0.1,"className":"relative overflow-hidden border-y xl:flex","children":[["$","div",null,{"className":"m-6 w-full flex-1 bg-[radial-gradient(circle_at_center,color-mix(in_oklab,var(--primary)_15%,transparent)_2px,transparent_2px)] bg-size-[18px_18px] max-xl:hidden"}],["$","div",null,{"className":"mx-auto w-full max-w-6xl flex-none space-y-8 px-4 py-8 min-[1158px]:border-x sm:px-6 sm:py-12 lg:px-8","children":[["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"transition":{"duration":0.4},"children":["$","$L3",null,{"href":"/blog","className":"text-muted-foreground hover:text-foreground inline-flex items-center gap-2 text-sm transition-colors","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left h-4 w-4","aria-hidden":"true","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}],"è¿”å›","æŠ€æœ¯åšå®¢"]}]}],["$","article",null,{"className":"mx-auto max-w-4xl","children":[["$","header",null,{"className":"mb-8 space-y-6","children":["",["$","$L2",null,{"delay":0.3,"transition":{"duration":0.5},"children":["$","h1",null,{"className":"text-2xl font-bold tracking-tight sm:text-3xl md:text-4xl","children":["$","$L4",null,{"text":"Reactç»„ä»¶é€šä¿¡æ€»ç»“","delay":30,"animateBy":"words","direction":"bottom"}]}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"delay":0.4,"transition":{"duration":0.5},"children":["$","p",null,{"className":"text-muted-foreground text-lg","children":"çˆ¶ä¼ å­ï¼ˆPropsï¼‰åˆ©ç”¨propsä¼ å€¼ç»„ä»¶é»˜è®¤å€¼çš„å†™æ³•ç‚¹æ ‡è®°å†™æ³•å°±ç›¸å½“äºç»„ä»¶ä½œä¸ºä¸€ä¸ªå¯¹è±¡å€¼const Son = (props: any) =&gt; {   console.log('parent to son: ', props);   return son; }; // ..."}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"delay":0.5,"transition":{"duration":0.5},"children":["$","div",null,{"className":"text-muted-foreground flex flex-wrap items-center gap-4 text-sm","children":[["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-calendar h-4 w-4","aria-hidden":"true","children":[["$","path","1cmpym",{"d":"M8 2v4"}],["$","path","4m81vk",{"d":"M16 2v4"}],["$","rect","1hopcy",{"width":"18","height":"18","x":"3","y":"4","rx":"2"}],["$","path","8toen8",{"d":"M3 10h18"}],"$undefined"]}],["$","span",null,{"children":"2024å¹´1æœˆ3æ—¥"}]]}],["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-clock h-4 w-4","aria-hidden":"true","children":[["$","path","mmk7yg",{"d":"M12 6v6l4 2"}],["$","circle","1mglay",{"cx":"12","cy":"12","r":"10"}],"$undefined"]}],["$","span",null,{"children":"975å­—"}]]}],["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-eye h-4 w-4","aria-hidden":"true","children":[["$","path","1nclc0",{"d":"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["$","circle","1v7zrd",{"cx":"12","cy":"12","r":"3"}],"$undefined"]}],["$","span",null,{"children":[4," é˜…è¯»"]}]]}],false,false]}]}],false]}],["$","$L2",null,{"delay":0.6,"fade":true,"blur":true,"transition":{"duration":0.6},"className":"-mx-4 sm:-mx-6 lg:-mx-8","children":["$","$L5",null,{}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"up","offset":50},"delay":0.7,"transition":{"duration":0.6},"children":["$","div",null,{"className":"prose prose-neutral dark:prose-invert mt-8 max-w-none","dangerouslySetInnerHTML":{"__html":"$6"}}]}],"$L7","$L8"]}]]}],"$L9"]}]}],["$La"],"$Lb"]}],"loading":null,"isPartial":false}
7:["$","$L2",null,{"delay":0.8,"fade":true,"blur":true,"transition":{"duration":0.6},"className":"-mx-4 mt-12 sm:-mx-6 lg:-mx-8","children":["$","$L5",null,{}]}]
8:["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"up","offset":30},"delay":0.9,"transition":{"duration":0.5},"children":["$","nav",null,{"className":"mt-8 grid gap-4 md:grid-cols-2","children":[["$","$L3",null,{"href":"/blog/lk1vbtcuw7ox57do","className":"hover:bg-muted group flex flex-col rounded-lg border p-4 transition-colors","children":[["$","span",null,{"className":"text-muted-foreground mb-2 text-sm","children":"ä¸Šä¸€ç¯‡"}],["$","span",null,{"className":"group-hover:text-primary line-clamp-2 font-medium transition-colors","children":"2645. æ„é€ æœ‰æ•ˆå­—ç¬¦ä¸²çš„æœ€å°‘æ’å…¥æ•°ğŸ”–DPğŸ”–ç©·ä¸¾"}]]}],["$","$L3",null,{"href":"/blog/okaxuuoq9kqk5hv3","className":"hover:bg-muted group flex flex-col rounded-lg border p-4 text-right transition-colors md:text-right","children":[["$","span",null,{"className":"text-muted-foreground mb-2 text-sm","children":"ä¸‹ä¸€ç¯‡"}],["$","span",null,{"className":"group-hover:text-primary line-clamp-2 font-medium transition-colors","children":"Reactéƒ¨åˆ†ç”Ÿæ€é“¾"}]]}]]}]}]
9:["$","div",null,{"className":"m-6 w-full flex-1 bg-[radial-gradient(circle_at_center,color-mix(in_oklab,var(--primary)_15%,transparent)_2px,transparent_2px)] bg-size-[18px_18px] max-xl:hidden"}]
a:["$","script","script-0",{"src":"/_next/static/chunks/11dff99839ab5ba0.js","async":true}]
b:["$","$Lc",null,{"children":["$","$d",null,{"name":"Next.MetadataOutlet","children":"$@e"}]}]
e:null
