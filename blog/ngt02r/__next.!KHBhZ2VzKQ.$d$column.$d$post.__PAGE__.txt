1:"$Sreact.fragment"
2:I[99897,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"MotionPreset"]
3:I[22016,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],""]
4:I[85437,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"Image"]
5:I[48347,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"default"]
6:I[72436,["/_next/static/chunks/4eaa70fe861e9598.js","/_next/static/chunks/fa1a8f8830b9bf3a.js","/_next/static/chunks/6dd6809ee42e252f.js","/_next/static/chunks/f2b800ca7ae14e96.js","/_next/static/chunks/e121db38c98deeb4.js","/_next/static/chunks/6d971f5a9c16d0c2.js","/_next/static/chunks/b397c2fd2abb1207.js","/_next/static/chunks/11dff99839ab5ba0.js"],"Separator"]
d:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7340adf74ff47ec0.js"],"OutletBoundary"]
e:"$Sreact.suspense"
7:T221b,<!doctype html><div class="lake-content" typography="classic"><p id="u987b4e22" class="ne-p"><span class="ne-text">前言：总结Vue项目中ts常见报错及其解决方法。</span></p><h2 id="xQF2S"><span class="ne-text">TS7053: 元素隐式具有 &quot;any&quot; 类型，因为类型为 &quot;string&quot; 的表达式不能用于索引类型 &quot;{ doc_image: string; docx: string[]; }&quot;。ts(7053)</span></h2><ul class="ne-ul"><li id="u0fc1f849"><span class="ne-text">报错场景：</span></li></ul><pre data-language="typescript" id="kkBmG" class="ne-codeblock language-typescript">const MINE_TYPES = {
  doc_image: ['image/png', 'image/gif', 'image/jpeg', 'image/jpg'].join(','),
};</pre><p id="u6dd3159d" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2022/png/1484158/1660816279493-28f705da-2d60-432f-bbd4-20cfef128611.png" width="982" id="TAU1s" class="ne-image"></p><ul class="ne-ul"><li id="ub4f24491"><span class="ne-text">ts对于传入的apiType，编译器只知道为字符串而不是具体的doc_image或者docx，所以需要自行使用断言以及显示声明传入的值与这些值一致。</span></li></ul><pre data-language="typescript" id="DAulv" class="ne-codeblock language-typescript">const accept = MINE_TYPES[apiType as keyof typeof MINE_TYPES] || '*';</pre><h2 id="hMqm1"><span class="ne-text">TS2531: Type ‘HTMLElement | null‘ is not assignable to type ‘HTMLElement‘</span></h2><ul class="ne-ul"><li id="u4c1bc5d4"><span class="ne-text">查找DOM这块，很有可能是找不到该DOM元素的，如下：</span></li></ul><p id="u8774d23b" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2022/png/1484158/1660617254293-3d7d5a6c-3512-4c0a-84e4-4af68868f2df.png" width="623" id="GNuC9" class="ne-image"></p><p id="ub7348ded" class="ne-p"><span class="ne-text">很确定dom层一渲染dom树，使用断言</span></p><pre data-language="typescript" id="xB7GG" class="ne-codeblock language-typescript">// 点击按钮，返回顶部
const handleBackToTop = () =&gt; {
  let page_content: HTMLElement = document.getElementById('file-page-content') as HTMLElement;
  if (page_content !== null) {
    page_content.scrollTop = 0;
  }
};</pre><h2 id="Lqyep"><span class="ne-text">TS2345: Typescript 'string | 类型的参数null' 不能分配给“字符串”类型的参数.类型 'null' 不能分配给类型 'string'</span></h2><p id="u0af4acf7" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2022/png/1484158/1660632598192-4b5203c9-b02e-4277-bdae-321bfb3bc173.png" width="1018" id="haE8A" class="ne-image"></p><pre data-language="typescript" id="jNQmS" class="ne-codeblock language-typescript">const authorInfo = localStorage.getItem('LOGIN_USER')
  ? JSON.parse(localStorage.getItem('LOGIN_USER') as string)
  : null;</pre><h2 id="Mf6k2"><span class="ne-text">TS2307: 【找不到模块】或【ts导入js文件】</span></h2><div class="ne-quote"><p id="u75fe1cc9" class="ne-p"><span class="ne-text">可以归为一类问题，都是导入非ts模块 而报错，而ts的编译是需要有声明类型的</span></p></div><p id="ua6da90e1" class="ne-p"><span class="ne-text">这类报错一般有如下两种情况：</span></p><ol class="ne-ol"><li id="ua5deb70d"><span class="ne-text">import导入依赖包，但是提示找不到该包</span></li><li id="u688ca3e4"><span class="ne-text">ts文件中导入js文件</span></li></ol><p id="u07a5d9a7" class="ne-p"><span class="ne-text">原因：</span></p><ol class="ne-ol"><li id="u13a96ef4"><span class="ne-text">依赖包没有做ts化，没有声明文件，或者说暴露出来的接口，import不支持</span></li><li id="ubdd854de"><span class="ne-text">ts不能导入js，除非做一些配置文件的相关配置（但是尽量不要在ts项目存在js项目）</span></li></ol><p id="u700e1cdb" class="ne-p"><span class="ne-text">解决：</span></p><ul class="ne-ul"><li id="uc836f6e5"><span class="ne-text">国际化网站下载下来的是js文件，但是vite项目不能使用require来导入外部文件</span></li></ul><p id="u32bdd5fb" class="ne-p"><a href="https://www.cnblogs.com/fqh123/p/15820329.html" data-href="https://www.cnblogs.com/fqh123/p/15820329.html" class="ne-link"><span class="ne-text" style="text-decoration: line-through">vite无法使用require的替代方案 - 古墩古墩 - 博客园</span></a><span class="ne-text" style="text-decoration: line-through">，api已废弃</span></p><ul class="ne-tl"><li checked="true" id="u2557d297"><span class="ne-text">解决方法1：（无伤解决方法）类似声明非ts项目依赖一样，单独声明再使用（</span><a href="https://www.cnblogs.com/Blod/p/16185788.html" data-href="https://www.cnblogs.com/Blod/p/16185788.html" class="ne-link"><span class="ne-text">在ts中怎么引入js文件 - 冰中焱 - 博客园</span></a><span class="ne-text">）</span></li></ul><p id="u4d870acd" class="ne-p"><span class="ne-text">en.d.ts中添加</span></p><pre data-language="typescript" id="AHcoy" class="ne-codeblock language-typescript">···
declare module '@/i18n/lang/zh.js';
declare module '@/i18n/lang/en.js';
···</pre><p id="uf566735f" class="ne-p"><span class="ne-text">然后再ts文件中直接导入使用即可</span></p><pre data-language="typescript" id="PSQJB" class="ne-codeblock language-typescript">import zh from '@/i18n/lang/zh.js';
import en from '@/i18n/lang/en.js';
···</pre><ul class="ne-ul"><li id="ufc211982"><span class="ne-text">解决方法2：直接在tsconfig中配置可以使用js的配置项，但是需要单独添加ts编译后的js目录，改动较大</span></li></ul><div class="ne-quote"><ul class="ne-ul"><li id="u5e51fc86"><a href="https://segmentfault.com/q/1010000019980246" data-href="https://segmentfault.com/q/1010000019980246" class="ne-link"><span class="ne-text">tsconfig.json 报错 无法写错写入文件 ，因为他会覆盖输入文件是怎么回事？ - SegmentFault 思否</span></a></li><li id="u2c7f8371"><a href="https://juejin.cn/post/6844904127131025416" data-href="https://juejin.cn/post/6844904127131025416" class="ne-link"><span class="ne-text">ts引用js文件（node包/自己写的文件） - 掘金</span></a></li></ul></div><h2 id="tT4L5"><span class="ne-text" style="color: rgb(77, 77, 77); font-size: 16px">TS2339: </span><span class="ne-text">Property 'replaceAll' does not exist on type 'string'</span></h2><ul class="ne-ul"><li id="uc593baff"><span class="ne-text">ts不能使用js中String的内置API：replaceAll方法</span></li><li id="u5431a587"><span class="ne-text">使用其他字符串api来达到该目的，</span><a href="https://stackoverflow.com/questions/63616486/property-replaceall-does-not-exist-on-type-string" data-href="https://stackoverflow.com/questions/63616486/property-replaceall-does-not-exist-on-type-string" target="_blank" class="ne-link"><span class="ne-text">https://stackoverflow.com/questions/63616486/property-replaceall-does-not-exist-on-type-string</span></a><span class="ne-text">，不推荐使用该方法</span></li></ul><ul class="ne-tl"><li checked="true" id="u8475e55e"><span class="ne-text">解决方法：默认 TypeScript 不支持某些 es6 polyfill 函数，在tsconfig.json配置中进行配置新版本的js语法</span></li></ul><pre data-language="json" id="Dt3f0" class="ne-codeblock language-json">{
  ...,
  &quot;compilerOptions&quot;: {
    ...,
  &quot;lib&quot;: [
    ...,
  &quot;ES2021.String&quot;
  ]
}
}</pre><h2 id="A8Glh"><span class="ne-text">TS2589: Type instantiation is excessively deep and possibly infinite.</span></h2><ul class="ne-tl"><li id="ub9e33958"><strong><span class="ne-text" style="color: #E8323C"></span></strong><span class="ne-text">如果使用js文件导入，那么在ts文件中使用就会报ts 2589错误。</span></li></ul><pre data-language="plain" id="Su0Ir" class="ne-codeblock language-plain">src/utils/fetch.ts:63:55 - error TS2589: Type instantiation is excessively deep and possibly infinite.

63       message[response.config.warnType as NoticeType](i18n.global.t(msg));</pre><p id="ueab1ee74" class="ne-p"><span class="ne-text">使用如下方式导入js导出来的js和json数据</span></p><pre data-language="typescript" id="msbvg" class="ne-codeblock language-typescript">import { createI18n } from 'vue-i18n';
import config from './config.json';
import zh from '@/i18n/lang/zh.js';
import en from '@/i18n/lang/en.js';
import { ref } from 'vue';

let zh_obj = {};
zh_obj = zh;
let en_obj = {};
en_obj = en;
export const lang = ref('zh_obj');

export const languages = config;

const i18n = createI18n({
  locale: lang.value,
  fallbackLocale: lang.value,
  messages: {
    zh_obj,
    en_obj
  }
});

export default i18n;</pre></div>0:{"buildId":"f0cdySSxBr_ZaI2KML5of","rsc":["$","$1","c",{"children":[["$","section",null,{"className":"relative","children":["$","$L2",null,{"fade":true,"blur":true,"transition":{"duration":0.5},"delay":0.1,"className":"relative overflow-hidden border-y xl:flex","children":[["$","div",null,{"className":"m-6 w-full flex-1 bg-[radial-gradient(circle_at_center,color-mix(in_oklab,var(--primary)_15%,transparent)_2px,transparent_2px)] bg-size-[18px_18px] max-xl:hidden"}],["$","div",null,{"className":"mx-auto w-full max-w-6xl flex-none space-y-8 px-4 py-8 min-[1158px]:border-x sm:px-6 sm:py-12 lg:px-8","children":[["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"transition":{"duration":0.4},"children":["$","$L3",null,{"href":"/blog","className":"text-muted-foreground hover:text-foreground inline-flex items-center gap-2 text-sm transition-colors","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left h-4 w-4","aria-hidden":"true","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}],"返回","技术博客"]}]}],["$","article",null,{"className":"mx-auto max-w-4xl","children":[["$","header",null,{"className":"mb-8 space-y-6","children":[["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"up","offset":50},"delay":0.2,"transition":{"duration":0.6},"children":["$","div",null,{"className":"relative aspect-video overflow-hidden rounded-xl","children":["$","$L4",null,{"src":"https://cdn.nlark.com/yuque/0/2022/png/1484158/1660617254293-3d7d5a6c-3512-4c0a-84e4-4af68868f2df.png","alt":"Vue3项目中ts报错总结","fill":true,"className":"object-cover","unoptimized":true}]}]}],["$","$L2",null,{"delay":0.3,"transition":{"duration":0.5},"children":["$","h1",null,{"className":"text-2xl font-bold tracking-tight sm:text-3xl md:text-4xl","children":["$","$L5",null,{"text":"Vue3项目中ts报错总结","delay":30,"animateBy":"words","direction":"bottom"}]}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"delay":0.4,"transition":{"duration":0.5},"children":["$","p",null,{"className":"text-muted-foreground text-lg","children":"前言：总结Vue项目中ts常见报错及其解决方法。TS7053: 元素隐式具有 \"any\" 类型，因为类型为 \"string\" 的表达式不能用于索引类型 \"{ doc_image: string; docx: string[]; }\"。ts(7053)报错场景：const MINE_TYPES ..."}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"down","offset":30},"delay":0.5,"transition":{"duration":0.5},"children":["$","div",null,{"className":"text-muted-foreground flex flex-wrap items-center gap-4 text-sm","children":[["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-calendar h-4 w-4","aria-hidden":"true","children":[["$","path","1cmpym",{"d":"M8 2v4"}],["$","path","4m81vk",{"d":"M16 2v4"}],["$","rect","1hopcy",{"width":"18","height":"18","x":"3","y":"4","rx":"2"}],["$","path","8toen8",{"d":"M3 10h18"}],"$undefined"]}],["$","span",null,{"children":"2022年8月27日"}]]}],["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-clock h-4 w-4","aria-hidden":"true","children":[["$","path","mmk7yg",{"d":"M12 6v6l4 2"}],["$","circle","1mglay",{"cx":"12","cy":"12","r":"10"}],"$undefined"]}],["$","span",null,{"children":"912字"}]]}],["$","div",null,{"className":"flex items-center gap-1","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-eye h-4 w-4","aria-hidden":"true","children":[["$","path","1nclc0",{"d":"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["$","circle","1v7zrd",{"cx":"12","cy":"12","r":"3"}],"$undefined"]}],["$","span",null,{"children":[7," 阅读"]}]]}],false,false]}]}],false]}],["$","$L2",null,{"delay":0.6,"fade":true,"blur":true,"transition":{"duration":0.6},"className":"-mx-4 sm:-mx-6 lg:-mx-8","children":["$","$L6",null,{}]}],["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"up","offset":50},"delay":0.7,"transition":{"duration":0.6},"children":["$","div",null,{"className":"prose prose-neutral dark:prose-invert mt-8 max-w-none","dangerouslySetInnerHTML":{"__html":"$7"}}]}],"$L8","$L9"]}]]}],"$La"]}]}],["$Lb"],"$Lc"]}],"loading":null,"isPartial":false}
8:["$","$L2",null,{"delay":0.8,"fade":true,"blur":true,"transition":{"duration":0.6},"className":"-mx-4 mt-12 sm:-mx-6 lg:-mx-8","children":["$","$L6",null,{}]}]
9:["$","$L2",null,{"fade":true,"blur":true,"slide":{"direction":"up","offset":30},"delay":0.9,"transition":{"duration":0.5},"children":["$","nav",null,{"className":"mt-8 grid gap-4 md:grid-cols-2","children":[["$","$L3",null,{"href":"/blog/wrygmp","className":"hover:bg-muted group flex flex-col rounded-lg border p-4 transition-colors","children":[["$","span",null,{"className":"text-muted-foreground mb-2 text-sm","children":"上一篇"}],["$","span",null,{"className":"group-hover:text-primary line-clamp-2 font-medium transition-colors","children":"站点添加雷姆live2d+看板模型"}]]}],["$","$L3",null,{"href":"/blog/wboxcq","className":"hover:bg-muted group flex flex-col rounded-lg border p-4 text-right transition-colors md:text-right","children":[["$","span",null,{"className":"text-muted-foreground mb-2 text-sm","children":"下一篇"}],["$","span",null,{"className":"group-hover:text-primary line-clamp-2 font-medium transition-colors","children":"JavaScript实现并发控制且指定并发上限为concurrency"}]]}]]}]}]
a:["$","div",null,{"className":"m-6 w-full flex-1 bg-[radial-gradient(circle_at_center,color-mix(in_oklab,var(--primary)_15%,transparent)_2px,transparent_2px)] bg-size-[18px_18px] max-xl:hidden"}]
b:["$","script","script-0",{"src":"/_next/static/chunks/11dff99839ab5ba0.js","async":true}]
c:["$","$Ld",null,{"children":["$","$e",null,{"name":"Next.MetadataOutlet","children":"$@f"}]}]
f:null
