(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51999,e=>{"use strict";var t=e.i(22071),a=e.i(19056),n=e.i(35776),r=e.i(25913),s=e.i(26999),o=e.i(71645),l=e.i(43476),i=e.i(94499),c=(0,r.cva)("appearance-none px-2 py-1.5 placeholder:text-fc-muted-foreground focus-visible:outline-none",{variants:{variant:{ghost:"px-4 py-3.5 border-b",default:"rounded-md border border-fc-border bg-fc-background focus-visible:ring-2 focus-visible:ring-fc-ring"}},defaultVariants:{variant:"default"}});function d(){return function(e){let[t,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let t=window.matchMedia(e);a(t.matches);let n=e=>{a(e.matches)};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}},[e]),t}("(max-width: 768px)")}var u=(0,o.createContext)(null);function m(e){var t;let a=(0,o.useState)(!1),[r,i]=void 0!==e.open?[e.open,null!=(t=e.onOpenChange)?t:()=>{}]:a;return(0,l.jsx)(s.Root,(0,n.__spreadProps)((0,n.__spreadValues)({},e),{open:r,onOpenChange:i,children:(0,l.jsx)(u.Provider,{value:(0,o.useMemo)(()=>({open:r,setOpen:i}),[r,i]),children:e.children})}))}var f=s.Trigger;function p(e){var{className:t}=e,r=(0,n.__objRest)(e,["className"]);return(0,l.jsx)(s.Description,(0,n.__spreadValues)({className:(0,a.twMerge)("text-fc-muted-foreground text-sm mb-4 max-sm:text-center",t)},r))}var g=(0,r.cva)("fixed inset-0 bg-black/50 data-[state=open]:animate-fc-overlayShow data-[state=closed]:animate-fc-overlayHide"),x=(0,r.cva)("fixed left-1/2 flex w-full -translate-x-1/2 flex-col bg-fc-popover text-fc-popover-foreground shadow-lg overflow-hidden",{variants:{full:{true:"p-0",false:"p-4"},variant:{drawer:"rounded-t-3xl outline-none pt-2 pb-10 transition-transform data-[state=closed]:animate-fc-drawerHide data-[state=open]:animate-fc-drawerShow",modal:"rounded-2xl border border-fc-border max-w-md top-1/2 -translate-y-1/2 data-[state=closed]:animate-fc-dialogHide data-[state=open]:animate-fc-dialogShow"}}});function h(e){if(d())return(0,l.jsx)(v,(0,n.__spreadValues)({},e));let{children:r,full:o=!1,className:i}=e,c=(0,n.__objRest)(e,["children","full","className"]);return(0,l.jsxs)(s.Portal,{children:[(0,l.jsx)(s.Overlay,{className:g()}),(0,l.jsxs)(s.Content,(0,n.__spreadProps)((0,n.__spreadValues)({className:(0,a.twMerge)(x({variant:"modal",full:o,className:i}))},c),{children:[r,(0,l.jsx)(s.Close,{className:(0,a.twMerge)((0,t.buttonVariants)({variant:"ghost",size:"icon",className:"absolute text-fc-muted-foreground right-3.5 top-3.5"})),children:(0,l.jsx)(t.X,{className:"size-4"})})]}))]})}function v(e){var t,{full:r=!1,children:i,className:c}=e,d=(0,n.__objRest)(e,["full","children","className"]);let m=(0,o.useRef)(null),f=(0,o.useRef)(null),p=(0,o.useRef)(0),h=(0,o.useRef)(0),[v,b]=(0,o.useState)(!1),{setOpen:_}=function(){let e=(0,o.use)(u);if(!e)throw Error("Root missing");return e}();function j(e){p.current=e;let t=m.current;t&&t.style.setProperty("--drawer-offset",`${p.current}px`)}function w(e,t){var a;if(e.isContentEditable)return!1;let n=null==(a=window.getSelection())?void 0:a.toString();if(n&&n.length>0||"SELECT"===e.tagName||"INPUT"===e.tagName)return!1;let r=e;for(;r&&"dialog"!==r.getAttribute("role");){if(r.scrollHeight>r.clientHeight&&(r.scrollTop>0||t<0))return!1;r=r.parentNode}return!0}function N(){v&&(j(0),b(!1))}return(0,l.jsxs)(s.Portal,{children:[(0,l.jsx)(s.Overlay,{className:g()}),(0,l.jsxs)(s.Content,(0,n.__spreadProps)((0,n.__spreadValues)({"data-fc-drawer":!0,ref:m,onPointerDown:e=>{e.target instanceof HTMLElement&&w(e.target,e.movementY)&&(b(!0),f.current=e.target,h.current=0,window.addEventListener("touchend",N,{once:!0}))},onPointerMove:e=>{if(!v||!f.current||!w(f.current,e.movementY))return;let t=Math.max(-20,p.current+e.movementY);h.current=e.movementY,j(t),e.preventDefault()},onAnimationEnd:()=>{j(0)},onPointerLeave:N,onPointerUp:()=>{m.current&&p.current>m.current.clientHeight/3||h.current>15?(_(!1),b(!1)):N()},className:(0,a.twMerge)(x({variant:"drawer",full:r,className:c}))},d),{style:(0,n.__spreadProps)((0,n.__spreadValues)({},d.style),{bottom:-20,transition:v?"none":null==(t=d.style)?void 0:t.transition,transform:"translateY(var(--drawer-offset))"}),children:[!r&&(0,l.jsx)("div",{className:"z-[2] mb-3 mx-auto w-12 h-1 rounded-full bg-fc-primary/30"}),i]}))]})}function b(e){var{className:t}=e,r=(0,n.__objRest)(e,["className"]);return(0,l.jsx)(s.Title,(0,n.__spreadProps)((0,n.__spreadValues)({className:(0,a.twMerge)("mb-2 font-semibold max-sm:text-center",t)},r),{children:r.children}))}function _({editor:e,onClose:n}){let[r,s]=(0,o.useState)(""),[i,d]=(0,o.useState)(""),u=e.state.selection.empty;return(0,o.useLayoutEffect)(()=>{e.commands.extendMarkRange("link");let t=e.getAttributes("link").href,a=e.state.selection;s(e.state.doc.textBetween(a.from,a.to)),d(null!=t?t:"")},[e]),(0,l.jsxs)("form",{className:"flex flex-col gap-2",onSubmit:t=>{if(t.preventDefault(),t.stopPropagation(),0===i.trim().length)return;let a=r.length>0?r:i;n(),e.state.selection.empty?e.chain().setLink({href:i}).insertContent(a).unsetMark("link").insertContent(" ").focus().run():e.chain().deleteSelection().setLink({href:i}).insertContent(a).focus().run()},children:[(0,l.jsx)("label",{className:"font-medium text-sm content-center",htmlFor:"url",children:"Link"}),(0,l.jsx)("input",{id:"url",className:(0,a.twMerge)(c(),"mb-2"),onChange:e=>{d(e.target.value)},placeholder:"https://example.com",required:!0,type:"url",value:i}),(0,l.jsx)("label",{className:"font-medium text-sm content-center",htmlFor:"name",children:"Name"}),(0,l.jsx)("input",{id:"name",className:(0,a.twMerge)(c(),"mb-2"),value:r,onChange:e=>{s(e.target.value)},placeholder:"My Link (optional)"}),(0,l.jsxs)("div",{className:"flex gap-1 mt-2",children:[(0,l.jsx)("button",{className:(0,a.twMerge)((0,t.buttonVariants)()),type:"submit",children:u?"Insert":"Save"}),e.isActive("link")?(0,l.jsx)("button",{className:(0,a.twMerge)((0,t.buttonVariants)({variant:"secondary"})),onClick:()=>{n(),e.chain().focus().unsetMark("link").run()},type:"button",children:"Unset"}):null]})]})}var j=(0,r.cva)("rounded-xl border border-fc-border bg-fc-card text-base transition-colors focus-within:ring-2 focus-within:ring-fc-ring aria-disabled:cursor-not-allowed aria-disabled:opacity-80"),w=(0,r.cva)("inline-flex rounded-md p-1.5 disabled:cursor-not-allowed disabled:opacity-50",{variants:{active:{true:"bg-fc-accent text-fc-accent-foreground"}},defaultVariants:{active:!1}});function N(e){let t=`fc_textarea_${e}`;sessionStorage.removeItem(t)}var y=(0,o.lazy)(()=>e.A(55237)),P=(0,o.lazy)(()=>e.A(36424)),k=(0,o.lazy)(()=>e.A(42241)),M=(0,o.forwardRef)((r,s)=>{var c,d,{editorRef:u,disabled:m=!1,containerProps:f,children:p}=r,g=(0,n.__objRest)(r,["editorRef","disabled","containerProps","children"]);let[x,h]=(0,o.useState)(),v=(0,t.useMention)(),b=(0,t.useStorage)(),_=(0,o.useRef)((0,n.__spreadProps)((0,n.__spreadValues)({},g),{mentionEnabled:v.enabled}));return((0,o.useLayoutEffect)(()=>{var t;let a,r,s,o,{persistentId:l,defaultValue:i}=_.current,c=()=>{var e;let t;a&&l&&(e=a.getJSON(),t=`fc_textarea_${l}`,sessionStorage.setItem(t,JSON.stringify(e)))};return(function(t){return(0,n.__async)(this,null,function*(){return e.A(10166).then(e=>e.createEditor(t))})})({autofocus:!1,content:l&&null!=(s=`fc_textarea_${l}`,t=(o=sessionStorage.getItem(s))?JSON.parse(o):null)?t:i,editorProps:{attributes:{class:"flex-1 px-3 pt-2.5 focus-visible:outline-none"}},onEscape:()=>{var e,t;return a&&(null==(t=(e=_.current).onEscape)||t.call(e,a)),!0},onSubmit:()=>{var e,t;return a&&(null==(t=(e=_.current).onSubmit)||t.call(e,a)),!0},mentionEnabled:_.current.mentionEnabled,placeholder:_.current.placeholder,onTransaction(e){var t,a;null==(a=(t=_.current).onChange)||a.call(t,e.editor),l&&e.transaction.docChanged&&(clearTimeout(r),r=window.setTimeout(c,500))}}).then(e=>{h(a=e)}),()=>{a&&a.destroy()}},[]),x)?(u&&(u.current=x),x.isEditable===m&&x.setEditable(!m),(0,l.jsxs)("div",(0,n.__spreadProps)((0,n.__spreadValues)({},f),{"aria-disabled":m,className:(0,a.twMerge)(j(),null==f?void 0:f.className),ref:s,children:[(0,l.jsx)(i.EditorContent,(0,n.__spreadProps)((0,n.__spreadValues)({editor:x},g.editorProps),{className:(0,a.twMerge)("min-h-[38px]",null==(d=g.editorProps)?void 0:d.className)})),(0,l.jsxs)("div",{className:"flex flex-row items-center p-1",children:[(0,l.jsx)(S,{editor:x,name:"bold",icon:(0,l.jsx)(t.Bold,{className:"size-4"})}),(0,l.jsx)(S,{editor:x,name:"italic",icon:(0,l.jsx)(t.Italic,{className:"size-4"})}),(0,l.jsx)(S,{editor:x,name:"strike",icon:(0,l.jsx)(t.Strikethrough,{className:"size-4"})}),(0,l.jsx)(S,{editor:x,name:"code",icon:(0,l.jsx)(t.Code,{className:"size-4"})}),(0,l.jsx)("div",{className:"w-px h-4 bg-fc-border mx-0.5 last:hidden"}),(0,l.jsx)(E,{editor:x}),(0,l.jsx)(P,{editor:x}),(0,l.jsx)(y,{editor:x}),b.enabled?(0,l.jsx)(k,{editor:x}):null,(0,l.jsx)("div",{className:"flex-1"}),p]})]}))):(0,l.jsx)("div",(0,n.__spreadProps)((0,n.__spreadValues)({},f),{ref:s,className:(0,a.twMerge)(j(),"p-1",null==f?void 0:f.className),children:(0,l.jsx)("p",(0,n.__spreadProps)((0,n.__spreadValues)({},g.editorProps),{className:(0,a.twMerge)("px-3 py-2.5 h-[38px] text-fc-muted-foreground mb-9",null==(c=g.editorProps)?void 0:c.className),children:g.placeholder}))}))});function S({editor:e,name:t,icon:n}){return C(e),(0,l.jsx)("button",{type:"button","aria-label":`Toggle ${t}`,className:(0,a.twMerge)(w({active:e.isActive(t)})),disabled:!e.can().toggleMark(t)||!e.isEditable,onMouseDown:a=>{e.commands.toggleMark(t),a.preventDefault()},children:n},t)}function E({editor:e}){C(e);let[n,r]=(0,o.useState)(!1);return(0,l.jsxs)(m,{onOpenChange:r,open:n,children:[(0,l.jsx)(f,{type:"button","aria-label":"Toggle Link",className:(0,a.twMerge)(w({active:e.isActive("link")})),disabled:!e.can().setLink({href:""})||!e.isEditable,children:(0,l.jsx)(t.Link,{className:"size-4"})}),(0,l.jsxs)(h,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,l.jsx)(b,{children:"Add Link"}),(0,l.jsx)(_,{editor:e,onClose:()=>{r(!1),e.commands.focus()}})]})]})}function C(e){let[,t]=(0,o.useState)(0);(0,o.useEffect)(()=>{let a=()=>{t(e=>e+1)};return e.on("transaction",a),()=>{e.off("transaction",a)}},[e])}M.displayName="Editor",e.s(["CommentEditor",()=>M,"Dialog",()=>m,"DialogContent",()=>h,"DialogDescription",()=>p,"DialogTitle",()=>b,"DialogTrigger",()=>f,"clearPersistentId",()=>N,"inputVariants",()=>c,"toggleVariants",()=>w,"useHookUpdate",()=>C,"useIsMobile",()=>d])},10166,e=>{e.v(t=>Promise.all(["static/chunks/405dcdeaaa687937.js"].map(t=>e.l(t))).then(()=>t(96772)))},55237,e=>{e.v(t=>Promise.all(["static/chunks/5d888e68bfd3fe84.js"].map(t=>e.l(t))).then(()=>t(18352)))},36424,e=>{e.v(t=>Promise.all(["static/chunks/9c1a705577dc8271.js"].map(t=>e.l(t))).then(()=>t(19111)))},42241,e=>{e.v(t=>Promise.all(["static/chunks/20e41ab58bbfaba0.js"].map(t=>e.l(t))).then(()=>t(65316)))}]);