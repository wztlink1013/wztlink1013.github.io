(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18352,e=>{"use strict";let t;var r=e.i(51999),o=e.i(22071),i=e.i(19056),n=e.i(35776);e.i(47167);var a=e.i(71645),s=e.i(43476),l=Object.defineProperty,u={},c={ActiveEmoji:()=>eV,Empty:()=>eP,List:()=>eH,Loading:()=>eT,Root:()=>ec,Search:()=>ed,SkinTone:()=>eF,SkinToneSelector:()=>eI,Viewport:()=>eg};for(var d in c)l(u,d,{get:c[d],enumerable:!0});var m="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",g=["none","light","medium-light","medium","medium-dark","dark"];function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}var h=null;function p(e){try{h??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!h||(queueMicrotask(()=>{h&&(h=null)}),h.canvas.width=2,h.canvas.height=2,h.font=`2px ${m}`,h.textBaseline="middle",h.measureText(e).width>=4))return!1;h.fillStyle="#00f",h.fillText(e,0,0);let t=h.getImageData(0,0,2,2).data;h.clearRect(0,0,2,2),h.fillStyle="#f00",h.fillText(e,0,0);let r=h.getImageData(0,0,2,2).data;for(let e=0;e<16;e+=4)if(t[e]!==r[e]||t[e+1]!==r[e+1]||t[e+2]!==r[e+2])return!1;return!0}function w(e,t,r){try{let o=e.getItem(t);if(!o)throw Error(`No value found for "${t}".`);let i=JSON.parse(o);return r(i)}catch{return null}}function v(e,t,r){e.setItem(t,JSON.stringify(r))}function y(e){return t=>void 0===t?void 0:e(t)}function j(e){return t=>null===t?null:e(t)}function x(e){if("string"!=typeof e)throw Error();return e}function b(e){if("number"!=typeof e)throw Error();return e}function k(e){if("boolean"!=typeof e)throw Error();return e}function E(e){return t=>{if("object"!=typeof t||null===t)throw Error();let r={};for(let o in e){let i=t[o];void 0===i&&e[o](void 0),r[o]=e[o](i)}return r}}function C(e){return t=>{if(!Array.isArray(t))throw Error();return t.length>0&&e(t[0]),t}}var R=(e,t)=>`${e}/${t}/data.json`,S=(e,t)=>`${e}/${t}/messages.json`,H=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],I=e=>`frimousse/data/${e}`,T="frimousse/metadata";async function A(e,t){try{return(await fetch(e,{method:"HEAD",signal:t})).headers.get("etag")}catch{return null}}async function P(e,t,r){let[{emojis:o,emojisEtag:i},{messages:n,messagesEtag:a}]=await Promise.all([fetch(R(e,t),{signal:r}).then(async e=>({emojis:await e.json(),emojisEtag:e.headers.get("etag")})),fetch(S(e,t),{signal:r}).then(async e=>({messages:await e.json(),messagesEtag:e.headers.get("etag")}))]);return{emojis:o,messages:n,emojisEtag:i,messagesEtag:a}}async function V(e,t,r){let[o,i]=await Promise.all([A(R(e,t),r),A(S(e,t),r)]);return{emojisEtag:o,messagesEtag:i}}async function F(e,t,r){let{emojis:o,emojisEtag:i,messages:n,messagesEtag:a}=await P(e,t,r),s=n.subgroups.find(e=>"country-flag"===e.key||"subdivision-flag"===e.key),l=n.groups.filter(e=>"component"!==e.key),u=o.filter(e=>"group"in e),c=l.map(e=>({index:e.order,label:f(e.message)})),d=n.skinTones.reduce((e,t)=>(e[t.key]=f(t.message),e),{}),m={locale:t,emojis:u.map(e=>({emoji:e.emoji,category:e.group,version:e.version,label:f(e.label),tags:e.tags??[],countryFlag:s&&e.subgroup===s.order||void 0,skins:e.skins?e.skins.filter(e=>"number"==typeof e.tone).reduce((e,t)=>(e[g[t.tone]]=t.emoji,e),{}):void 0})),categories:c,skinTones:d};return v(localStorage,I(t),{data:m,metadata:{emojisEtag:i,messagesEtag:a}}),m}var $=E({emojiVersion:b,countryFlags:k}),N=E({data:E({locale:x,emojis:C(E({emoji:x,category:b,label:x,version:b,tags:C(x),countryFlag:y(k),skins:y(E({light:x,"medium-light":x,medium:x,"medium-dark":x,dark:x}))})),categories:C(E({index:b,label:x})),skinTones:E({light:x,"medium-light":x,medium:x,"medium-dark":x,dark:x})}),metadata:E({emojisEtag:j(x),messagesEtag:j(x)})});async function M({locale:e,emojiVersion:t,emojibaseUrl:r,signal:o}){let i="string"==typeof r?r:`https://cdn.jsdelivr.net/npm/emojibase-data@${"number"==typeof t?Math.floor(t):"latest"}`,n=w(sessionStorage,T,$),a=w(localStorage,I(e),N),s;if(a)if(n)s=a.data;else try{let{emojisEtag:t,messagesEtag:r}=await V(i,e,o);s=t&&r&&t===a.metadata.emojisEtag&&r===a.metadata.messagesEtag?a.data:await F(i,e,o)}catch{s=a.data}else s=await F(i,e,o);return v(sessionStorage,T,n??=function(e,t){let r=new Map;for(let t of e)r.has(t.version)||r.set(t.version,t.emoji);let o=[...r.keys()].sort((e,t)=>t-e),i=o[0]??0,n=p("ðŸ‡ªðŸ‡º");if("number"==typeof t)return{emojiVersion:t,countryFlags:n};for(let e of o)if(p(r.get(e)))return{emojiVersion:e,countryFlags:n};return{emojiVersion:i,countryFlags:n}}(s.emojis,t)),{locale:e,emojis:s.emojis.filter(e=>{let t=e.version<=n.emojiVersion;return e.countryFlag?t&&n.countryFlags:t}),categories:s.categories,skinTones:s.skinTones}}function D(e){return H.includes(e)?e:(console.warn(`Locale "${e}" is not supported, using "en" instead.`),"en")}function z(e){return g.includes(e)?e:(console.warn(`Skin tone "${e}" is not valid, using "none" instead.`),"none")}function _(e,t,r=Object.is){let[o,i]=(0,a.useState)(()=>t(e.get()));return(0,a.useEffect)(()=>e.subscribe(()=>{let o=t(e.get());i(e=>r(e,o)?e:o)}),[e,t,r]),(0,a.useDebugValue)(o),o}function L(e,t,r){return _(e,(0,a.useCallback)(e=>e[t],[t]),r)}var{useStore:O,Provider:U}=(t=(0,a.createContext)(null),{useStore:()=>{let e=(0,a.useContext)(t);if(!e)throw Error("EmojiPicker.Root is missing.");return e},Provider:({store:e,children:r})=>(0,s.jsx)(t.Provider,{value:e,children:r})});function W(e){return e.search}function B(e){return"none"===e.interaction?void 0:e.data?.rows[e.activeRowIndex]?.emojis[e.activeColumnIndex]}function q(e){return void 0===e.data||"number"==typeof e.data?.count&&0===e.data.count}function K(e){return null===e.data||null===e.viewportHeight||null===e.rowHeight||null===e.categoryHeaderHeight}function J(e){return e.data?.rows.length}function G(e){return e.data?.categories.length}function Y(e){return e.data?.categoriesStartRowIndices}function Q(e){return e.data?.skinTones}function X(e,t){return e?.emoji===t?.emoji}function Z(e,t){return e?.categoryIndex===t?.categoryIndex&&e?.emojis.length===t?.emojis.length&&!!e?.emojis.every((e,r)=>X(e,t?.emojis[r]))}var ee=/\p{Emoji_Modifier_Base}/u,et=/\uFE0F$/,er=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,eo={light:"ðŸ»","medium-light":"ðŸ¼",medium:"ðŸ½","medium-dark":"ðŸ¾",dark:"ðŸ¿"};function ei(){let e=_(O(),B,X);return(0,a.useDeferredValue)(e)}function en(e="âœ‹"){let t=O(),r=L(t,"skinTone"),o=(0,a.useMemo)(()=>g.map(t=>({skinTone:t,emoji:function(e,t){if(!e.split("â€").some(e=>ee.test(e)))return e;let r=e.split("â€").map(e=>e.replace(er,"")).join("â€");return"none"===t?r:r.split("â€").map((e,r,o)=>{let i=o.length>1;return!ee.test(e)||i&&"ðŸ¤"===e?e:e.replace(et,"")+eo[t]}).join("â€")}(e,t)})),[e]);return[r,(0,a.useCallback)(e=>{t.set({skinTone:e})},[]),o]}function ea(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||"object"!=typeof t||null===e||null===t||Array.isArray(e)!==Array.isArray(t))return!1;let r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every(r=>r in t&&e[r]===t[r])}function es(){}var el="u">typeof window?a.useLayoutEffect:a.useEffect;function eu({emojiVersion:e,emojibaseUrl:t}){let[r,o]=(0,a.useState)(void 0),i=O(),n=L(i,"locale"),s=L(i,"columns"),l=L(i,"skinTone"),u=L(i,"search");return(0,a.useEffect)(()=>{let r=new AbortController,i=r.signal;return M({locale:n,emojiVersion:e,emojibaseUrl:t,signal:i}).then(e=>{o(e)}).catch(e=>{i.aborted||console.error(e)}),()=>{r.abort()}},[e,t,n]),(0,a.useEffect)(()=>{if(r)return function(e,t){let r=null;if("function"==typeof window.requestIdleCallback)r=window.requestIdleCallback(e,t);else{let o=Date.now();r=window.setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,(t?.timeout??50)-(Date.now()-o))})},10)}return()=>{"function"==typeof window.cancelIdleCallback?window.cancelIdleCallback(r):window.clearTimeout(r)}}(()=>{i.get().onDataChange(function(e,t,r,o){let i=function(e,t){if(!t)return e;let r=t.toLowerCase().trim(),o=new WeakMap;return e.filter(e=>{let t=0;for(let o of(e.label.toLowerCase().includes(r)&&(t+=10),e.tags))o.toLowerCase().includes(r)&&(t+=1);return t>0&&(o.set(e,t),!0)}).sort((e,t)=>(o.get(t)??0)-(o.get(e)??0))}(e.emojis,o),n=[],a=[],s=[],l={},u=0,c=0;for(let e of i)l[e.category]||(l[e.category]=[]),l[e.category].push({emoji:r&&"none"!==r&&e.skins?e.skins[r]:e.emoji,label:e.label});for(let r of e.categories){let e=l[r.index];if(!e||0===e.length)continue;let o=(function(e,t){let r=[];if(t<=0)return r;for(let o=0,i=e.length;o<i;o+=t)r.push(e.slice(o,o+t));return r})(Array.from(e),t).map(e=>({categoryIndex:u,emojis:e}));n.push(...o),a.push({label:r.label,rowsCount:o.length,startRowIndex:c}),s.push(c),u++,c+=o.length}return{count:i.length,categories:a,categoriesStartRowIndices:s,rows:n,skinTones:e.skinTones}}(r,s,l,u))},{timeout:100})},[r,s,l,u]),null}var ec=(0,a.forwardRef)(({locale:e="en",columns:t=9,skinTone:r="none",onEmojiSelect:o=es,emojiVersion:i,emojibaseUrl:n,onFocusCapture:l,onBlurCapture:u,children:c,style:d,sticky:g=!0,...f},h)=>{let p,w=(p=(0,a.useRef)(o),el(()=>{p.current=o}),(0,a.useCallback)((...e)=>p.current(...e),[])),v=function(e){let[t]=(0,a.useState)(e);return t}(()=>{var o,i,n;let a,s,l,u,c,d,m,f;return o=D(e),i=z(r),a=0,n=(e,r)=>({locale:o,columns:t,sticky:g,skinTone:i,onEmojiSelect:w,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:t=>{let o=r(),i=t?.data??o.data,n=t?.categoryHeaderHeight??o.categoryHeaderHeight,s=t?.rowHeight??o.rowHeight,l=t?.viewportHeight??o.viewportHeight;if(!i||0===i.rows.length||!n||!s||!l)return e({...t,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let u=0,c=0;for(let e of i.categories)if(c++*n+e.startRowIndex*s<a)u+=n;else break;let d=i.categories.length*n+i.rows.length*s,m=Math.floor(2*s/2),g=Math.ceil(2*s/2),f=Math.min(a-u-m,d-l),h=Math.max(0,Math.floor(f/s)),p=Math.min(i.rows.length-1,Math.ceil((f+l+g)/s)),w=i.rows[h]?.categoryIndex;return e(void 0===w&&t?t:{...t,viewportStartCategoryIndex:w,viewportStartRowIndex:h,viewportEndRowIndex:p})},onDataChange:e=>{r().updateViewportState({data:e,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:t=>{e({search:t,interaction:t?"keyboard":"none"})},onActiveEmojiChange:(t,o,i)=>{if(e({interaction:t,activeColumnIndex:o,activeRowIndex:i}),"keyboard"!==t)return;let{listRef:n,viewportRef:s,sticky:l,rowHeight:u,viewportHeight:c,categoryHeaderHeight:d}=r(),m=n?.current,g=s?.current;if(!m||!g||!u||!d||!c)return;0===i&&g.scrollTo({top:0,behavior:"instant"});let f=m.querySelector(`[aria-rowindex="${i}"]`);if(!(f instanceof HTMLElement))return;let h=f.offsetTop,p=getComputedStyle(f),w=Number.parseFloat(p.scrollMarginTop),v=Number.parseFloat(p.scrollMarginBottom),y=a+w;l&&h<a+c/2&&(y+=d);let j=y+c-v;(h<y||h+u>j)&&g.scrollTo({top:Math.max(h<y+d?h-Math.max(l?d:0,w):h-c+u+v,0),behavior:"instant"})},onActiveEmojiReset:()=>{e({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:e=>{r().updateViewportState({rowHeight:e})},onCategoryHeaderHeightChange:e=>{r().updateViewportState({categoryHeaderHeight:e})},onViewportSizeChange:(e,t)=>{r().updateViewportState({viewportWidth:e,viewportHeight:t})},onViewportScroll:e=>{a=e,r().updateViewportState()}}),s={},l=null,u=null,c=new Set,d=()=>{if(l)for(let e of(s=l,l=null,c))e(s);u=null},m=()=>l??s,s=n(f=e=>{Object.assign(l??=s,"function"==typeof e?e(m()):e),u||(u=requestAnimationFrame(d))},m),{get:m,set:f,subscribe:e=>(c.add(e),()=>c.delete(e))}}),[y,j]=(0,a.useState)(!1),x=(0,a.useRef)(null),b=(0,a.useCallback)(e=>{e&&(x.current=e,v.set({rootRef:x}))},[]);el(()=>{v.set({locale:D(e)})},[e]),el(()=>{v.set({columns:t})},[t]),el(()=>{v.set({sticky:g})},[g]),el(()=>{v.set({skinTone:z(r)})},[r]);let k=(0,a.useCallback)(e=>{l?.(e);let{searchRef:t,viewportRef:r}=v.get(),o=e.target===t?.current||e.target.hasAttribute("frimousse-search"),i=e.target===r?.current||e.target.hasAttribute("frimousse-viewport");e.isDefaultPrevented()||(j(o||i),e.isDefaultPrevented()||(j(o||i),i?v.get().onActiveEmojiChange("keyboard",0,0):o&&""===v.get().search&&v.set({interaction:"none"})))},[l]),E=(0,a.useCallback)(e=>{u?.(e),e.isDefaultPrevented()||e.currentTarget.contains(e.relatedTarget)||j(!1)},[u]);return el(()=>{y||v.get().onActiveEmojiReset()},[y]),(0,a.useImperativeHandle)(h,()=>x.current),(0,a.useEffect)(()=>{if(y)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){if(e.defaultPrevented||!e.key.startsWith("Arrow")&&"Enter"!==e.key)return;let{data:t,onEmojiSelect:r,onActiveEmojiChange:o,interaction:i,activeColumnIndex:n,activeRowIndex:a}=v.get();if("Enter"===e.key){let t=B(v.get());t&&(e.preventDefault(),r(t))}if(e.key.startsWith("Arrow")){let r=n,s=a;if(e.preventDefault(),"none"!==i){if(t?.rows&&t.rows.length>0)switch(e.key){case"ArrowLeft":if(0===r){let e=s-1,o=t.rows[e];o&&(s=e,r=o.emojis.length-1)}else r-=1;break;case"ArrowRight":if(r===t.rows[s].emojis.length-1){let e=s+1;t.rows[e]&&(s=e,r=0)}else r+=1;break;case"ArrowUp":{let e=t.rows[s-1];e&&(s-=1,e.emojis[r]||(r=e.emojis.length-1));break}case"ArrowDown":{let e=t.rows[s+1];e&&(s+=1,e.emojis[r]||(r=e.emojis.length-1))}}o("keyboard",r,s)}else o("keyboard",0,0)}}},[y]),el(()=>{let e=null,t=null,r=null,o=null,i=v.subscribe(i=>{x.current&&(e!==i.viewportWidth&&(e=i.viewportWidth,x.current.style.setProperty("--frimousse-viewport-width",`${i.viewportWidth}px`)),t!==i.viewportHeight&&(t=i.viewportHeight,x.current.style.setProperty("--frimousse-viewport-height",`${i.viewportHeight}px`)),r!==i.rowHeight&&(r=i.rowHeight,x.current.style.setProperty("--frimousse-row-height",`${i.rowHeight}px`)),o!==i.categoryHeaderHeight&&(o=i.categoryHeaderHeight,x.current.style.setProperty("--frimousse-category-header-height",`${i.categoryHeaderHeight}px`)))}),{viewportWidth:n,viewportHeight:a,rowHeight:s,categoryHeaderHeight:l}=v.get();return n&&x.current.style.setProperty("--frimousse-viewport-width",`${n}px`),a&&x.current.style.setProperty("--frimousse-viewport-height",`${a}px`),s&&x.current.style.setProperty("--frimousse-row-height",`${s}px`),l&&x.current.style.setProperty("--frimousse-category-header-height",`${l}px`),i},[]),(0,s.jsx)("div",{"data-focused":y?"":void 0,"frimousse-root":"",onBlurCapture:E,onFocusCapture:k,...f,ref:b,style:{"--frimousse-emoji-font":m,...d},children:(0,s.jsxs)(U,{store:v,children:[(0,s.jsx)(eu,{emojiVersion:i,emojibaseUrl:n}),c]})})}),ed=(0,a.forwardRef)(({value:e,defaultValue:t,onChange:r,...o},i)=>{let n=O(),l=(0,a.useRef)(null),u=(0,a.useCallback)(e=>{e&&(l.current=e,n.set({searchRef:l}))},[]),c="string"==typeof e,d=(0,a.useRef)(c);(0,a.useEffect)(()=>{d.current=c},[c]),el(()=>{n.set({search:"string"==typeof e?e:"string"==typeof t?t:""})},[]),el(()=>{"string"==typeof e&&n.get().onSearchChange(e)},[e]);let m=(0,a.useCallback)(e=>{r?.(e),e.isDefaultPrevented()||n.get().onSearchChange(e.target.value)},[r]);return(0,a.useImperativeHandle)(i,()=>l.current),(0,s.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Searchâ€¦",spellCheck:!1,type:"search",...o,defaultValue:t,onChange:m,ref:u,value:e})}),em=(0,a.memo)(()=>{let e=ei();return e?(0,s.jsx)("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:e.label}):null}),eg=(0,a.forwardRef)(({children:e,onScroll:t,onKeyDown:r,style:o,...i},n)=>{let l=O(),u=(0,a.useRef)(null),c=(0,a.useCallback)(e=>{e&&(u.current=e,l.set({viewportRef:u}))},[]),d=_(l,J),m=_(l,G),g=(0,a.useCallback)(e=>{t?.(e),l.get().onViewportScroll(e.currentTarget.scrollTop)},[t]);return el(()=>{if(!u.current)return;let e=new ResizeObserver(([e])=>{let t=e?.borderBoxSize[0]?.inlineSize??0,r=e?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:o,viewportHeight:i,viewportWidth:n}=l.get();(i!==r||n!==t)&&o(t,r)});return e.observe(u.current),l.get().onViewportSizeChange(u.current.offsetWidth,u.current.clientHeight),()=>{e.disconnect()}},[]),(0,a.useImperativeHandle)(n,()=>u.current),(0,s.jsxs)("div",{"frimousse-viewport":"",...i,onScroll:g,ref:c,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:"number"==typeof d&&"number"==typeof m?`var(--frimousse-viewport-width, auto) calc(${d} * var(--frimousse-row-height) + ${m} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...o},children:[(0,s.jsx)(em,{}),e]})});function ef(e,t,r){return{emoji:{...e,isActive:r},role:"gridcell","aria-colindex":t,"aria-selected":r||void 0,"aria-label":e.label,"data-active":r?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function eh(e,t=!1){return{role:t?void 0:"row","aria-rowindex":t?void 0:e,"frimousse-row":"",style:{contain:t?void 0:"content",height:t?void 0:"var(--frimousse-row-height)",display:"flex"}}}function ep(e,t){return{"frimousse-category":"",style:{contain:"content",top:t?`calc(${e} * var(--frimousse-category-header-height) + ${t.startRowIndex} * var(--frimousse-row-height))`:void 0,height:t?`calc(var(--frimousse-category-header-height) + ${t.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function ew(e,t=!1,r=!0){return{category:e,"frimousse-category-header":"",style:{contain:t?void 0:"layout paint",height:t?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:r?"sticky":void 0,top:0}}}function ev(e,t,r,o){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${e} * var(--frimousse-row-height) + ${t} * var(--frimousse-category-header-height))`,paddingTop:`calc(${r} * var(--frimousse-row-height) + ${o} * var(--frimousse-category-header-height))`}}}function ey(e,t,r){return{"aria-colcount":e,"aria-rowcount":t,"frimousse-list":"",style:{"--frimousse-list-columns":e,...r},role:"grid"}}function ej(e){e.preventDefault()}var ex=(0,a.memo)(({Emoji:e,emoji:t,columnIndex:r,rowIndex:o})=>{let i=O(),n=_(i,e=>B(e)?.emoji===t.emoji),l=(0,a.useCallback)(()=>{i.get().onEmojiSelect(t)},[t]),u=(0,a.useCallback)(()=>{i.get().onActiveEmojiChange("pointer",r,o)},[r,o]),c=(0,a.useCallback)(()=>{i.get().onActiveEmojiReset()},[]);return(0,s.jsx)(e,{...ef(t,r,n),onClick:l,onPointerDown:ej,onPointerEnter:u,onPointerLeave:c})}),eb=(0,a.memo)(({Row:e,Emoji:t,rowIndex:r})=>{let o=_(O(),e=>e.data?.rows[r],Z);return o?(0,s.jsx)(e,{...eh(r),children:o.emojis.map((e,o)=>(0,s.jsx)(ex,{Emoji:t,columnIndex:o,emoji:e,rowIndex:r},e.label))}):null}),ek=(0,a.memo)(({CategoryHeader:e,categoryIndex:t})=>{let r=O(),o=_(r,e=>e.data?.categories[t],ea),i=L(r,"sticky");return o?(0,s.jsx)("div",{...ep(t,o),children:(0,s.jsx)(e,{...ew({label:o.label},!1,i)})}):null}),eE=(0,a.memo)(({CategoryHeader:e,Row:t,Emoji:r})=>{let o=(0,a.useRef)(null),i=O(),n=L(i,"columns"),l=(0,a.useMemo)(()=>Array(n).fill({emoji:"ðŸ™‚",label:""}),[n]),u=(0,a.useMemo)(()=>({label:"Category"}),[]),c=(0,a.useRef)(null),d=(0,a.useRef)(null);return el(()=>{let e=o.current?.parentElement?.parentElement;if(!e||!c.current||!d.current)return;let t=new ResizeObserver(e=>{for(let t of e){let e=t.contentRect.height,{onRowHeightChange:r,onCategoryHeaderHeightChange:o,rowHeight:n,categoryHeaderHeight:a}=i.get();t.target===c.current&&n!==e&&r(e),t.target===d.current&&a!==e&&o(e)}});t.observe(e),t.observe(c.current),t.observe(d.current);let{onRowHeightChange:r,onCategoryHeaderHeightChange:n}=i.get();return r(c.current.clientHeight),n(d.current.clientHeight),()=>{t.disconnect()}},[]),(0,s.jsxs)("div",{"aria-hidden":!0,ref:o,style:{height:0,visibility:"hidden"},children:[(0,s.jsx)("div",{"frimousse-row-sizer":"",ref:c,children:(0,s.jsx)(t,{...eh(-1,!0),children:l.map((e,t)=>(0,s.jsx)(r,{...ef(e,t,!1)},t))})}),(0,s.jsx)("div",{...ep(-1),children:(0,s.jsx)("div",{"frimousse-category-header-sizer":"",ref:d,children:(0,s.jsx)(e,{...ew(u,!0)})})})]})});function eC({category:e,...t}){return(0,s.jsx)("div",{...t,children:e.label})}function eR({emoji:e,...t}){return(0,s.jsx)("button",{type:"button",...t,children:e.emoji})}function eS({...e}){return(0,s.jsx)("div",{...e})}var eH=(0,a.forwardRef)(({style:e,components:t,...r},o)=>{let i=O(),n=(0,a.useRef)(null),l=(0,a.useCallback)(e=>{e&&(n.current=e,i.set({listRef:n}))},[]),u=t?.CategoryHeader??eC,c=t?.Emoji??eR,d=t?.Row??eS,m=L(i,"columns"),g=L(i,"viewportStartRowIndex"),f=L(i,"viewportEndRowIndex"),h=_(i,J),p=_(i,Y,ea),w=(0,a.useMemo)(()=>p?.filter(e=>e<g).length??0,[p,g]),v=p?.length??0;return(0,a.useImperativeHandle)(o,()=>n.current),h&&p&&0!==v?(0,s.jsx)("div",{...ey(m,h,e),...r,ref:l,children:(0,s.jsxs)("div",{...ev(h,v,g,w),children:[(0,s.jsx)(eE,{CategoryHeader:u,Emoji:c,Row:d}),Array.from({length:f-g+1},(e,t)=>{let r=g+t,o=p.indexOf(r);return(0,s.jsxs)(a.Fragment,{children:[o>=0&&(0,s.jsx)("div",{style:{height:"var(--frimousse-category-header-height)"}}),(0,s.jsx)(eb,{Emoji:c,Row:d,rowIndex:r})]},r)}),Array.from({length:v},(e,t)=>(0,s.jsx)(ek,{CategoryHeader:u,categoryIndex:t},t))]})}):(0,s.jsx)("div",{...ey(m,0,e),...r,children:(0,s.jsx)("div",{...ev(0,0,0,0),children:(0,s.jsx)(eE,{CategoryHeader:u,Emoji:c,Row:d})})})}),eI=(0,a.forwardRef)(({emoji:e,onClick:t,"aria-label":r="Change skin tone",...o},i)=>{let n=_(O(),Q,ea),[l,u,c]=en(e),d=(0,a.useMemo)(()=>Math.max(0,c.findIndex(e=>e.skinTone===l)),[l,c]),m=c[d],g=c[(d+1)%c.length].skinTone,f="none"===l?void 0:n?.[l],h="none"===g?void 0:n?.[g],p=(0,a.useCallback)(e=>{t?.(e),e.isDefaultPrevented()||u(g)},[t,u,g]);return(0,s.jsx)("button",{type:"button",...o,"aria-label":r+(h?` (${h})`:""),"aria-live":"polite","aria-valuetext":f,"frimousse-skin-tone-selector":"",onClick:p,ref:i,children:m.emoji})});function eT({children:e,...t}){return _(O(),K)?(0,s.jsx)("span",{"frimousse-loading":"",...t,children:e}):null}function eA({children:e}){return e({search:_(O(),W)})}function eP({children:e,...t}){return _(O(),q)?(0,s.jsx)("span",{"frimousse-empty":"",...t,children:"function"==typeof e?(0,s.jsx)(eA,{children:e}):e}):null}function eV({children:e}){return e({emoji:ei()})}function eF({children:e,emoji:t}){let[r,o,i]=en(t);return e({skinTone:r,setSkinTone:o,skinToneVariations:i})}function e$({editor:e}){(0,r.useHookUpdate)(e);let[t,l]=(0,a.useState)(!1);return(0,s.jsxs)(r.Dialog,{onOpenChange:l,open:t,children:[(0,s.jsx)(r.DialogTrigger,{type:"button","aria-label":"Add Emoji",className:(0,i.twMerge)((0,r.toggleVariants)()),disabled:!e.isEditable,children:(0,s.jsx)(o.Smile,{className:"size-4"})}),(0,s.jsxs)(r.DialogContent,{full:!0,onCloseAutoFocus:t=>{e.commands.focus(),t.preventDefault()},children:[(0,s.jsx)(r.DialogTitle,{className:"sr-only",children:"Insert Emoji"}),(0,s.jsxs)(u.Root,{className:"flex w-full flex-col h-[368px] isolate max-sm:-mt-3",onEmojiSelect:t=>{e.chain().insertContent(t.emoji).focus().run(),l(!1)},children:[(0,s.jsx)(u.Search,{type:"text",className:(0,i.twMerge)((0,r.inputVariants)({variant:"ghost"}))}),(0,s.jsxs)(u.Viewport,{className:"relative flex-1 outline-hidden",children:[(0,s.jsx)(u.Loading,{className:"absolute inset-0 flex items-center justify-center text-fc-muted-foreground text-sm",children:"Loadingâ€¦"}),(0,s.jsx)(u.Empty,{className:"absolute inset-0 flex items-center justify-center text-fc-muted-foreground text-sm",children:"No emoji found."}),(0,s.jsx)(u.List,{className:"select-none pb-1.5",components:{CategoryHeader:e=>{var{category:t}=e,r=(0,n.__objRest)(e,["category"]);return(0,s.jsx)("div",(0,n.__spreadProps)((0,n.__spreadValues)({className:"px-4 pt-3 pb-1.5 font-medium text-fc-muted-foreground bg-fc-popover text-xs"},r),{children:t.label}))},Row:e=>{var{children:t}=e,r=(0,n.__objRest)(e,["children"]);return(0,s.jsx)("div",(0,n.__spreadProps)((0,n.__spreadValues)({className:"scroll-my-1.5 px-1.5"},r),{children:t}))},Emoji:e=>{var{emoji:t}=e,r=(0,n.__objRest)(e,["emoji"]);return(0,s.jsx)("button",(0,n.__spreadProps)((0,n.__spreadValues)({className:"flex size-11 items-center justify-center rounded-md text-3xl data-[active]:bg-fc-accent"},r),{children:t.emoji}))}}})]})]})]})]})}ec.displayName="EmojiPicker.Root",ed.displayName="EmojiPicker.Search",eg.displayName="EmojiPicker.Viewport",eH.displayName="EmojiPicker.List",eT.displayName="EmojiPicker.Loading",eP.displayName="EmojiPicker.Empty",eI.displayName="EmojiPicker.SkinToneSelector",eV.displayName="EmojiPicker.ActiveEmoji",eF.displayName="EmojiPicker.SkinTone",e.s(["default",()=>e$],18352)}]);